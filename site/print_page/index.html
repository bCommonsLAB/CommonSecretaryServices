
<!doctype html>
<html lang="de" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://example.local/print_page/">
      
      
      
      
      <link rel="icon" href="../assets/images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Gesamtdokumentation - Common Secretary Services</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
    <script>__md_scope=new URL("/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#section-2" class="md-skip">
          Zum Inhalt
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Kopfzeile">
    <a href=".." title="Common Secretary Services" class="md-header__button md-logo" aria-label="Common Secretary Services" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Common Secretary Services
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Gesamtdokumentation
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Suche" placeholder="Suche" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Suche">
        
        <button type="reset" class="md-search__icon md-icon" title="Zurücksetzen" aria-label="Zurücksetzen" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Suche wird initialisiert
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://example.local/repo" title="Zum Repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Example
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Common Secretary Services" class="md-nav__button md-logo" aria-label="Common Secretary Services" data-md-component="logo">
      
  <img src="../assets/images/logo.png" alt="logo">

    </a>
    Common Secretary Services
  </label>
  
    <div class="md-nav__source">
      <a href="https://example.local/repo" title="Zum Repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Example
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    « Zur Anwendung
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Code Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Code Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/code-index/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Code Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/module-hierarchy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module Hierarchy
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            API Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3_2" >
        
          
          <label class="md-nav__link" for="__nav_2_3_2" id="__nav_2_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Endpoints
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3_2">
            <span class="md-nav__icon md-icon"></span>
            Endpoints
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/audio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Audio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Video
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/pdf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PDF
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/imageocr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ImageOCR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/transformer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transformer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/session/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Session
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/event/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Event
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/track/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Track
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/story/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Story
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/jobs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jobs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/event-job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Event Job
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/endpoints/common/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Common
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/api/openapi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OpenAPI / Swagger
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Data Models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Data Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/data-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/data-models/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/data-models/llm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLM Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/data-models/job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Job Models
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/configuration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/environment-variables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment Variables
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Explanations
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Explanations
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Async Events
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Async Events
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../explanations/async-events/secretary-job-worker-detailed/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Secretary Job Worker – Detailed
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../explanations/async-events/handlers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Handlers
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Inhaltsverzeichnis">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Inhaltsverzeichnis
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      2 Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-2-2" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Code Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 Code Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference-code-index" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 Code Index
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architecture-module-hierarchy" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 Module Hierarchy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-2-3" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 API Reference
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3 API Reference">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference-api-overview" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.1 Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-2-3-2" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2 Endpoints
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3.2 Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-audio" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.1 Audio
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-video" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.2 Video
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-pdf" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.3 PDF
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-imageocr" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.4 ImageOCR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-transformer" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.5 Transformer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-session" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.6 Session
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-event" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.7 Event
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-track" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.8 Track
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-story" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.9 Story
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-jobs" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.10 Jobs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-event-job" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.11 Event Job
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-endpoints-common" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.2.12 Common
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-api-openapi" class="md-nav__link">
    <span class="md-ellipsis">
      2.3.3 OpenAPI / Swagger
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-2-4" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 Data Models
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4 Data Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reference-data-models" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.1 Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-data-models-base" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.2 Base Models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-data-models-llm" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.3 LLM Models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-data-models-job" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.4 Job Models
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 Environment Variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3" class="md-nav__link">
    <span class="md-ellipsis">
      3 Explanations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 Explanations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#section-3-1" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Async Events
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 Async Events">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#explanations-async-events-secretary-job-worker-detailed" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1 Secretary Job Worker – Detailed
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#explanations-async-events-handlers" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.2 Handlers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        
                    <section class='print-page md-section' id='section-2' heading-number='2'>
                        <h1>Reference<a class='headerlink' href='#section-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="reference" heading-number="2.1"><h1 id="reference-reference-manual">Reference Manual<a class="headerlink" href="#reference-reference-manual" title="Permanent link">&para;</a></h1>
<p>Complete reference documentation for Common Secretary Services. This section provides comprehensive documentation for developers and administrators.</p>
<h2 id="reference-overview">Overview<a class="headerlink" href="#reference-overview" title="Permanent link">&para;</a></h2>
<p>The reference manual is organized into the following sections:</p>
<ul>
<li><strong>Code Reference</strong>: Complete index of all documented Python files and module hierarchy</li>
<li><strong>API Reference</strong>: Complete API documentation with examples</li>
<li><strong>Data Models</strong>: Documentation of all dataclasses and Pydantic models</li>
<li><strong>Configuration</strong>: Complete configuration reference</li>
<li><strong>Environment Variables</strong>: All environment variables documented</li>
</ul>
<h2 id="reference-code-reference">Code Reference<a class="headerlink" href="#reference-code-reference" title="Permanent link">&para;</a></h2>
<h3 id="reference-code-index"><a href="#reference-code-index">Code Index</a><a class="headerlink" href="#reference-code-index" title="Permanent link">&para;</a></h3>
<p>Automatically generated index of all documented Python files. Provides an overview of:
- All documented modules with descriptions
- Exported classes and functions
- Module dependencies
- Usage contexts</p>
<p><strong>Total</strong>: 105+ documented files</p>
<h3 id="reference-module-hierarchy"><a href="#reference-architecture-module-hierarchy.md">Module Hierarchy</a><a class="headerlink" href="#reference-module-hierarchy" title="Permanent link">&para;</a></h3>
<p>Architectural overview showing:
- Module structure and organization
- Dependency relationships
- Data flow between modules
- Entry points and initialization</p>
<h2 id="reference-api-reference">API Reference<a class="headerlink" href="#reference-api-reference" title="Permanent link">&para;</a></h2>
<h3 id="reference-api-overview"><a href="#reference-api-overview">API Overview</a><a class="headerlink" href="#reference-api-overview" title="Permanent link">&para;</a></h3>
<p>Complete overview of all available API endpoints organized by processor type.</p>
<h3 id="reference-openapi-swagger"><a href="#reference-api-openapi">OpenAPI / Swagger</a><a class="headerlink" href="#reference-openapi-swagger" title="Permanent link">&para;</a></h3>
<p>Interactive API documentation via Swagger UI. Access at <code>/api/doc</code> when the server is running.</p>
<h2 id="reference-data-models">Data Models<a class="headerlink" href="#reference-data-models" title="Permanent link">&para;</a></h2>
<h3 id="reference-data-models-index"><a href="#reference-data-models">Data Models Index</a><a class="headerlink" href="#reference-data-models-index" title="Permanent link">&para;</a></h3>
<p>Complete documentation of all dataclasses and Pydantic models used throughout the application.</p>
<h2 id="reference-configuration">Configuration<a class="headerlink" href="#reference-configuration" title="Permanent link">&para;</a></h2>
<h3 id="reference-configuration-reference"><a href="#reference-configuration">Configuration Reference</a><a class="headerlink" href="#reference-configuration-reference" title="Permanent link">&para;</a></h3>
<p>Complete documentation of all <code>config.yaml</code> options including:
- Cache configuration
- Worker settings
- Processor-specific settings
- Logging configuration
- MongoDB settings</p>
<h3 id="reference-environment-variables"><a href="#reference-environment-variables">Environment Variables</a><a class="headerlink" href="#reference-environment-variables" title="Permanent link">&para;</a></h3>
<p>Documentation of all environment variables required for the application.</p>
<h2 id="reference-quick-links">Quick Links<a class="headerlink" href="#reference-quick-links" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#reference-code-index">Code Index</a> - Browse all documented files</li>
<li><a href="#reference-architecture-module-hierarchy.md">Module Hierarchy</a> - Understand the architecture</li>
<li><a href="#reference-api-overview">API Overview</a> - Explore API endpoints</li>
<li><a href="#reference-configuration">Configuration</a> - Configure the application</li>
<li><a href="#reference-environment-variables">Environment Variables</a> - Set up environment</li>
</ul>
<h2 id="reference-related-documentation">Related Documentation<a class="headerlink" href="#reference-related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#explanations-architecture-overview.md">Architecture Overview</a> - High-level architecture</li>
<li><a href="#processors">Processor Documentation</a> - Individual processor guides</li>
<li><a href="#guide-getting-started">Development Guidelines</a> - Coding standards</li>
</ul></section>
                    <section class='print-page md-section' id='section-2-2' heading-number='2.2'>
                        <h1>Code Reference<a class='headerlink' href='#section-2-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="reference-code-index" heading-number="2.2.1"><h1 id="reference-code-index-code-index">Code Index<a class="headerlink" href="#reference-code-index-code-index" title="Permanent link">&para;</a></h1>
<p>Automatically generated index of all documented Python files.</p>
<h2 id="reference-code-index-overview">Overview<a class="headerlink" href="#reference-code-index-overview" title="Permanent link">&para;</a></h2>
<p>Total: 105 documented files</p>
<h2 id="reference-code-index-entry-points">Entry Points<a class="headerlink" href="#reference-code-index-entry-points" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>File</th>
<th>Module</th>
<th>Description</th>
<th>Exports</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>src\dashboard\app.py</code></td>
<td>dashboard.app</td>
<td>Main Flask Application - Central app initialization and lifecycle management</td>
<td>app: Flask - Main Flask application instance</td>
</tr>
<tr>
<td><code>src\main.py</code></td>
<td>main</td>
<td>Server Entry Point - Starts the Flask application</td>
<td>(no direct exports, executed as script)</td>
</tr>
</tbody>
</table>
<h2 id="reference-code-index-other-modules">Other Modules<a class="headerlink" href="#reference-code-index-other-modules" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>File</th>
<th>Module</th>
<th>Description</th>
<th>Exports</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>src\__init__.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\api\__init__.py</code></td>
<td>api</td>
<td>API Module - Alternative app factory for API-only deployment</td>
<td>create_app(): Flask - Creates and configures Flask app, run_server(): None - Starts the API server, app: Flask - Application instance (created on import)</td>
</tr>
<tr>
<td><code>src\api\models\responses.py</code></td>
<td>api.models.responses</td>
<td>API Response Models - Generic response classes for API responses</td>
<td>BaseModel: Dataclass - Base class for all API models (frozen=True), BaseResponse: Dataclass - Base response for all API responses (frozen=True, slots=True, Generic)</td>
</tr>
<tr>
<td><code>src\api\routes\__init__.py</code></td>
<td>api.routes</td>
<td>API Route Registration - Central API route registration and authentication</td>
<td>blueprint: Blueprint - Flask blueprint for API routes, api: Api - Flask-RESTX API instance with Swagger UI</td>
</tr>
<tr>
<td><code>src\api\routes\audio_routes.py</code></td>
<td>api.routes.audio_routes</td>
<td>Audio API Routes - Flask-RESTX endpoints for audio processing</td>
<td>audio_ns: Namespace - Flask-RESTX namespace for audio endpoints, upload_parser: RequestParser - Parser for upload parameters</td>
</tr>
<tr>
<td><code>src\api\routes\common_routes.py</code></td>
<td>api.routes.common_routes</td>
<td>Common API Routes - Flask-RESTX endpoints for general operations</td>
<td>common_ns: Namespace - Flask-RESTX namespace for common endpoints</td>
</tr>
<tr>
<td><code>src\api\routes\event_job_routes.py</code></td>
<td>api.routes.event_job_routes</td>
<td>Event Job API Routes - Flask-RESTX endpoints for session job management</td>
<td>event_job_ns: Namespace - Flask-RESTX namespace for event job endpoints, DateTimeEncoder: Class - JSON encoder for datetime objects</td>
</tr>
<tr>
<td><code>src\api\routes\event_routes.py</code></td>
<td>api.routes.event_routes</td>
<td>Event API Routes - Flask-RESTX endpoints for event processing</td>
<td>event_ns: Namespace - Flask-RESTX namespace for event endpoints</td>
</tr>
<tr>
<td><code>src\api\routes\imageocr_routes.py</code></td>
<td>api.routes.imageocr_routes</td>
<td>ImageOCR API Routes - Flask-RESTX endpoints for image OCR processing</td>
<td>imageocr_ns: Namespace - Flask-RESTX namespace for ImageOCR endpoints, imageocr_upload_parser: RequestParser - Parser for upload parameters, imageocr_url_parser: RequestParser - Parser for URL parameters</td>
</tr>
<tr>
<td><code>src\api\routes\pdf_routes.py</code></td>
<td>api.routes.pdf_routes</td>
<td>PDF API Routes - Flask-RESTX endpoints for PDF processing</td>
<td>pdf_ns: Namespace - Flask-RESTX namespace for PDF endpoints</td>
</tr>
<tr>
<td><code>src\api\routes\secretary_job_routes.py</code></td>
<td>api.routes.secretary_job_routes</td>
<td>Secretary Job API Routes - Flask-RESTX endpoints for generic job management</td>
<td>secretary_ns: Namespace - Flask-RESTX namespace for secretary job endpoints, DateTimeEncoder: Class - JSON encoder for datetime objects, get_repo(): SecretaryJobRepository - Factory function for repository</td>
</tr>
<tr>
<td><code>src\api\routes\session_routes.py</code></td>
<td>api.routes.session_routes</td>
<td>Session API Routes - Flask-RESTX endpoints for session processing</td>
<td>session_ns: Namespace - Flask-RESTX namespace for session endpoints</td>
</tr>
<tr>
<td><code>src\api\routes\story_routes.py</code></td>
<td>api.routes.story_routes</td>
<td>Story API Routes - Flask-RESTX endpoints for story generation</td>
<td>story_ns: Namespace - Flask-RESTX namespace for story endpoints, CustomJSONEncoder: Class - JSON encoder for complex objects</td>
</tr>
<tr>
<td><code>src\api\routes\track_routes.py</code></td>
<td>api.routes.track_routes</td>
<td>Track API Routes - Flask-RESTX endpoints for track processing</td>
<td>track_ns: Namespace - Flask-RESTX namespace for track endpoints</td>
</tr>
<tr>
<td><code>src\api\routes\transformer_routes.py</code></td>
<td>api.routes.transformer_routes</td>
<td>Transformer API Routes - Flask-RESTX endpoints for text transformation</td>
<td>transformer_ns: Namespace - Flask-RESTX namespace for transformer endpoints</td>
</tr>
<tr>
<td><code>src\api\routes\video_routes.py</code></td>
<td>api.routes.video_routes</td>
<td>Video API Routes - Flask-RESTX endpoints for video and YouTube processing</td>
<td>video_ns: Namespace - Flask-RESTX namespace for video endpoints, video_upload_parser: RequestParser - Parser for video upload parameters, frames_form_parser: RequestParser - Parser for frame extraction parameters</td>
</tr>
<tr>
<td><code>src\core\config.py</code></td>
<td>core.config</td>
<td>Central Configuration Management - Loads and manages application configuration</td>
<td>Config: Class - Singleton configuration management, ApplicationConfig: TypedDict - Type definition for overall configuration, ServerConfig: TypedDict - Server configuration (+4 weitere)</td>
</tr>
<tr>
<td><code>src\core\config_keys.py</code></td>
<td>core.config_keys</td>
<td>API Key Management - Manages sensitive configuration values from environment variables</td>
<td>ConfigKeys: Class - Singleton for API key management</td>
</tr>
<tr>
<td><code>src\core\config_utils.py</code></td>
<td>core.config_utils</td>
<td>Configuration Utilities - Helper functions for configuration processing</td>
<td>replace_env_vars(): Union[Dict, List, str, Any] - Replaces environment variables in configuration, load_dotenv(): None - Loads .env file</td>
</tr>
<tr>
<td><code>src\core\exceptions.py</code></td>
<td>core.exceptions</td>
<td>Exception Definitions - Central error handling for processing service</td>
<td>BaseProcessingException: Class - Base exception with details, RateLimitExceeded: Class - Rate limit error, FileSizeLimitExceeded: Class - File size error (+4 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\__init__.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\core\models\audio.py</code></td>
<td>core.models.audio</td>
<td>Audio Models - Dataclasses for audio processing and transcription</td>
<td>AudioProcessingError: Class - Audio-specific exception, TranscriptionSegment: Dataclass - Transcription segment, TranscriptionResult: Dataclass - Transcription result (+4 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\base.py</code></td>
<td>core.models.base</td>
<td>Base Models - Fundamental dataclasses for API responses and processing info</td>
<td>BaseResponse: Dataclass - Base class for all API responses, ErrorInfo: Dataclass - Error information, RequestInfo: Dataclass - Request information (+2 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\enums.py</code></td>
<td>core.models.enums</td>
<td>Enums and Type Aliases - Central enum definitions and type aliases</td>
<td>ProcessorType: Enum - Processor types, ProcessingStatus: Enum - Processing status, OutputFormat: Enum - Output formats (+3 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\event.py</code></td>
<td>core.models.event</td>
<td>Event Models - Pydantic models for event processing and track aggregation</td>
<td>EventInput: Pydantic BaseModel - Event input data, EventOutput: Pydantic BaseModel - Event output data, EventData: Pydantic BaseModel - Event data container (+2 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\job_models.py</code></td>
<td>core.models.job_models</td>
<td>Job Models - Dataclasses for asynchronous job processing and batch management</td>
<td>JobStatus: Enum - Job status values, AccessVisibility: Enum - Visibility values, AccessControl: Dataclass - Access control (frozen=True) (+4 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\llm.py</code></td>
<td>core.models.llm</td>
<td>LLM Models - Dataclasses for Language Model interactions and tracking</td>
<td>LLModel: Dataclass - Basic LLM information, LLMRequest: Dataclass - Detailed request information, LLMInfo: Dataclass - Central tracking class for LLM usage</td>
</tr>
<tr>
<td><code>src\core\models\metadata.py</code></td>
<td>core.models.metadata</td>
<td>Metadata Models - Dataclasses for metadata extraction from various media types</td>
<td>ContentMetadata: Dataclass - Content metadata (frozen=True, slots=True), TechnicalMetadata: Dataclass - Technical metadata, MetadataData: Dataclass - Metadata container (+1 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\notion.py</code></td>
<td>core.models.notion</td>
<td>Notion Models - Dataclasses for Notion integration</td>
<td>NotionBlock: Dataclass - Notion block (frozen=True), NotionPage: Dataclass - Notion page, NotionResponse: Dataclass - API response for Notion processing</td>
</tr>
<tr>
<td><code>src\core\models\pdf.py</code></td>
<td>core.models.pdf</td>
<td>PDF Models - Dataclasses for PDF processing and text extraction</td>
<td>PDFMetadata: Dataclass - PDF metadata (frozen=True for immutability), PDFProcessingResult: Class - Cacheable processing result, PDFResponse: Dataclass - API response for PDF processing</td>
</tr>
<tr>
<td><code>src\core\models\protocols.py</code></td>
<td>core.models.protocols</td>
<td>Protocol Definitions - Type protocols for structural subtyping</td>
<td>CacheableResult: Protocol - Protocol for cacheable results</td>
</tr>
<tr>
<td><code>src\core\models\session.py</code></td>
<td>core.models.session</td>
<td>Session Models - Dataclasses for session processing and media management</td>
<td>SessionInput: Dataclass - Session input data (frozen=True), SessionOutput: Dataclass - Session output data, SessionData: Dataclass - Session data container (+4 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\story.py</code></td>
<td>core.models.story</td>
<td>Story Models - Dataclasses for story generation from sessions</td>
<td>StoryProcessorInput: Dataclass - Story input data (frozen=True), StoryProcessorOutput: Dataclass - Story output data, StoryData: Dataclass - Story data container (+2 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\track.py</code></td>
<td>core.models.track</td>
<td>Track Models - Dataclasses for track processing and session aggregation</td>
<td>TrackInput: Dataclass - Track input data (frozen=True), TrackOutput: Dataclass - Track output data, TrackData: Dataclass - Track data container (+1 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\transformer.py</code></td>
<td>core.models.transformer</td>
<td>Transformer Models - Dataclasses for text transformation and templates</td>
<td>CacheableResult: Protocol - Protocol for cacheable results, TemplateField: Dataclass - Template field definition, TemplateFields: Dataclass - Template fields collection (+5 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\translation.py</code></td>
<td>core.models.translation</td>
<td>Translation Models - Dataclasses for translation management</td>
<td>Translation: Dataclass - Translation entry (slots=True)</td>
</tr>
<tr>
<td><code>src\core\models\video.py</code></td>
<td>core.models.video</td>
<td>Video Models - Dataclasses for video processing and audio extraction</td>
<td>VideoProcessingError: Class - Video-specific exception, VideoSource: Dataclass - Video source (URL/file), VideoMetadataProtocol: Protocol - Protocol for video metadata (+3 weitere)</td>
</tr>
<tr>
<td><code>src\core\models\youtube.py</code></td>
<td>core.models.youtube</td>
<td>YouTube Models - Dataclasses for YouTube video processing</td>
<td>YoutubeMetadataProtocol: Protocol - Protocol for YouTube metadata, YoutubeMetadata: Dataclass - YouTube metadata (frozen=True), YoutubeProcessingResult: Class - Cacheable processing result (+1 weitere)</td>
</tr>
<tr>
<td><code>src\core\mongodb\__init__.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\core\mongodb\cache_setup.py</code></td>
<td>core.mongodb.cache_setup</td>
<td>MongoDB Cache Setup - Setup script for MongoDB cache collections and indexes</td>
<td>setup_cache_collections(): Dict[str, List[str]] - Sets up all cache collections, setup_mongodb_caching(): None - Main setup function for MongoDB caching</td>
</tr>
<tr>
<td><code>src\core\mongodb\connection.py</code></td>
<td>core.mongodb.connection</td>
<td>MongoDB Connection - Singleton management of MongoDB connection</td>
<td>get_mongodb_client(): MongoClient - Singleton MongoDB client, get_mongodb_database(): Database - MongoDB database instance, setup_mongodb_connection(): None - Initializes MongoDB connection (+2 weitere)</td>
</tr>
<tr>
<td><code>src\core\mongodb\repository.py</code></td>
<td>core.mongodb.repository</td>
<td>Session Job Repository - MongoDB repository for session job management</td>
<td>SessionJobRepository: Class - Repository for session job management</td>
</tr>
<tr>
<td><code>src\core\mongodb\secretary_repository.py</code></td>
<td>core.mongodb.secretary_repository</td>
<td>Secretary Job Repository - MongoDB repository for generic secretary job management</td>
<td>SecretaryJobRepository: Class - Repository for generic secretary job management</td>
</tr>
<tr>
<td><code>src\core\mongodb\secretary_worker_manager.py</code></td>
<td>core.mongodb.secretary_worker_manager</td>
<td>Secretary Worker Manager - Generic background worker for secretary job processing</td>
<td>SecretaryWorkerManager: Class - Generic worker manager for secretary jobs</td>
</tr>
<tr>
<td><code>src\core\mongodb\translation_repository.py</code></td>
<td>core.mongodb.translation_repository</td>
<td>Translation Repository - MongoDB repository for translation management</td>
<td>TranslationRepository: Class - Repository for translation management</td>
</tr>
<tr>
<td><code>src\core\mongodb\worker_manager.py</code></td>
<td>core.mongodb.worker_manager</td>
<td>Session Worker Manager - Background worker for session job processing</td>
<td>SessionWorkerManager: Class - Worker manager for session jobs</td>
</tr>
<tr>
<td><code>src\core\processing\__init__.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\core\processing\handlers\pdf_handler.py</code></td>
<td>core.processing.handlers.pdf_handler</td>
<td>PDF Handler - Asynchronous PDF processing handler for Secretary Job Worker</td>
<td>handle_pdf_job(): Awaitable[None] - Async handler function for PDF jobs</td>
</tr>
<tr>
<td><code>src\core\processing\handlers\session_handler.py</code></td>
<td>core.processing.handlers.session_handler</td>
<td>Session Handler - Asynchronous session processing handler for Secretary Job Worker</td>
<td>handle_session_job(): Awaitable[None] - Async handler function for session jobs</td>
</tr>
<tr>
<td><code>src\core\processing\handlers\transformer_handler.py</code></td>
<td>core.processing.handlers.transformer_handler</td>
<td>Transformer Handler - Asynchronous template transformation handler for Secretary Job Worker</td>
<td>handle_transformer_template_job(): Awaitable[None] - Async handler function for transformer jobs</td>
</tr>
<tr>
<td><code>src\core\processing\registry.py</code></td>
<td>core.processing.registry</td>
<td>Processor Registry - Registry for generic job handlers</td>
<td>HandlerType: TypeAlias - Type alias for handler function signature, register(): None - Register a handler for a job_type, get_handler(): Optional[HandlerType] - Get handler for a job_type (+1 weitere)</td>
</tr>
<tr>
<td><code>src\core\rate_limiting.py</code></td>
<td>core.rate_limiting</td>
<td>Rate Limiting - Limits requests per IP address and file size</td>
<td>RateLimiter: Class - Rate limiting management</td>
</tr>
<tr>
<td><code>src\core\resource_tracking.py</code></td>
<td>core.resource_tracking</td>
<td>Resource Tracking - Calculates and tracks resource consumption for performance monitoring</td>
<td>ResourceUsage: Dataclass - Represents a resource usage, ResourceCalculator: Class - Calculates and tracks resource consumption</td>
</tr>
<tr>
<td><code>src\core\services\__init__.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\core\services\translator_service.py</code></td>
<td>core.services.translator_service</td>
<td>Translator Service - Service for text translation with caching</td>
<td>TranslatorService: Class - Service for text translation</td>
</tr>
<tr>
<td><code>src\core\validation.py</code></td>
<td>core.validation</td>
<td>Validation Utilities - Decorators and functions for dataclass validation</td>
<td>validate_field(): Callable - Decorator for field validation, validate_fields(): Callable - Decorator for multiple field validations, Various validation functions</td>
</tr>
<tr>
<td><code>src\dashboard\routes\__init__.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\dashboard\routes\config_routes.py</code></td>
<td>dashboard.routes.config_routes</td>
<td>Configuration Routes - Dashboard routes for configuration management</td>
<td>config: Blueprint - Flask blueprint for configuration routes</td>
</tr>
<tr>
<td><code>src\dashboard\routes\docs_routes.py</code></td>
<td>dashboard.routes.docs_routes</td>
<td>Documentation Routes - Dashboard routes for serving MkDocs-generated documentation</td>
<td>docs: Blueprint - Flask blueprint for documentation routes</td>
</tr>
<tr>
<td><code>src\dashboard\routes\log_routes.py</code></td>
<td>dashboard.routes.log_routes</td>
<td>Log Routes - Dashboard routes for log viewing and filtering</td>
<td>logs: Blueprint - Flask blueprint for log routes</td>
</tr>
<tr>
<td><code>src\dashboard\routes\main_routes.py</code></td>
<td>dashboard.routes.main_routes</td>
<td>Main Routes - Dashboard routes for main application views</td>
<td>main: Blueprint - Flask blueprint for main routes</td>
</tr>
<tr>
<td><code>src\dashboard\routes\tests\__init__.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\dashboard\routes\tests\audio_test.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\dashboard\routes\tests\health_test.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\dashboard\routes\tests\transformer_test.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\dashboard\routes\tests\youtube_test.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\dashboard\utils.py</code></td>
<td>dashboard.utils</td>
<td>Dashboard Utilities - Helper functions for dashboard application</td>
<td>get_system_info(): Dict[str, Any] - Get system information dictionary</td>
</tr>
<tr>
<td><code>src\processors\__init__.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\processors\audio_processor.py</code></td>
<td>processors.audio_processor</td>
<td>Audio Processor - Processing of audio files with transcription and transformation</td>
<td>AudioProcessor: Class - Audio processing processor, AudioSegmentProtocol: Protocol - Protocol for audio segments, WhisperTranscriberProtocol: Protocol - Protocol for Whisper transcriber</td>
</tr>
<tr>
<td><code>src\processors\base_processor.py</code></td>
<td>processors.base_processor</td>
<td>Base Processor - Common base class for all processors</td>
<td>BaseProcessor: Generic class - Base class for all processors</td>
</tr>
<tr>
<td><code>src\processors\cacheable_processor.py</code></td>
<td>processors.cacheable_processor</td>
<td>Cacheable Processor - Extended base class with MongoDB caching</td>
<td>CacheableProcessor: Generic class - Base class for cacheable processors, CacheableResult: Protocol - Protocol for cacheable results</td>
</tr>
<tr>
<td><code>src\processors\event_processor.py</code></td>
<td>processors.event_processor</td>
<td>Event Processor - Processing of events with track and session aggregation</td>
<td>EventProcessor: Class - Event processing processor, EventProcessingResult: Class - Event processing result, TrackInputDict: TypedDict - Track input structure (+2 weitere)</td>
</tr>
<tr>
<td><code>src\processors\imageocr_processor.py</code></td>
<td>processors.imageocr_processor</td>
<td>ImageOCR Processor - OCR processing of images with various methods</td>
<td>ImageOCRProcessor: Class - ImageOCR processing processor, ImageOCRMetadata: Dataclass - Image metadata</td>
</tr>
<tr>
<td><code>src\processors\metadata_processor.py</code></td>
<td>processors.metadata_processor</td>
<td>Metadata Processor - Metadata extraction from various media types</td>
<td>MetadataProcessor: Class - Metadata extraction processor, MetadataFeatures: Dataclass - Feature configuration, AudioSegmentProtocol: Protocol - Protocol for audio segments (+1 weitere)</td>
</tr>
<tr>
<td><code>src\processors\pdf_processor.py</code></td>
<td>processors.pdf_processor</td>
<td>PDF Processor - Processing of PDF files with text extraction and OCR</td>
<td>PDFProcessor: Class - PDF processing processor, PDFResponse: Dataclass - PDF processing response</td>
</tr>
<tr>
<td><code>src\processors\session_processor.py</code></td>
<td>processors.session_processor</td>
<td>Session Processor - Processing of session information and associated media</td>
<td>SessionProcessor: Class - Session processing processor, SessionProcessingResult: Class - Session processing result</td>
</tr>
<tr>
<td><code>src\processors\story_processor.py</code></td>
<td>processors.story_processor</td>
<td>Story Processor - Creation of thematic stories from sessions</td>
<td>StoryProcessor: Class - Story processing processor</td>
</tr>
<tr>
<td><code>src\processors\track_processor.py</code></td>
<td>processors.track_processor</td>
<td>Track Processor - Processing of event tracks with session aggregation</td>
<td>TrackProcessor: Class - Track processing processor, TrackProcessingResult: Class - Track processing result, safe_get(): T - Safe dictionary access with type conversion (+3 weitere)</td>
</tr>
<tr>
<td><code>src\processors\transformer_processor.py</code></td>
<td>processors.transformer_processor</td>
<td>Transformer Processor - Text transformation with LLM models</td>
<td>TransformerProcessor: Class - Text transformation processor</td>
</tr>
<tr>
<td><code>src\processors\video_processor.py</code></td>
<td>processors.video_processor</td>
<td>Video Processor - Processing of video files with audio extraction and transcription</td>
<td>VideoProcessor: Class - Video processing processor</td>
</tr>
<tr>
<td><code>src\processors\youtube_processor.py</code></td>
<td>processors.youtube_processor</td>
<td>YouTube Processor - Processing of YouTube videos with download and transcription</td>
<td>YoutubeProcessor: Class - YouTube processing processor, YoutubeDLInfo: TypedDict - YouTube-DL info structure, YoutubeDLOpts: TypedDict - YouTube-DL options structure (+1 weitere)</td>
</tr>
<tr>
<td><code>src\scripts\init_cache.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\scripts\test_openwebui.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\tests\test_audio_processor_cache.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\tests\test_full_audio_cache.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\tests\test_lazy_import.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\tests\test_simple_audio_cache.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\tests\test_video_processor_cache.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\tools\process_single_event.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\tools\test_models.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\tools\test_mongodb.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\utils\__init__.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\utils\audio_utils.py</code></td>
<td>utils.audio_utils</td>
<td>Audio Utilities - Utility class for audio file segmentation</td>
<td>AudioProcessor: Class - Utility class for audio segmentation</td>
</tr>
<tr>
<td><code>src\utils\image2text_utils.py</code></td>
<td>utils.image2text_utils</td>
<td>Image-to-Text Utilities - OpenAI Vision API integration for image text extraction</td>
<td>Image2TextService: Class - Service for image-to-text conversion with OpenAI Vision API</td>
</tr>
<tr>
<td><code>src\utils\logger.py</code></td>
<td>utils.logger</td>
<td>Logging System - Central logging system with structured logs and session tracking</td>
<td>ProcessingLogger: Class - Logger implementation for processors, LoggerService: Class - Singleton service for logger management, get_logger(): ProcessingLogger - Factory function for logger creation (+1 weitere)</td>
</tr>
<tr>
<td><code>src\utils\openai_types.py</code></td>
<td>utils.openai_types</td>
<td>OpenAI Types - Type definitions for OpenAI API interactions</td>
<td>WhisperSegment: Pydantic BaseModel - Whisper transcription segment, WhisperResponse: Pydantic BaseModel - Whisper API response, OpenAIDict: TypedDict - Base type for OpenAI API responses (+1 weitere)</td>
</tr>
<tr>
<td><code>src\utils\openai_utils.py</code></td>
<td>utils.openai_utils</td>
<td>OpenAI Utilities - Helper functions for OpenAI API integration</td>
<td>get_structured_gpt(): tuple[BaseModel, Dict, LLMRequest] - Structured GPT request</td>
</tr>
<tr>
<td><code>src\utils\performance_tracker.py</code></td>
<td>utils.performance_tracker</td>
<td>Performance Tracker - Centralized performance tracking for API calls and processors</td>
<td>PerformanceTracker: Class - Centralized performance tracking system, Various TypedDict classes for type safety (ClientInfo, ResourceInfo, etc.)</td>
</tr>
<tr>
<td><code>src\utils\processor_cache.py</code></td>
<td>utils.processor_cache</td>
<td>Processor Cache - Generic cache class for processor results</td>
<td>ProcessorCache: Generic class - Generic cache class for processor results, CacheableResult: Protocol - Protocol for cacheable result classes</td>
</tr>
<tr>
<td><code>src\utils\transcription_utils.py</code></td>
<td>utils.transcription_utils</td>
<td>Transcription Utilities - Whisper transcription and text transformation</td>
<td>WhisperTranscriber: Class - Whisper transcription class, AudioSegmentProtocol: Protocol - Protocol for audio segments, TemplateFieldDefinition: Dataclass - Template field definition</td>
</tr>
<tr>
<td><code>src\utils\types\__init__.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\utils\types\pydub_types.py</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>src\utils\video_cache.py</code></td>
<td>utils.video_cache</td>
<td>Video Cache - Cache management for video processing results</td>
<td>VideoCache: Class - Cache manager for video processing results, CacheMetadata: Dataclass - Metadata for cache entries</td>
</tr>
</tbody>
</table></section><section class="print-page" id="architecture-module-hierarchy" heading-number="2.2.2"><h1 id="architecture-module-hierarchy-module-hierarchy">Module Hierarchy<a class="headerlink" href="#architecture-module-hierarchy-module-hierarchy" title="Permanent link">&para;</a></h1>
<p>Overview of the architecture and module structure of Common Secretary Services.</p>
<h2 id="architecture-module-hierarchy-architecture-overview">Architecture Overview<a class="headerlink" href="#architecture-module-hierarchy-architecture-overview" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code>Common Secretary Services
├── Entry Points
│   ├── src/main.py - Server entry point
│   ├── src/api/__init__.py - Alternative API app factory
│   └── src/dashboard/app.py - Main Flask application
├── Core Layer
│   ├── Configuration
│   │   ├── src/core/config.py - Central configuration management
│   │   ├── src/core/config_keys.py - API key management
│   │   └── src/core/config_utils.py - Configuration utilities
│   ├── Models
│   │   ├── src/core/models/base.py - Base models (BaseResponse, ErrorInfo, etc.)
│   │   ├── src/core/models/enums.py - Enum definitions
│   │   ├── src/core/models/protocols.py - Protocol definitions
│   │   └── src/core/models/*.py - Specific models (audio, video, pdf, etc.)
│   ├── MongoDB
│   │   ├── src/core/mongodb/connection.py - MongoDB connection
│   │   ├── src/core/mongodb/repository.py - Repository pattern
│   │   ├── src/core/mongodb/cache_setup.py - Cache setup
│   │   └── src/core/mongodb/*_repository.py - Specific repositories
│   ├── Processing
│   │   ├── src/core/processing/handlers/ - Job handlers
│   │   └── src/core/processing/registry.py - Processor registry
│   ├── Services
│   │   └── src/core/services/translator_service.py - Translation service
│   └── Utilities
│       ├── src/core/exceptions.py - Exception definitions
│       ├── src/core/validation.py - Validation utilities
│       ├── src/core/resource_tracking.py - Resource tracking
│       └── src/core/rate_limiting.py - Rate limiting
├── Processor Layer
│   ├── Base Classes
│   │   ├── src/processors/base_processor.py - Base class for all processors
│   │   └── src/processors/cacheable_processor.py - Cacheable base class
│   └── Implementations
│       ├── src/processors/audio_processor.py - Audio processing
│       ├── src/processors/video_processor.py - Video processing
│       ├── src/processors/pdf_processor.py - PDF processing
│       ├── src/processors/imageocr_processor.py - Image OCR
│       ├── src/processors/youtube_processor.py - YouTube processing
│       ├── src/processors/transformer_processor.py - Text transformation
│       ├── src/processors/session_processor.py - Session processing
│       ├── src/processors/event_processor.py - Event processing
│       ├── src/processors/track_processor.py - Track processing
│       ├── src/processors/story_processor.py - Story processing
│       └── src/processors/metadata_processor.py - Metadata extraction
├── API Layer
│   └── Routes
│       ├── src/api/routes/__init__.py - Route registration and auth
│       ├── src/api/routes/audio_routes.py - Audio API
│       ├── src/api/routes/video_routes.py - Video API
│       ├── src/api/routes/pdf_routes.py - PDF API
│       ├── src/api/routes/imageocr_routes.py - ImageOCR API
│       ├── src/api/routes/youtube_routes.py - YouTube API
│       ├── src/api/routes/transformer_routes.py - Transformer API
│       ├── src/api/routes/session_routes.py - Session API
│       ├── src/api/routes/event_routes.py - Event API
│       ├── src/api/routes/track_routes.py - Track API
│       ├── src/api/routes/story_routes.py - Story API
│       └── src/api/routes/secretary_job_routes.py - Secretary Job API
├── Dashboard Layer
│   └── Routes &amp; Templates
│       ├── src/dashboard/routes/main_routes.py - Main routes
│       ├── src/dashboard/routes/config_routes.py - Configuration routes
│       ├── src/dashboard/routes/docs_routes.py - Documentation routes
│       └── src/dashboard/routes/log_routes.py - Log routes
└── Utilities
    ├── Logging
    │   └── src/utils/logger.py - Logging system
    ├── OpenAI
    │   ├── src/utils/openai_utils.py - OpenAI integration
    │   └── src/utils/openai_types.py - OpenAI types
    ├── Processing Utils
    │   ├── src/utils/transcription_utils.py - Transcription utils
    │   ├── src/utils/audio_utils.py - Audio utilities
    │   └── src/utils/image2text_utils.py - Image-to-text utilities
    └── Performance
        ├── src/utils/performance_tracker.py - Performance tracking
        ├── src/utils/processor_cache.py - Processor cache
        └── src/utils/video_cache.py - Video cache
</code></pre></div>
<h2 id="architecture-module-hierarchy-dependency-graph">Dependency Graph<a class="headerlink" href="#architecture-module-hierarchy-dependency-graph" title="Permanent link">&para;</a></h2>
<pre class="mermaid"><code>graph TD
    A[main.py] --&gt; B[dashboard.app]
    B --&gt; C[api.routes]
    B --&gt; D[dashboard.routes]

    C --&gt; E[processors.*]
    E --&gt; F[base_processor]
    E --&gt; G[cacheable_processor]
    G --&gt; F

    F --&gt; H[core.config]
    F --&gt; I[core.models.base]
    F --&gt; J[utils.logger]
    F --&gt; K[core.resource_tracking]

    G --&gt; L[core.mongodb.connection]
    G --&gt; M[core.mongodb.repository]

    E --&gt; N[core.exceptions]
    E --&gt; O[core.models.*]

    P[utils.openai_utils] --&gt; Q[core.config_keys]
    P --&gt; R[core.config]

    S[core.mongodb.*] --&gt; L
    S --&gt; R

    T[core.models.*] --&gt; U[core.models.enums]
    T --&gt; I</code></pre>
<h2 id="architecture-module-hierarchy-data-flow">Data Flow<a class="headerlink" href="#architecture-module-hierarchy-data-flow" title="Permanent link">&para;</a></h2>
<h3 id="architecture-module-hierarchy-request-processing">Request Processing<a class="headerlink" href="#architecture-module-hierarchy-request-processing" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Entry Point</strong> (<code>main.py</code> or <code>dashboard/app.py</code>)</li>
<li>Starts Flask app</li>
<li>
<p>Registers blueprints</p>
</li>
<li>
<p><strong>API Layer</strong> (<code>api/routes/*</code>)</p>
</li>
<li>Receives HTTP requests</li>
<li>Validates authentication</li>
<li>
<p>Calls processors</p>
</li>
<li>
<p><strong>Processor Layer</strong> (<code>processors/*</code>)</p>
</li>
<li>Processes request</li>
<li>Uses cache (if enabled)</li>
<li>Calls LLM services</li>
<li>
<p>Creates response</p>
</li>
<li>
<p><strong>Response</strong></p>
</li>
<li>Standardized format (BaseResponse)</li>
<li>Contains ProcessInfo with LLM tracking</li>
<li>Returned as JSON</li>
</ol>
<h3 id="architecture-module-hierarchy-cache-flow">Cache Flow<a class="headerlink" href="#architecture-module-hierarchy-cache-flow" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>CacheableProcessor</strong> checks cache</li>
<li>On cache hit: Return result from MongoDB</li>
<li>On cache miss: Perform processing</li>
<li>Store result in MongoDB</li>
<li>Return result</li>
</ol>
<h2 id="architecture-module-hierarchy-module-descriptions">Module Descriptions<a class="headerlink" href="#architecture-module-hierarchy-module-descriptions" title="Permanent link">&para;</a></h2>
<h3 id="architecture-module-hierarchy-entry-points">Entry Points<a class="headerlink" href="#architecture-module-hierarchy-entry-points" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>main.py</strong>: Server entry point, loads .env, starts Flask app</li>
<li><strong>dashboard/app.py</strong>: Main Flask application, manages lifecycle, worker managers</li>
<li><strong>api/<strong>init</strong>.py</strong>: Alternative app factory for API-only deployments</li>
</ul>
<h3 id="architecture-module-hierarchy-core-layer">Core Layer<a class="headerlink" href="#architecture-module-hierarchy-core-layer" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Configuration</strong>: Central configuration management from config.yaml</li>
<li><strong>Models</strong>: Dataclass definitions for all data structures</li>
<li><strong>MongoDB</strong>: Database connection, repositories, cache management</li>
<li><strong>Processing</strong>: Job handlers for asynchronous processing</li>
<li><strong>Services</strong>: Business logic services (e.g., Translator)</li>
<li><strong>Utilities</strong>: Base functionality (exceptions, validation, etc.)</li>
</ul>
<h3 id="architecture-module-hierarchy-processor-layer">Processor Layer<a class="headerlink" href="#architecture-module-hierarchy-processor-layer" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Base Classes</strong>: Common functionality for all processors</li>
<li><strong>Implementations</strong>: Specific processors for various media types</li>
</ul>
<h3 id="architecture-module-hierarchy-api-layer">API Layer<a class="headerlink" href="#architecture-module-hierarchy-api-layer" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Routes</strong>: Flask-RESTX routes for all API endpoints</li>
<li><strong>Auth</strong>: Authentication and authorization</li>
</ul>
<h3 id="architecture-module-hierarchy-dashboard-layer">Dashboard Layer<a class="headerlink" href="#architecture-module-hierarchy-dashboard-layer" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Routes</strong>: Web interface routes</li>
<li><strong>Templates</strong>: HTML templates for dashboard</li>
</ul>
<h3 id="architecture-module-hierarchy-utilities">Utilities<a class="headerlink" href="#architecture-module-hierarchy-utilities" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Logging</strong>: Central logging system</li>
<li><strong>OpenAI</strong>: Integration with OpenAI APIs</li>
<li><strong>Processing Utils</strong>: Helper functions for processing</li>
<li><strong>Performance</strong>: Performance tracking and caching</li>
</ul>
<h2 id="architecture-module-hierarchy-cyclic-dependencies">Cyclic Dependencies<a class="headerlink" href="#architecture-module-hierarchy-cyclic-dependencies" title="Permanent link">&para;</a></h2>
<p>Currently no known cyclic dependencies. The architecture follows a clear hierarchy principle:</p>
<ul>
<li>Entry Points → API/Dashboard → Processors → Core → Utilities</li>
</ul></section></section>
                    <section class='print-page md-section' id='section-2-3' heading-number='2.3'>
                        <h1>API Reference<a class='headerlink' href='#section-2-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="reference-api-overview" heading-number="2.3.1"><h1 id="reference-api-overview-api-reference-overview">API Reference Overview<a class="headerlink" href="#reference-api-overview-api-reference-overview" title="Permanent link">&para;</a></h1>
<p>Complete API reference for Common Secretary Services. All endpoints require authentication via API key unless otherwise noted.</p>
<h2 id="reference-api-overview-authentication">Authentication<a class="headerlink" href="#reference-api-overview-authentication" title="Permanent link">&para;</a></h2>
<p>All API requests require authentication via one of the following methods:</p>
<ul>
<li><strong>Header</strong>: <code>Authorization: Bearer &lt;token&gt;</code></li>
<li><strong>Alternative Header</strong>: <code>X-Secretary-Api-Key: &lt;token&gt;</code></li>
</ul>
<p>The API key is configured via the <code>SECRETARY_SERVICE_API_KEY</code> environment variable.</p>
<h3 id="reference-api-overview-exempt-paths">Exempt Paths<a class="headerlink" href="#reference-api-overview-exempt-paths" title="Permanent link">&para;</a></h3>
<p>The following paths do not require authentication:
- <code>/api/doc</code> - Swagger UI documentation
- <code>/api/swagger.json</code> - OpenAPI specification
- <code>/api/health</code> - Health check endpoints</p>
<h2 id="reference-api-overview-base-url">Base URL<a class="headerlink" href="#reference-api-overview-base-url" title="Permanent link">&para;</a></h2>
<p>All endpoints are prefixed with <code>/api</code>. For example:
- Production: <code>https://commonsecretaryservices.bcommonslab.org/api</code>
- Local: <code>http://localhost:5001/api</code></p>
<h2 id="reference-api-overview-interactive-documentation">Interactive Documentation<a class="headerlink" href="#reference-api-overview-interactive-documentation" title="Permanent link">&para;</a></h2>
<p>The complete interactive API documentation is available via <strong>Swagger UI</strong> at:
- <code>/api/doc</code> - Interactive API explorer</p>
<h2 id="reference-api-overview-api-endpoints-by-category">API Endpoints by Category<a class="headerlink" href="#reference-api-overview-api-endpoints-by-category" title="Permanent link">&para;</a></h2>
<h3 id="reference-api-overview-audio-processing">Audio Processing<a class="headerlink" href="#reference-api-overview-audio-processing" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/audio</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/audio/process</code></td>
<td>Process audio file with transcription and optional translation</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-audio">Audio Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-video-processing">Video Processing<a class="headerlink" href="#reference-api-overview-video-processing" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/video</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/video/process</code></td>
<td>Process video file with audio extraction and transcription</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/video/youtube</code></td>
<td>Process YouTube video with download and transcription</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/video/frames</code></td>
<td>Extract frames from video at specific timestamps</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-video">Video Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-pdf-processing">PDF Processing<a class="headerlink" href="#reference-api-overview-pdf-processing" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/pdf</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/pdf/process</code></td>
<td>Process PDF file with text extraction and OCR</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/pdf/job</code></td>
<td>Process PDF asynchronously as a job</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-pdf">PDF Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-image-ocr">Image OCR<a class="headerlink" href="#reference-api-overview-image-ocr" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/imageocr</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/imageocr/process</code></td>
<td>Process image file with OCR</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/imageocr/process-url</code></td>
<td>Process image from URL with OCR</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-imageocr">ImageOCR Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-text-transformation">Text Transformation<a class="headerlink" href="#reference-api-overview-text-transformation" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/transformer</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/transformer/text</code></td>
<td>Translate text between languages</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/transformer/template</code></td>
<td>Transform text using template</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/transformer/summarize</code></td>
<td>Summarize text</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/transformer/html-to-markdown</code></td>
<td>Convert HTML to Markdown</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/transformer/extract-tables</code></td>
<td>Extract tables from HTML</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-transformer">Transformer Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-session-processing">Session Processing<a class="headerlink" href="#reference-api-overview-session-processing" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/session</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/session/process</code></td>
<td>Process session with URL and associated media</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/session/process-async</code></td>
<td>Process session asynchronously with webhook</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/session/cached</code></td>
<td>Retrieve cached sessions</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-session">Session Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-event-processing">Event Processing<a class="headerlink" href="#reference-api-overview-event-processing" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/events</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/events/&lt;event_name&gt;/summary</code></td>
<td>Generate event summary</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-event">Event Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-track-processing">Track Processing<a class="headerlink" href="#reference-api-overview-track-processing" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/tracks</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/tracks/&lt;track_name&gt;/summary</code></td>
<td>Generate track summary</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/tracks/available</code></td>
<td>List all available tracks</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/tracks/&lt;track_name&gt;/summarize_all</code></td>
<td>Summarize all tracks</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-track">Track Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-story-generation">Story Generation<a class="headerlink" href="#reference-api-overview-story-generation" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/story</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/story/generate</code></td>
<td>Generate story from topic</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/story/topics</code></td>
<td>List all available topics</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/story/target-groups</code></td>
<td>List all available target groups</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-story">Story Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-job-management-secretary-jobs">Job Management (Secretary Jobs)<a class="headerlink" href="#reference-api-overview-job-management-secretary-jobs" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/jobs</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/jobs/</code></td>
<td>Create new job</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/jobs/batch</code></td>
<td>Create batch of jobs</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/jobs/&lt;job_id&gt;</code></td>
<td>Get job status and results</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/jobs/batch/&lt;batch_id&gt;</code></td>
<td>Get batch status</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/jobs/&lt;job_id&gt;/download-archive</code></td>
<td>Download job archive (ZIP)</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-jobs">Job Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-event-job-management-legacy">Event Job Management (Legacy)<a class="headerlink" href="#reference-api-overview-event-job-management-legacy" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/event-job</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>POST</td>
<td><code>/api/event-job/jobs</code></td>
<td>Create session job</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/event-job/jobs/&lt;job_id&gt;</code></td>
<td>Get job details</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/event-job/batches</code></td>
<td>Create batch</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/event-job/batches/&lt;batch_id&gt;</code></td>
<td>Get batch details</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/event-job/files/&lt;path&gt;</code></td>
<td>Download job file</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/event-job/&lt;job_id&gt;/restart</code></td>
<td>Restart failed job</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/event-job/batches/&lt;batch_id&gt;/archive</code></td>
<td>Download batch archive</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/event-job/batches/&lt;batch_id&gt;/toggle-active</code></td>
<td>Toggle batch active status</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/event-job/batches/fail-all</code></td>
<td>Fail all jobs in batch</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/event-job/jobs/&lt;job_id&gt;/download-archive</code></td>
<td>Download job archive</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-event-job">Event Job Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-common-endpoints">Common Endpoints<a class="headerlink" href="#reference-api-overview-common-endpoints" title="Permanent link">&para;</a></h3>
<p><strong>Namespace</strong>: <code>/api/common</code></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td><code>/api/common/</code></td>
<td>API home endpoint</td>
</tr>
<tr>
<td>POST</td>
<td><code>/api/common/notion</code></td>
<td>Process Notion blocks</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/common/samples</code></td>
<td>List sample files</td>
</tr>
<tr>
<td>GET</td>
<td><code>/api/common/samples/&lt;filename&gt;</code></td>
<td>Download sample file</td>
</tr>
</tbody>
</table>
<p><strong>See</strong>: <a href="#reference-api-endpoints-common">Common Endpoints</a> for detailed documentation.</p>
<h3 id="reference-api-overview-root-endpoints">Root Endpoints<a class="headerlink" href="#reference-api-overview-root-endpoints" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Method</th>
<th>Endpoint</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>GET</td>
<td><code>/api/</code></td>
<td>API welcome message</td>
</tr>
</tbody>
</table>
<h2 id="reference-api-overview-response-format">Response Format<a class="headerlink" href="#reference-api-overview-response-format" title="Permanent link">&para;</a></h2>
<p>All API responses follow a standardized format:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="s2">&quot;error&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process-id&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;process&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;duration_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;llm_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;total_tokens&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;total_cost&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;requests&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Processor-specific data</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ERROR_CODE&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Error message&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-overview-error-handling">Error Handling<a class="headerlink" href="#reference-api-overview-error-handling" title="Permanent link">&para;</a></h2>
<p>Errors are returned with HTTP status codes:</p>
<ul>
<li><code>400</code> - Bad Request (validation errors)</li>
<li><code>401</code> - Unauthorized (authentication required)</li>
<li><code>403</code> - Forbidden (authentication failed)</li>
<li><code>404</code> - Not Found (resource not found)</li>
<li><code>500</code> - Internal Server Error (processing errors)</li>
</ul>
<p>Error responses include:
- <code>code</code>: Error code identifier
- <code>message</code>: Human-readable error message
- <code>details</code>: Additional error information</p>
<h2 id="reference-api-overview-rate-limiting">Rate Limiting<a class="headerlink" href="#reference-api-overview-rate-limiting" title="Permanent link">&para;</a></h2>
<p>Rate limiting is configured via <code>config.yaml</code>:
- Default: 60 requests per minute per IP
- Configurable via <code>rate_limiting.requests_per_minute</code></p>
<h2 id="reference-api-overview-caching">Caching<a class="headerlink" href="#reference-api-overview-caching" title="Permanent link">&para;</a></h2>
<p>Most processors support caching:
- Results are cached in MongoDB
- Cache TTL is configurable per processor
- Use <code>useCache=false</code> parameter to bypass cache</p>
<h2 id="reference-api-overview-asynchronous-processing">Asynchronous Processing<a class="headerlink" href="#reference-api-overview-asynchronous-processing" title="Permanent link">&para;</a></h2>
<p>Some endpoints support asynchronous processing:
- Jobs are created and processed in the background
- Status can be queried via job endpoints
- Webhooks can be configured for completion notifications</p>
<h2 id="reference-api-overview-related-documentation">Related Documentation<a class="headerlink" href="#reference-api-overview-related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#reference-api-openapi">OpenAPI / Swagger</a> - Interactive API documentation</li>
<li><a href="#reference-data-models">Data Models</a> - Response data structures</li>
<li><a href="#reference-configuration">Configuration</a> - Configuration options</li>
</ul></section>
                    <section class='print-page md-section' id='section-2-3-2' heading-number='2.3.2'>
                        <h1>Endpoints<a class='headerlink' href='#section-2-3-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="reference-api-endpoints-audio" heading-number="2.3.2.1"><h1 id="reference-api-endpoints-audio-audio-api-endpoints">Audio API Endpoints<a class="headerlink" href="#reference-api-endpoints-audio-audio-api-endpoints" title="Permanent link">&para;</a></h1>
<p>Endpoints for audio file processing with transcription and optional translation.</p>
<h2 id="reference-api-endpoints-audio-post-apiaudioprocess">POST /api/audio/process<a class="headerlink" href="#reference-api-endpoints-audio-post-apiaudioprocess" title="Permanent link">&para;</a></h2>
<p>Process an audio file with transcription and optional template-based transformation.</p>
<h3 id="reference-api-endpoints-audio-request">Request<a class="headerlink" href="#reference-api-endpoints-audio-request" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>multipart/form-data</code></p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file</code></td>
<td>File</td>
<td>Yes</td>
<td>-</td>
<td>Audio file (MP3, WAV, M4A, FLAC, OGG, etc.)</td>
</tr>
<tr>
<td><code>source_language</code></td>
<td>String</td>
<td>No</td>
<td><code>de</code></td>
<td>Source language (ISO 639-1 code, e.g., "en", "de")</td>
</tr>
<tr>
<td><code>target_language</code></td>
<td>String</td>
<td>No</td>
<td><code>de</code></td>
<td>Target language for translation (ISO 639-1 code)</td>
</tr>
<tr>
<td><code>template</code></td>
<td>String</td>
<td>No</td>
<td><code>""</code></td>
<td>Optional template name for text transformation</td>
</tr>
<tr>
<td><code>useCache</code></td>
<td>Boolean</td>
<td>No</td>
<td><code>true</code></td>
<td>Whether to use cache</td>
</tr>
</tbody>
</table>
<h3 id="reference-api-endpoints-audio-supported-formats">Supported Formats<a class="headerlink" href="#reference-api-endpoints-audio-supported-formats" title="Permanent link">&para;</a></h3>
<ul>
<li>FLAC, M4A, MP3, MP4, MPEG, MPGA, OGA, OGG, WAV, WEBM</li>
</ul>
<h3 id="reference-api-endpoints-audio-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-audio-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/audio/process&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;file=@audio.mp3&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;source_language=en&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;target_language=de&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;template=MeetingMinutes&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;useCache=true&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-audio-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-audio-response-success" title="Permanent link">&para;</a></h3>
<p><strong>Status Code</strong>: <code>200 OK</code></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;process&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;duration_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;llm_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;total_tokens&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;total_cost&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.015</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;requests&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;whisper-1&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;purpose&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;transcription&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;tokens&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;duration_ms&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4500</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">120.5</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;detected_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;output_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Transcribed and transformed text...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;original_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Original transcribed text...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;translated_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Translated text...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;llm_model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;whisper-1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;translation_model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gpt-4&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;token_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1500</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;segments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;start&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;end&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">10.5</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;First segment...&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;process_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;process_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/process/dir&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;from_cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-audio-response-error">Response (Error)<a class="headerlink" href="#reference-api-endpoints-audio-response-error" title="Permanent link">&para;</a></h3>
<p><strong>Status Code</strong>: <code>400 Bad Request</code></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;error&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;INVALID_FORMAT&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The format &#39;xyz&#39; is not supported. Supported formats: flac, m4a, mp3...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;error_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;INVALID_FORMAT&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;supported_formats&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;flac&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;m4a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;mp3&quot;</span><span class="p">,</span><span class="w"> </span><span class="err">...</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-audio-processing-flow">Processing Flow<a class="headerlink" href="#reference-api-endpoints-audio-processing-flow" title="Permanent link">&para;</a></h3>
<ol>
<li>Audio file is uploaded and validated</li>
<li>File is segmented into manageable chunks (if large)</li>
<li>Each segment is transcribed using OpenAI Whisper API</li>
<li>Optional: Text is transformed using template (via TransformerProcessor)</li>
<li>Optional: Text is translated to target language</li>
<li>Results are aggregated and returned</li>
</ol>
<h3 id="reference-api-endpoints-audio-llm-tracking">LLM Tracking<a class="headerlink" href="#reference-api-endpoints-audio-llm-tracking" title="Permanent link">&para;</a></h3>
<p>The response includes detailed LLM usage information:
- Total tokens used
- Total cost
- Individual requests with model, purpose, tokens, duration</p>
<h3 id="reference-api-endpoints-audio-caching">Caching<a class="headerlink" href="#reference-api-endpoints-audio-caching" title="Permanent link">&para;</a></h3>
<p>Results are cached based on:
- File hash
- Source language
- Target language
- Template name</p>
<p>Use <code>useCache=false</code> to bypass cache and force reprocessing.</p></section><section class="print-page" id="reference-api-endpoints-video" heading-number="2.3.2.2"><h1 id="reference-api-endpoints-video-video-api-endpoints">Video API Endpoints<a class="headerlink" href="#reference-api-endpoints-video-video-api-endpoints" title="Permanent link">&para;</a></h1>
<p>Endpoints for video file processing, YouTube video processing, and frame extraction.</p>
<h2 id="reference-api-endpoints-video-post-apivideoprocess">POST /api/video/process<a class="headerlink" href="#reference-api-endpoints-video-post-apivideoprocess" title="Permanent link">&para;</a></h2>
<p>Process a video file with audio extraction and transcription.</p>
<h3 id="reference-api-endpoints-video-request">Request<a class="headerlink" href="#reference-api-endpoints-video-request" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>multipart/form-data</code> or <code>application/json</code></p>
<p><strong>Parameters</strong> (Form Data):</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file</code></td>
<td>File</td>
<td>No*</td>
<td>-</td>
<td>Video file (MP4, MOV, WebM, etc.)</td>
</tr>
<tr>
<td><code>url</code></td>
<td>String</td>
<td>No*</td>
<td>-</td>
<td>Video URL (alternative to file upload)</td>
</tr>
<tr>
<td><code>source_language</code></td>
<td>String</td>
<td>No</td>
<td><code>de</code></td>
<td>Source language for transcription</td>
</tr>
<tr>
<td><code>target_language</code></td>
<td>String</td>
<td>No</td>
<td><code>de</code></td>
<td>Target language for translation</td>
</tr>
<tr>
<td><code>template</code></td>
<td>String</td>
<td>No</td>
<td><code>""</code></td>
<td>Optional template name</td>
</tr>
<tr>
<td><code>useCache</code></td>
<td>Boolean</td>
<td>No</td>
<td><code>true</code></td>
<td>Whether to use cache</td>
</tr>
</tbody>
</table>
<p>*Either <code>file</code> or <code>url</code> must be provided.</p>
<h3 id="reference-api-endpoints-video-request-example-file-upload">Request Example (File Upload)<a class="headerlink" href="#reference-api-endpoints-video-request-example-file-upload" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/video/process&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;file=@video.mp4&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;source_language=en&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;target_language=de&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-video-request-example-url">Request Example (URL)<a class="headerlink" href="#reference-api-endpoints-video-request-example-url" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/video/process&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;url&quot;: &quot;https://example.com/video.mp4&quot;,</span>
<span class="s1">    &quot;source_language&quot;: &quot;en&quot;,</span>
<span class="s1">    &quot;target_language&quot;: &quot;de&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-video-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-video-response-success" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">300.0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;transcription&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Transcribed text from video audio...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;resolution&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1920x1080&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;codec&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;h264&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;fps&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-video-post-apivideoyoutube">POST /api/video/youtube<a class="headerlink" href="#reference-api-endpoints-video-post-apivideoyoutube" title="Permanent link">&para;</a></h2>
<p>Process a YouTube video with download and transcription.</p>
<h3 id="reference-api-endpoints-video-request_1">Request<a class="headerlink" href="#reference-api-endpoints-video-request_1" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>multipart/form-data</code></p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>url</code></td>
<td>String</td>
<td>Yes</td>
<td>-</td>
<td>YouTube video URL</td>
</tr>
<tr>
<td><code>source_language</code></td>
<td>String</td>
<td>No</td>
<td><code>de</code></td>
<td>Source language</td>
</tr>
<tr>
<td><code>target_language</code></td>
<td>String</td>
<td>No</td>
<td><code>de</code></td>
<td>Target language</td>
</tr>
<tr>
<td><code>template</code></td>
<td>String</td>
<td>No</td>
<td><code>""</code></td>
<td>Optional template</td>
</tr>
</tbody>
</table>
<h3 id="reference-api-endpoints-video-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-video-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/video/youtube&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;url=https://www.youtube.com/watch?v=VIDEO_ID&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;source_language=en&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-video-response-success_1">Response (Success)<a class="headerlink" href="#reference-api-endpoints-video-response-success_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;video_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VIDEO_ID&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Video Title&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">600.0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;transcription&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Transcribed text...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;uploader&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Channel Name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;views&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Video description...&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-video-post-apivideoframes">POST /api/video/frames<a class="headerlink" href="#reference-api-endpoints-video-post-apivideoframes" title="Permanent link">&para;</a></h2>
<p>Extract frames from a video at specific timestamps.</p>
<h3 id="reference-api-endpoints-video-request_2">Request<a class="headerlink" href="#reference-api-endpoints-video-request_2" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>multipart/form-data</code></p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file</code></td>
<td>File</td>
<td>Yes</td>
<td>-</td>
<td>Video file</td>
</tr>
<tr>
<td><code>timestamps</code></td>
<td>String</td>
<td>Yes</td>
<td>-</td>
<td>Comma-separated timestamps (e.g., "10,30,60")</td>
</tr>
<tr>
<td><code>interval</code></td>
<td>Integer</td>
<td>No</td>
<td>-</td>
<td>Extract frame every N seconds</td>
</tr>
</tbody>
</table>
<h3 id="reference-api-endpoints-video-request-example_1">Request Example<a class="headerlink" href="#reference-api-endpoints-video-request-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/video/frames&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;file=@video.mp4&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;timestamps=10,30,60&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-video-response-success_2">Response (Success)<a class="headerlink" href="#reference-api-endpoints-video-response-success_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;frames&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">10.0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/frame_10.jpg&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">30.0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/frame_30.jpg&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></section><section class="print-page" id="reference-api-endpoints-pdf" heading-number="2.3.2.3"><h1 id="reference-api-endpoints-pdf-pdf-api-endpoints">PDF API Endpoints<a class="headerlink" href="#reference-api-endpoints-pdf-pdf-api-endpoints" title="Permanent link">&para;</a></h1>
<p>Endpoints for PDF file processing with text extraction and OCR.</p>
<h2 id="reference-api-endpoints-pdf-post-apipdfprocess">POST /api/pdf/process<a class="headerlink" href="#reference-api-endpoints-pdf-post-apipdfprocess" title="Permanent link">&para;</a></h2>
<p>Process a PDF file with text extraction and optional OCR.</p>
<h3 id="reference-api-endpoints-pdf-request">Request<a class="headerlink" href="#reference-api-endpoints-pdf-request" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>multipart/form-data</code></p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file</code></td>
<td>File</td>
<td>Yes</td>
<td>-</td>
<td>PDF file</td>
</tr>
<tr>
<td><code>extraction_method</code></td>
<td>String</td>
<td>No</td>
<td><code>native</code></td>
<td>Extraction method: <code>native</code>, <code>tesseract_ocr</code>, <code>openai_vision</code>, <code>combined</code></td>
</tr>
<tr>
<td><code>template</code></td>
<td>String</td>
<td>No</td>
<td><code>""</code></td>
<td>Optional template for text transformation</td>
</tr>
<tr>
<td><code>context</code></td>
<td>JSON</td>
<td>No</td>
<td><code>{}</code></td>
<td>Additional context for template</td>
</tr>
<tr>
<td><code>useCache</code></td>
<td>Boolean</td>
<td>No</td>
<td><code>true</code></td>
<td>Whether to use cache</td>
</tr>
<tr>
<td><code>includeImages</code></td>
<td>Boolean</td>
<td>No</td>
<td><code>false</code></td>
<td>Base64-kodiertes ZIP-Archiv mit generierten Bildern erstellen</td>
</tr>
<tr>
<td><code>page_start</code></td>
<td>Integer</td>
<td>No</td>
<td>-</td>
<td>Start page (1-indexed)</td>
</tr>
<tr>
<td><code>page_end</code></td>
<td>Integer</td>
<td>No</td>
<td>-</td>
<td>End page (1-indexed)</td>
</tr>
</tbody>
</table>
<h3 id="reference-api-endpoints-pdf-extraction-methods">Extraction Methods<a class="headerlink" href="#reference-api-endpoints-pdf-extraction-methods" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>native</strong>: Extract text directly from PDF structure (fastest)</li>
<li><strong>tesseract_ocr</strong>: Use Tesseract OCR for text extraction</li>
<li><strong>openai_vision</strong>: Use OpenAI Vision API for OCR</li>
<li><strong>combined</strong>: Try multiple methods and combine results</li>
</ul>
<p><strong>Note</strong>: For Mistral OCR transformation with integrated images, use the dedicated endpoint <a href="#reference-api-endpoints-pdf-post-apipdfprocess-mistral-ocr"><code>POST /api/pdf/process-mistral-ocr</code></a> instead.</p>
<h3 id="reference-api-endpoints-pdf-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-pdf-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/pdf/process&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;file=@document.pdf&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;extraction_method=combined&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;template=MeetingMinutes&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;includeImages=true&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-pdf-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-pdf-response-success" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;extracted_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Full extracted text from PDF...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;page_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Author Name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Document Title&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;text_contents&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Page 1 text...&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;native&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;image_paths&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;/path/to/page_1.jpg&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;/path/to/page_2.jpg&quot;</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;images_archive_filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;document_images.zip&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;images_archive_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;base64_encoded_zip_data&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-pdf-post-apipdfprocess-mistral-ocr">POST /api/pdf/process-mistral-ocr<a class="headerlink" href="#reference-api-endpoints-pdf-post-apipdfprocess-mistral-ocr" title="Permanent link">&para;</a></h2>
<p>Process a PDF file with Mistral OCR transformation and parallel page image extraction.</p>
<p>This endpoint is specifically designed for Mistral OCR transformation with integrated images. It runs two processes in parallel:
1. <strong>Mistral OCR Transformation</strong>: Converts PDF to Markdown with embedded images (recognized by Mistral OCR)
2. <strong>Page Image Extraction</strong>: Extracts PDF pages as images and returns them as a ZIP archive</p>
<h3 id="reference-api-endpoints-pdf-request_1">Request<a class="headerlink" href="#reference-api-endpoints-pdf-request_1" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>multipart/form-data</code></p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file</code></td>
<td>File</td>
<td>Yes</td>
<td>-</td>
<td>PDF file</td>
</tr>
<tr>
<td><code>page_start</code></td>
<td>Integer</td>
<td>No</td>
<td>-</td>
<td>Start page (1-indexed)</td>
</tr>
<tr>
<td><code>page_end</code></td>
<td>Integer</td>
<td>No</td>
<td>-</td>
<td>End page (1-indexed, inclusive)</td>
</tr>
<tr>
<td><code>includeImages</code></td>
<td>Boolean</td>
<td>No</td>
<td><code>true</code></td>
<td>Request Mistral OCR images as Base64 in response. Images are available in <code>data.mistral_ocr_raw.pages[*].images[*].image_base64</code>.</td>
</tr>
<tr>
<td><code>includePageImages</code></td>
<td>Boolean</td>
<td>No</td>
<td><code>true</code></td>
<td>Extract PDF pages as images and return as ZIP archive. Runs in parallel to Mistral OCR transformation.</td>
</tr>
<tr>
<td><code>useCache</code></td>
<td>Boolean</td>
<td>No</td>
<td><code>true</code></td>
<td>Whether to use cache</td>
</tr>
<tr>
<td><code>callback_url</code></td>
<td>String</td>
<td>No</td>
<td>-</td>
<td>Absolute HTTPS URL for webhook callback</td>
</tr>
<tr>
<td><code>callback_token</code></td>
<td>String</td>
<td>No</td>
<td>-</td>
<td>Per-job secret for webhook callback</td>
</tr>
<tr>
<td><code>jobId</code></td>
<td>String</td>
<td>No</td>
<td>-</td>
<td>Unique job ID for callback</td>
</tr>
<tr>
<td><code>wait_ms</code></td>
<td>Integer</td>
<td>No</td>
<td><code>0</code></td>
<td>Optional: Wait time in milliseconds for completion (only without callback_url)</td>
</tr>
</tbody>
</table>
<h3 id="reference-api-endpoints-pdf-request-example_1">Request Example<a class="headerlink" href="#reference-api-endpoints-pdf-request-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/pdf/process-mistral-ocr&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;file=@document.pdf&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;includeImages=true&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;includePageImages=true&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;page_start=1&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;page_end=10&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-pdf-response-success_1">Response (Success)<a class="headerlink" href="#reference-api-endpoints-pdf-response-success_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;extracted_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;--- Seite 1 ---\n![img-0.jpeg](img-0.jpeg)\n\nText content...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;page_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;file_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;document.pdf&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;file_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">753504</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;extraction_method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mistral_ocr_with_pages&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;mistral_ocr_raw&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;markdown&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;![img-0.jpeg](img-0.jpeg)\n\nText content...&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;images&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img-0.jpeg&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;image_base64&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;data:image/jpeg;base64,...&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;top_left_x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">93</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;top_left_y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">221</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;bottom_right_x&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1577</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;bottom_right_y&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">508</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mistral-ocr-latest&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;usage_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;pages_processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;doc_size_bytes&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">753504</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;pages_archive_filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pages.zip&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;pages_archive_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;base64_encoded_zip_data&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;images_archive_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;images_archive_filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-pdf-response-structure">Response Structure<a class="headerlink" href="#reference-api-endpoints-pdf-response-structure" title="Permanent link">&para;</a></h3>
<p>The response contains two types of images:</p>
<ol>
<li><strong>Mistral OCR Images</strong> (<code>data.mistral_ocr_raw.pages[*].images[*]</code>):</li>
<li>Images recognized and extracted by Mistral OCR</li>
<li>Embedded in the Markdown text</li>
<li>Available as Base64-encoded data URLs</li>
<li>
<p>Include coordinates and annotations</p>
</li>
<li>
<p><strong>Page Images</strong> (<code>data.pages_archive_data</code>):</p>
</li>
<li>All PDF pages converted to images</li>
<li>Packaged as a Base64-encoded ZIP archive</li>
<li>Filename available in <code>data.pages_archive_filename</code></li>
<li>Extracted in parallel to Mistral OCR processing</li>
</ol>
<h3 id="reference-api-endpoints-pdf-differences-to-apipdfprocess">Differences to <code>/api/pdf/process</code><a class="headerlink" href="#reference-api-endpoints-pdf-differences-to-apipdfprocess" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Dedicated endpoint</strong>: Simplified interface specifically for Mistral OCR workflows</li>
<li><strong>Parallel processing</strong>: Page image extraction runs in parallel to OCR transformation</li>
<li><strong>Two image types</strong>: Returns both Mistral OCR images and page images</li>
<li><strong>No template support</strong>: Focused on OCR transformation only</li>
<li><strong>Simplified parameters</strong>: Fewer options, clearer purpose</li>
</ul>
<h3 id="reference-api-endpoints-pdf-use-cases">Use Cases<a class="headerlink" href="#reference-api-endpoints-pdf-use-cases" title="Permanent link">&para;</a></h3>
<ul>
<li>Document digitization with full page images and OCR results</li>
<li>Archival systems requiring both searchable text and page images</li>
<li>Quality assurance workflows comparing OCR results with original pages</li>
<li>Multi-format export (Markdown with embedded images + page images)</li>
</ul>
<h3 id="reference-api-endpoints-pdf-downloading-page-images-archive">Downloading Page Images Archive<a class="headerlink" href="#reference-api-endpoints-pdf-downloading-page-images-archive" title="Permanent link">&para;</a></h3>
<p>There are two ways to download the ZIP archive with PDF pages as images:</p>
<h4 id="reference-api-endpoints-pdf-option-1-direct-from-response-base64">Option 1: Direct from Response (Base64)<a class="headerlink" href="#reference-api-endpoints-pdf-option-1-direct-from-response-base64" title="Permanent link">&para;</a></h4>
<p>The <code>pages_archive_data</code> field in the response contains the ZIP file as a Base64-encoded string. You can decode it directly:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Extract from response</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api/pdf/process-mistral-ocr&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{...});</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">pages_archive_data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Decode Base64 to binary</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">binaryString</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">atob</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">pages_archive_data</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Uint8Array</span><span class="p">(</span><span class="nx">binaryString</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">binaryString</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">bytes</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">binaryString</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Create blob and download</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">blob</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Blob</span><span class="p">([</span><span class="nx">bytes</span><span class="p">],</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/zip&#39;</span><span class="w"> </span><span class="p">});</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">blob</span><span class="p">);</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">);</span>
<span class="w">  </span><span class="nx">a</span><span class="p">.</span><span class="nx">href</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">url</span><span class="p">;</span>
<span class="w">  </span><span class="nx">a</span><span class="p">.</span><span class="nx">download</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">pages_archive_filename</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="s1">&#39;pages.zip&#39;</span><span class="p">;</span>
<span class="w">  </span><span class="nx">a</span><span class="p">.</span><span class="nx">click</span><span class="p">();</span>
<span class="w">  </span><span class="nx">URL</span><span class="p">.</span><span class="nx">revokeObjectURL</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">base64</span>

<span class="c1"># Extract from response</span>
<span class="n">response_data</span> <span class="o">=</span> <span class="p">{</span><span class="o">...</span><span class="p">}</span>  <span class="c1"># Your API response</span>

<span class="k">if</span> <span class="n">response_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="p">{})</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pages_archive_data&#39;</span><span class="p">):</span>
    <span class="c1"># Decode Base64</span>
    <span class="n">archive_data</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64decode</span><span class="p">(</span><span class="n">response_data</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">][</span><span class="s1">&#39;pages_archive_data&#39;</span><span class="p">])</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">response_data</span><span class="p">[</span><span class="s1">&#39;data&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pages_archive_filename&#39;</span><span class="p">,</span> <span class="s1">&#39;pages.zip&#39;</span><span class="p">)</span>

    <span class="c1"># Save to file</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">archive_data</span><span class="p">)</span>
</code></pre></div>
<h4 id="reference-api-endpoints-pdf-option-2-download-endpoint-for-async-jobs">Option 2: Download Endpoint (for Async Jobs)<a class="headerlink" href="#reference-api-endpoints-pdf-option-2-download-endpoint-for-async-jobs" title="Permanent link">&para;</a></h4>
<p>If you're using async job processing (with <code>callback_url</code> or <code>wait_ms=0</code>), you can download the archive via a dedicated endpoint:</p>
<p><strong>Endpoint</strong>: <code>GET /api/pdf/jobs/{job_id}/download-pages-archive</code></p>
<p><strong>Example</strong>:
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/pdf/jobs/{job_id}/download-pages-archive&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span>pages.zip
</code></pre></div></p>
<p><strong>Response</strong>: Binary ZIP file with <code>Content-Type: application/zip</code> and <code>Content-Disposition: attachment</code></p>
<p><strong>Status Codes</strong>:
- <code>200</code>: Success - ZIP file returned
- <code>202</code>: Processing - Job still running, try again later
- <code>400</code>: No archive available (check if <code>includePageImages=true</code> was set)
- <code>404</code>: Job not found
- <code>500</code>: Server error</p>
<p><strong>Note</strong>: The download endpoint only works for jobs that were processed with <code>includePageImages=true</code>. The archive is stored in the job results and can be downloaded even after the initial response.</p>
<h2 id="reference-api-endpoints-pdf-post-apipdfjob">POST /api/pdf/job<a class="headerlink" href="#reference-api-endpoints-pdf-post-apipdfjob" title="Permanent link">&para;</a></h2>
<p>Process PDF asynchronously as a job.</p>
<h3 id="reference-api-endpoints-pdf-request_2">Request<a class="headerlink" href="#reference-api-endpoints-pdf-request_2" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/file.pdf&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;extraction_method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;combined&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MeetingMinutes&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;use_cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;webhook&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/webhook&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;webhook_token&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;jobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;client_job_id&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-pdf-response-success_2">Response (Success)<a class="headerlink" href="#reference-api-endpoints-pdf-response-success_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-pdf-job-status">Job Status<a class="headerlink" href="#reference-api-endpoints-pdf-job-status" title="Permanent link">&para;</a></h3>
<p>Query job status via <code>/api/jobs/{job_id}</code>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;step&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;percent&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Processing completed&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;structured_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;extracted_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></section><section class="print-page" id="reference-api-endpoints-imageocr" heading-number="2.3.2.4"><h1 id="reference-api-endpoints-imageocr-imageocr-api-endpoints">ImageOCR API Endpoints<a class="headerlink" href="#reference-api-endpoints-imageocr-imageocr-api-endpoints" title="Permanent link">&para;</a></h1>
<p>Endpoints for image OCR processing.</p>
<h2 id="reference-api-endpoints-imageocr-post-apiimageocrprocess">POST /api/imageocr/process<a class="headerlink" href="#reference-api-endpoints-imageocr-post-apiimageocrprocess" title="Permanent link">&para;</a></h2>
<p>Process an image file with OCR.</p>
<h3 id="reference-api-endpoints-imageocr-request">Request<a class="headerlink" href="#reference-api-endpoints-imageocr-request" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>multipart/form-data</code></p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>file</code></td>
<td>File</td>
<td>Yes</td>
<td>-</td>
<td>Image file (JPG, PNG, WebP, etc.)</td>
</tr>
<tr>
<td><code>template</code></td>
<td>String</td>
<td>No</td>
<td><code>""</code></td>
<td>Optional template for text transformation</td>
</tr>
<tr>
<td><code>use_cache</code></td>
<td>Boolean</td>
<td>No</td>
<td><code>true</code></td>
<td>Whether to use cache</td>
</tr>
</tbody>
</table>
<h3 id="reference-api-endpoints-imageocr-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-imageocr-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/imageocr/process&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;file=@image.jpg&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;template=DocumentExtraction&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-imageocr-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-imageocr-response-success" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;extracted_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Text extracted from image...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;width&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1920</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1080</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;JPEG&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;dpi&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-imageocr-post-apiimageocrprocess-url">POST /api/imageocr/process-url<a class="headerlink" href="#reference-api-endpoints-imageocr-post-apiimageocrprocess-url" title="Permanent link">&para;</a></h2>
<p>Process an image from URL with OCR.</p>
<h3 id="reference-api-endpoints-imageocr-request_1">Request<a class="headerlink" href="#reference-api-endpoints-imageocr-request_1" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>multipart/form-data</code></p>
<p><strong>Parameters</strong>:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>url</code></td>
<td>String</td>
<td>Yes</td>
<td>-</td>
<td>Image URL</td>
</tr>
<tr>
<td><code>template</code></td>
<td>String</td>
<td>No</td>
<td><code>""</code></td>
<td>Optional template</td>
</tr>
<tr>
<td><code>use_cache</code></td>
<td>Boolean</td>
<td>No</td>
<td><code>true</code></td>
<td>Whether to use cache</td>
</tr>
</tbody>
</table>
<h3 id="reference-api-endpoints-imageocr-request-example_1">Request Example<a class="headerlink" href="#reference-api-endpoints-imageocr-request-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/imageocr/process-url&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;url=https://example.com/image.jpg&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-F<span class="w"> </span><span class="s2">&quot;template=DocumentExtraction&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-imageocr-response-success_1">Response (Success)<a class="headerlink" href="#reference-api-endpoints-imageocr-response-success_1" title="Permanent link">&para;</a></h3>
<p>Same format as <code>/api/imageocr/process</code>.</p></section><section class="print-page" id="reference-api-endpoints-transformer" heading-number="2.3.2.5"><h1 id="reference-api-endpoints-transformer-transformer-api-endpoints">Transformer API Endpoints<a class="headerlink" href="#reference-api-endpoints-transformer-transformer-api-endpoints" title="Permanent link">&para;</a></h1>
<p>Endpoints for text transformation, translation, and template processing.</p>
<h2 id="reference-api-endpoints-transformer-post-apitransformertext">POST /api/transformer/text<a class="headerlink" href="#reference-api-endpoints-transformer-post-apitransformertext" title="Permanent link">&para;</a></h2>
<p>Translate text between languages.</p>
<h3 id="reference-api-endpoints-transformer-request">Request<a class="headerlink" href="#reference-api-endpoints-transformer-request" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Text to translate&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;source_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;de&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;use_cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-transformer-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-transformer-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/transformer/text&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;text&quot;: &quot;Hello, world!&quot;,</span>
<span class="s1">    &quot;source_language&quot;: &quot;en&quot;,</span>
<span class="s1">    &quot;target_language&quot;: &quot;de&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-transformer-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-transformer-response-success" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;original_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hello, world!&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;translated_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Hallo, Welt!&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;source_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;de&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-transformer-post-apitransformertemplate">POST /api/transformer/template<a class="headerlink" href="#reference-api-endpoints-transformer-post-apitransformertemplate" title="Permanent link">&para;</a></h2>
<p>Transform text using a template.</p>
<h3 id="reference-api-endpoints-transformer-request_1">Request<a class="headerlink" href="#reference-api-endpoints-transformer-request_1" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Input text to transform&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MeetingMinutes&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;source_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;de&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;meeting_date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;participants&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Bob&quot;</span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;use_cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-transformer-alternative-template-content">Alternative: Template Content<a class="headerlink" href="#reference-api-endpoints-transformer-alternative-template-content" title="Permanent link">&para;</a></h3>
<p>Instead of template name, provide template content directly:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Input text&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;template_content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Extract: {summary}\nParticipants: {participants}&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;additional_field_descriptions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Brief summary of the meeting&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;participants&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;List of participants&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-transformer-request-example_1">Request Example<a class="headerlink" href="#reference-api-endpoints-transformer-request-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/transformer/template&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;text&quot;: &quot;Meeting notes...&quot;,</span>
<span class="s1">    &quot;template&quot;: &quot;MeetingMinutes&quot;,</span>
<span class="s1">    &quot;source_language&quot;: &quot;en&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-transformer-response-success_1">Response (Success)<a class="headerlink" href="#reference-api-endpoints-transformer-response-success_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;original_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Meeting notes...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;transformed_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Structured meeting minutes...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;template_fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Meeting summary&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;participants&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Bob&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;action_items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-transformer-post-apitransformersummarize">POST /api/transformer/summarize<a class="headerlink" href="#reference-api-endpoints-transformer-post-apitransformersummarize" title="Permanent link">&para;</a></h2>
<p>Summarize text.</p>
<h3 id="reference-api-endpoints-transformer-request_2">Request<a class="headerlink" href="#reference-api-endpoints-transformer-request_2" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Long text to summarize...&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;max_length&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;use_cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-transformer-response-success_2">Response (Success)<a class="headerlink" href="#reference-api-endpoints-transformer-response-success_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;original_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Long text...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Brief summary...&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-transformer-post-apitransformerhtml-to-markdown">POST /api/transformer/html-to-markdown<a class="headerlink" href="#reference-api-endpoints-transformer-post-apitransformerhtml-to-markdown" title="Permanent link">&para;</a></h2>
<p>Convert HTML to Markdown.</p>
<h3 id="reference-api-endpoints-transformer-request_3">Request<a class="headerlink" href="#reference-api-endpoints-transformer-request_3" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;html&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;h1&gt;Title&lt;/h1&gt;&lt;p&gt;Content&lt;/p&gt;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;use_cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-transformer-response-success_3">Response (Success)<a class="headerlink" href="#reference-api-endpoints-transformer-response-success_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;html&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;h1&gt;Title&lt;/h1&gt;...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;markdown&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;# Title\n\nContent&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-transformer-post-apitransformerextract-tables">POST /api/transformer/extract-tables<a class="headerlink" href="#reference-api-endpoints-transformer-post-apitransformerextract-tables" title="Permanent link">&para;</a></h2>
<p>Extract tables from HTML.</p>
<h3 id="reference-api-endpoints-transformer-request_4">Request<a class="headerlink" href="#reference-api-endpoints-transformer-request_4" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;html&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;table&gt;...&lt;/table&gt;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;use_cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-transformer-response-success_4">Response (Success)<a class="headerlink" href="#reference-api-endpoints-transformer-response-success_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;tables&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;headers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Column 1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Column 2&quot;</span><span class="p">],</span>
<span class="w">        </span><span class="nt">&quot;rows&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">[</span><span class="s2">&quot;Value 1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Value 2&quot;</span><span class="p">]</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></section><section class="print-page" id="reference-api-endpoints-session" heading-number="2.3.2.6"><h1 id="reference-api-endpoints-session-session-api-endpoints">Session API Endpoints<a class="headerlink" href="#reference-api-endpoints-session-session-api-endpoints" title="Permanent link">&para;</a></h1>
<p>Endpoints for processing session information and associated media.</p>
<h2 id="reference-api-endpoints-session-post-apisessionprocess">POST /api/session/process<a class="headerlink" href="#reference-api-endpoints-session-post-apisessionprocess" title="Permanent link">&para;</a></h2>
<p>Process a session with URL and associated media.</p>
<h3 id="reference-api-endpoints-session-request">Request<a class="headerlink" href="#reference-api-endpoints-session-request" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Event Name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;session&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session Name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/session-page&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;session_output.md&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;track&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Track Name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;day&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;starttime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;10:00&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;endtime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;11:30&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;speakers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Speaker 1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Speaker 2&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;speakers_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;https://example.com/speaker1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;https://example.com/speaker2&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;speakers_image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;https://example.com/speaker1.jpg&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;video_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/video.mp4&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;attachments_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/attachments.zip&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;source_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;de&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;create_archive&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;use_cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-session-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-session-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/session/process&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;event&quot;: &quot;Conference 2024&quot;,</span>
<span class="s1">    &quot;session&quot;: &quot;Keynote&quot;,</span>
<span class="s1">    &quot;url&quot;: &quot;https://example.com/session&quot;,</span>
<span class="s1">    &quot;filename&quot;: &quot;keynote.md&quot;,</span>
<span class="s1">    &quot;track&quot;: &quot;Main Track&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-session-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-session-response-success" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;markdown_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/keynote.md&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;markdown_content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;# Session Content...&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;attachments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;/path/to/video.mp4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;/path/to/slides.pdf&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;video_transcript&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Transcribed video content...&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;attachments_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Extracted text from attachments...&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;target_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/session/output&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-session-post-apisessionprocess-async">POST /api/session/process-async<a class="headerlink" href="#reference-api-endpoints-session-post-apisessionprocess-async" title="Permanent link">&para;</a></h2>
<p>Process session asynchronously with webhook callback.</p>
<h3 id="reference-api-endpoints-session-request_1">Request<a class="headerlink" href="#reference-api-endpoints-session-request_1" title="Permanent link">&para;</a></h3>
<p>Same as <code>/api/session/process</code>, but processing happens in background.</p>
<h3 id="reference-api-endpoints-session-response-success_1">Response (Success)<a class="headerlink" href="#reference-api-endpoints-session-response-success_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session processing started&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-session-webhook-callback">Webhook Callback<a class="headerlink" href="#reference-api-endpoints-session-webhook-callback" title="Permanent link">&para;</a></h3>
<p>When processing completes, a POST request is sent to the configured webhook URL:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;phase&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session processing completed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;markdown_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/output.md&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;attachments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-session-get-apisessioncached">GET /api/session/cached<a class="headerlink" href="#reference-api-endpoints-session-get-apisessioncached" title="Permanent link">&para;</a></h2>
<p>Retrieve all cached sessions.</p>
<h3 id="reference-api-endpoints-session-request-example_1">Request Example<a class="headerlink" href="#reference-api-endpoints-session-request-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/session/cached&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-session-response-success_2">Response (Success)<a class="headerlink" href="#reference-api-endpoints-session-response-success_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Conference 2024&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;session&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Keynote&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/session&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;cached_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></section><section class="print-page" id="reference-api-endpoints-event" heading-number="2.3.2.7"><h1 id="reference-api-endpoints-event-event-api-endpoints">Event API Endpoints<a class="headerlink" href="#reference-api-endpoints-event-event-api-endpoints" title="Permanent link">&para;</a></h1>
<p>Endpoints for event processing and summarization.</p>
<h2 id="reference-api-endpoints-event-post-apieventsevent_namesummary">POST /api/events/{event_name}/summary<a class="headerlink" href="#reference-api-endpoints-event-post-apieventsevent_namesummary" title="Permanent link">&para;</a></h2>
<p>Generate event summary.</p>
<h3 id="reference-api-endpoints-event-request">Request<a class="headerlink" href="#reference-api-endpoints-event-request" title="Permanent link">&para;</a></h3>
<p><strong>URL Parameters</strong>:
- <code>event_name</code>: Name of the event</p>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong> (optional):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;EventSummary&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;de&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-event-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-event-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/events/Conference2024/summary&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;template&quot;: &quot;EventSummary&quot;,</span>
<span class="s1">    &quot;target_language&quot;: &quot;de&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-event-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-event-response-success" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;event_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Conference2024&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Event summary text...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;tracks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Track 1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;session_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Track summary...&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;total_sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></section><section class="print-page" id="reference-api-endpoints-track" heading-number="2.3.2.8"><h1 id="reference-api-endpoints-track-track-api-endpoints">Track API Endpoints<a class="headerlink" href="#reference-api-endpoints-track-track-api-endpoints" title="Permanent link">&para;</a></h1>
<p>Endpoints for track processing and summarization.</p>
<h2 id="reference-api-endpoints-track-post-apitrackstrack_namesummary">POST /api/tracks/{track_name}/summary<a class="headerlink" href="#reference-api-endpoints-track-post-apitrackstrack_namesummary" title="Permanent link">&para;</a></h2>
<p>Generate track summary.</p>
<h3 id="reference-api-endpoints-track-request">Request<a class="headerlink" href="#reference-api-endpoints-track-request" title="Permanent link">&para;</a></h3>
<p><strong>URL Parameters</strong>:
- <code>track_name</code>: Name of the track</p>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong> (optional):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TrackSummary&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;de&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-track-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-track-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/tracks/MainTrack/summary&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;template&quot;: &quot;TrackSummary&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-track-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-track-response-success" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;track_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MainTrack&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Track summary text...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session 1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session summary...&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;session_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-track-get-apitracksavailable">GET /api/tracks/available<a class="headerlink" href="#reference-api-endpoints-track-get-apitracksavailable" title="Permanent link">&para;</a></h2>
<p>List all available tracks.</p>
<h3 id="reference-api-endpoints-track-request-example_1">Request Example<a class="headerlink" href="#reference-api-endpoints-track-request-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/tracks/available&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-track-response-success_1">Response (Success)<a class="headerlink" href="#reference-api-endpoints-track-response-success_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;tracks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MainTrack&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;session_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;SideTrack&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;session_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-track-post-apitrackstrack_namesummarize_all">POST /api/tracks/{track_name}/summarize_all<a class="headerlink" href="#reference-api-endpoints-track-post-apitrackstrack_namesummarize_all" title="Permanent link">&para;</a></h2>
<p>Summarize all tracks.</p>
<h3 id="reference-api-endpoints-track-request_1">Request<a class="headerlink" href="#reference-api-endpoints-track-request_1" title="Permanent link">&para;</a></h3>
<p><strong>URL Parameters</strong>:
- <code>track_name</code>: Name of the track</p>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong> (optional):</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TrackSummary&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;de&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-track-response-success_2">Response (Success)<a class="headerlink" href="#reference-api-endpoints-track-response-success_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;track_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MainTrack&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;summaries&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;session&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session 1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Summary...&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></section><section class="print-page" id="reference-api-endpoints-story" heading-number="2.3.2.9"><h1 id="reference-api-endpoints-story-story-api-endpoints">Story API Endpoints<a class="headerlink" href="#reference-api-endpoints-story-story-api-endpoints" title="Permanent link">&para;</a></h1>
<p>Endpoints for story generation from sessions.</p>
<h2 id="reference-api-endpoints-story-post-apistorygenerate">POST /api/story/generate<a class="headerlink" href="#reference-api-endpoints-story-post-apistorygenerate" title="Permanent link">&para;</a></h2>
<p>Generate a story from a topic.</p>
<h3 id="reference-api-endpoints-story-request">Request<a class="headerlink" href="#reference-api-endpoints-story-request" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;topic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Topic Name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_group&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;General Public&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;de&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;StoryTemplate&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-story-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-story-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/story/generate&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;topic&quot;: &quot;Climate Change&quot;,</span>
<span class="s1">    &quot;target_group&quot;: &quot;General Public&quot;,</span>
<span class="s1">    &quot;target_language&quot;: &quot;de&quot;</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-story-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-story-response-success" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;topic&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Climate Change&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target_group&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;General Public&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;story&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Generated story text...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;sessions_used&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session 1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;contribution&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Contributed information about...&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-story-get-apistorytopics">GET /api/story/topics<a class="headerlink" href="#reference-api-endpoints-story-get-apistorytopics" title="Permanent link">&para;</a></h2>
<p>List all available topics.</p>
<h3 id="reference-api-endpoints-story-request-example_1">Request Example<a class="headerlink" href="#reference-api-endpoints-story-request-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/story/topics&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-story-response-success_1">Response (Success)<a class="headerlink" href="#reference-api-endpoints-story-response-success_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;topics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Climate Change&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;session_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Technology&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;session_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-story-get-apistorytarget-groups">GET /api/story/target-groups<a class="headerlink" href="#reference-api-endpoints-story-get-apistorytarget-groups" title="Permanent link">&para;</a></h2>
<p>List all available target groups.</p>
<h3 id="reference-api-endpoints-story-request-example_2">Request Example<a class="headerlink" href="#reference-api-endpoints-story-request-example_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/story/target-groups&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-story-response-success_2">Response (Success)<a class="headerlink" href="#reference-api-endpoints-story-response-success_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;target_groups&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;General Public&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Experts&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Students&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;Policy Makers&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></section><section class="print-page" id="reference-api-endpoints-jobs" heading-number="2.3.2.10"><h1 id="reference-api-endpoints-jobs-job-management-api-endpoints">Job Management API Endpoints<a class="headerlink" href="#reference-api-endpoints-jobs-job-management-api-endpoints" title="Permanent link">&para;</a></h1>
<p>Endpoints for managing asynchronous jobs (Secretary Job Worker).</p>
<h2 id="reference-api-endpoints-jobs-post-apijobs">POST /api/jobs/<a class="headerlink" href="#reference-api-endpoints-jobs-post-apijobs" title="Permanent link">&para;</a></h2>
<p>Create a new job for asynchronous processing.</p>
<h3 id="reference-api-endpoints-jobs-request">Request<a class="headerlink" href="#reference-api-endpoints-jobs-request" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/file.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;extraction_method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;combined&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MeetingMinutes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;use_cache&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;optional-user-id&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-jobs-supported-job-types">Supported Job Types<a class="headerlink" href="#reference-api-endpoints-jobs-supported-job-types" title="Permanent link">&para;</a></h3>
<ul>
<li><code>pdf</code>: PDF processing (see <a href="#explanations-async-events-handlers">PDF Handler documentation</a>)</li>
<li><code>session</code>: Session processing</li>
<li><code>transformer</code>: Template transformation</li>
</ul>
<h3 id="reference-api-endpoints-jobs-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-jobs-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/jobs/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;job_type&quot;: &quot;pdf&quot;,</span>
<span class="s1">    &quot;parameters&quot;: {</span>
<span class="s1">      &quot;filename&quot;: &quot;/path/to/file.pdf&quot;,</span>
<span class="s1">      &quot;extraction_method&quot;: &quot;combined&quot;</span>
<span class="s1">    }</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-jobs-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-jobs-response-success" title="Permanent link">&para;</a></h3>
<p><strong>Status Code</strong>: <code>200 OK</code></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;job&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-id-123&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-jobs-post-apijobsbatch">POST /api/jobs/batch<a class="headerlink" href="#reference-api-endpoints-jobs-post-apijobsbatch" title="Permanent link">&para;</a></h2>
<p>Create a batch of jobs for parallel processing.</p>
<h3 id="reference-api-endpoints-jobs-request_1">Request<a class="headerlink" href="#reference-api-endpoints-jobs-request_1" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;batch_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My Batch&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/file1.pdf&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/file2.pdf&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-jobs-response-success_1">Response (Success)<a class="headerlink" href="#reference-api-endpoints-jobs-response-success_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;batch_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;batch-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;batch&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;batch_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;batch-id-123&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;batch_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My Batch&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;job_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-jobs-get-apijobsjob_id">GET /api/jobs/{job_id}<a class="headerlink" href="#reference-api-endpoints-jobs-get-apijobsjob_id" title="Permanent link">&para;</a></h2>
<p>Get job status and results.</p>
<h3 id="reference-api-endpoints-jobs-request_2">Request<a class="headerlink" href="#reference-api-endpoints-jobs-request_2" title="Permanent link">&para;</a></h3>
<p><strong>URL Parameters</strong>:
- <code>job_id</code>: Job identifier</p>
<h3 id="reference-api-endpoints-jobs-request-example_1">Request Example<a class="headerlink" href="#reference-api-endpoints-jobs-request-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/jobs/job-id-123&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-jobs-response-success_2">Response (Success)<a class="headerlink" href="#reference-api-endpoints-jobs-response-success_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T00:05:00Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;step&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;percent&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Processing completed&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;structured_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;extracted_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;assets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;/path/to/image1.jpg&quot;</span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;target_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/results&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;logs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;info&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Job started&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-jobs-job-status-values">Job Status Values<a class="headerlink" href="#reference-api-endpoints-jobs-job-status-values" title="Permanent link">&para;</a></h3>
<ul>
<li><code>pending</code>: Job is waiting to be processed</li>
<li><code>processing</code>: Job is currently being processed</li>
<li><code>completed</code>: Job completed successfully</li>
<li><code>failed</code>: Job failed with an error</li>
</ul>
<h2 id="reference-api-endpoints-jobs-get-apijobsbatchbatch_id">GET /api/jobs/batch/{batch_id}<a class="headerlink" href="#reference-api-endpoints-jobs-get-apijobsbatchbatch_id" title="Permanent link">&para;</a></h2>
<p>Get batch status and all jobs in the batch.</p>
<h3 id="reference-api-endpoints-jobs-request-example_2">Request Example<a class="headerlink" href="#reference-api-endpoints-jobs-request-example_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/jobs/batch/batch-id-123&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-jobs-response-success_3">Response (Success)<a class="headerlink" href="#reference-api-endpoints-jobs-response-success_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;batch_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;batch-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;batch_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My Batch&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;job_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;completed_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;failed_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-2&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-jobs-get-apijobsjob_iddownload-archive">GET /api/jobs/{job_id}/download-archive<a class="headerlink" href="#reference-api-endpoints-jobs-get-apijobsjob_iddownload-archive" title="Permanent link">&para;</a></h2>
<p>Download job archive (ZIP file) if available.</p>
<h3 id="reference-api-endpoints-jobs-request-example_3">Request Example<a class="headerlink" href="#reference-api-endpoints-jobs-request-example_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/jobs/job-id-123/download-archive&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span>archive.zip
</code></pre></div>
<h3 id="reference-api-endpoints-jobs-response">Response<a class="headerlink" href="#reference-api-endpoints-jobs-response" title="Permanent link">&para;</a></h3>
<p>Returns ZIP file as binary download.</p>
<h2 id="reference-api-endpoints-jobs-webhook-integration">Webhook Integration<a class="headerlink" href="#reference-api-endpoints-jobs-webhook-integration" title="Permanent link">&para;</a></h2>
<p>Jobs can be configured with webhooks for completion notifications.</p>
<h3 id="reference-api-endpoints-jobs-webhook-configuration">Webhook Configuration<a class="headerlink" href="#reference-api-endpoints-jobs-webhook-configuration" title="Permanent link">&para;</a></h3>
<p>Include <code>webhook</code> in job parameters:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/file.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;webhook&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/webhook&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;webhook_auth_token&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;jobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;client_job_id&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-jobs-webhook-payload">Webhook Payload<a class="headerlink" href="#reference-api-endpoints-jobs-webhook-payload" title="Permanent link">&para;</a></h3>
<p>When job completes, a POST request is sent to the webhook URL:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;phase&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Processing completed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;extracted_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-jobs-progress-webhooks">Progress Webhooks<a class="headerlink" href="#reference-api-endpoints-jobs-progress-webhooks" title="Permanent link">&para;</a></h3>
<p>Progress updates are sent during processing:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;phase&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;processing&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Extracting text from PDF...&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;process&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-id-123&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-jobs-related-documentation">Related Documentation<a class="headerlink" href="#reference-api-endpoints-jobs-related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#explanations-async-events-secretary-job-worker-detailed">Secretary Job Worker</a> - Detailed worker documentation</li>
<li><a href="#explanations-async-events-handlers">Handlers</a> - Handler documentation</li>
</ul></section><section class="print-page" id="reference-api-endpoints-event-job" heading-number="2.3.2.11"><h1 id="reference-api-endpoints-event-job-event-job-api-endpoints-legacy">Event Job API Endpoints (Legacy)<a class="headerlink" href="#reference-api-endpoints-event-job-event-job-api-endpoints-legacy" title="Permanent link">&para;</a></h1>
<p>Legacy endpoints for event job management. Consider using <code>/api/jobs/</code> endpoints instead.</p>
<h2 id="reference-api-endpoints-event-job-post-apievent-jobjobs">POST /api/event-job/jobs<a class="headerlink" href="#reference-api-endpoints-event-job-post-apievent-jobjobs" title="Permanent link">&para;</a></h2>
<p>Create a session job.</p>
<h3 id="reference-api-endpoints-event-job-request">Request<a class="headerlink" href="#reference-api-endpoints-event-job-request" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Event Name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;session&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session Name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/session&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;session.md&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;track&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Track Name&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;source_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;de&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-event-job-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-event-job-response-success" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-event-job-get-apievent-jobjobsjob_id">GET /api/event-job/jobs/{job_id}<a class="headerlink" href="#reference-api-endpoints-event-job-get-apievent-jobjobsjob_id" title="Permanent link">&para;</a></h2>
<p>Get job details.</p>
<h3 id="reference-api-endpoints-event-job-response-success_1">Response (Success)<a class="headerlink" href="#reference-api-endpoints-event-job-response-success_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;step&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;percent&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;markdown_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/output.md&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;assets&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-event-job-post-apievent-jobbatches">POST /api/event-job/batches<a class="headerlink" href="#reference-api-endpoints-event-job-post-apievent-jobbatches" title="Permanent link">&para;</a></h2>
<p>Create a batch of jobs.</p>
<h3 id="reference-api-endpoints-event-job-request_1">Request<a class="headerlink" href="#reference-api-endpoints-event-job-request_1" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;batch_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My Batch&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Event 1&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;session&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session 1&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/session1&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Event 2&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;session&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Session 2&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/session2&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-event-job-response-success_2">Response (Success)<a class="headerlink" href="#reference-api-endpoints-event-job-response-success_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;batch_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;batch-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;batch_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My Batch&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;job_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-event-job-get-apievent-jobbatchesbatch_id">GET /api/event-job/batches/{batch_id}<a class="headerlink" href="#reference-api-endpoints-event-job-get-apievent-jobbatchesbatch_id" title="Permanent link">&para;</a></h2>
<p>Get batch details.</p>
<h3 id="reference-api-endpoints-event-job-response-success_3">Response (Success)<a class="headerlink" href="#reference-api-endpoints-event-job-response-success_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;batch_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;batch-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;batch_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;My Batch&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;job_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;completed_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;failed_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-event-job-get-apievent-jobfilespath">GET /api/event-job/files/{path}<a class="headerlink" href="#reference-api-endpoints-event-job-get-apievent-jobfilespath" title="Permanent link">&para;</a></h2>
<p>Download a job file.</p>
<h3 id="reference-api-endpoints-event-job-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-event-job-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/event-job/files/path/to/file.md&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span>file.md
</code></pre></div>
<h3 id="reference-api-endpoints-event-job-response">Response<a class="headerlink" href="#reference-api-endpoints-event-job-response" title="Permanent link">&para;</a></h3>
<p>Returns file as binary download.</p>
<h2 id="reference-api-endpoints-event-job-post-apievent-jobjob_idrestart">POST /api/event-job/{job_id}/restart<a class="headerlink" href="#reference-api-endpoints-event-job-post-apievent-jobjob_idrestart" title="Permanent link">&para;</a></h2>
<p>Restart a failed job.</p>
<h3 id="reference-api-endpoints-event-job-request-example_1">Request Example<a class="headerlink" href="#reference-api-endpoints-event-job-request-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/event-job/job-id-123/restart&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-event-job-response-success_4">Response (Success)<a class="headerlink" href="#reference-api-endpoints-event-job-response-success_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Job restarted&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-event-job-get-apievent-jobbatchesbatch_idarchive">GET /api/event-job/batches/{batch_id}/archive<a class="headerlink" href="#reference-api-endpoints-event-job-get-apievent-jobbatchesbatch_idarchive" title="Permanent link">&para;</a></h2>
<p>Download batch archive (ZIP).</p>
<h3 id="reference-api-endpoints-event-job-request-example_2">Request Example<a class="headerlink" href="#reference-api-endpoints-event-job-request-example_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/event-job/batches/batch-id-123/archive&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span>batch.zip
</code></pre></div>
<h3 id="reference-api-endpoints-event-job-response_1">Response<a class="headerlink" href="#reference-api-endpoints-event-job-response_1" title="Permanent link">&para;</a></h3>
<p>Returns ZIP file as binary download.</p>
<h2 id="reference-api-endpoints-event-job-post-apievent-jobbatchesbatch_idtoggle-active">POST /api/event-job/batches/{batch_id}/toggle-active<a class="headerlink" href="#reference-api-endpoints-event-job-post-apievent-jobbatchesbatch_idtoggle-active" title="Permanent link">&para;</a></h2>
<p>Toggle batch active status.</p>
<h3 id="reference-api-endpoints-event-job-request-example_3">Request Example<a class="headerlink" href="#reference-api-endpoints-event-job-request-example_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/event-job/batches/batch-id-123/toggle-active&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-event-job-response-success_5">Response (Success)<a class="headerlink" href="#reference-api-endpoints-event-job-response-success_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;batch_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;batch-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Batch status toggled&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-event-job-post-apievent-jobbatchesfail-all">POST /api/event-job/batches/fail-all<a class="headerlink" href="#reference-api-endpoints-event-job-post-apievent-jobbatchesfail-all" title="Permanent link">&para;</a></h2>
<p>Fail all jobs in a batch.</p>
<h3 id="reference-api-endpoints-event-job-request_2">Request<a class="headerlink" href="#reference-api-endpoints-event-job-request_2" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;batch_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;batch-id-123&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Manual failure&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-event-job-response-success_6">Response (Success)<a class="headerlink" href="#reference-api-endpoints-event-job-response-success_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;batch_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;batch-id-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;failed_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;All jobs failed&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-event-job-get-apievent-jobjobsjob_iddownload-archive">GET /api/event-job/jobs/{job_id}/download-archive<a class="headerlink" href="#reference-api-endpoints-event-job-get-apievent-jobjobsjob_iddownload-archive" title="Permanent link">&para;</a></h2>
<p>Download job archive (ZIP).</p>
<h3 id="reference-api-endpoints-event-job-request-example_4">Request Example<a class="headerlink" href="#reference-api-endpoints-event-job-request-example_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/event-job/jobs/job-id-123/download-archive&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span>archive.zip
</code></pre></div>
<h3 id="reference-api-endpoints-event-job-response_2">Response<a class="headerlink" href="#reference-api-endpoints-event-job-response_2" title="Permanent link">&para;</a></h3>
<p>Returns ZIP file as binary download.</p></section><section class="print-page" id="reference-api-endpoints-common" heading-number="2.3.2.12"><h1 id="reference-api-endpoints-common-common-api-endpoints">Common API Endpoints<a class="headerlink" href="#reference-api-endpoints-common-common-api-endpoints" title="Permanent link">&para;</a></h1>
<p>General endpoints for common operations.</p>
<h2 id="reference-api-endpoints-common-get-apicommon">GET /api/common/<a class="headerlink" href="#reference-api-endpoints-common-get-apicommon" title="Permanent link">&para;</a></h2>
<p>API home endpoint.</p>
<h3 id="reference-api-endpoints-common-request-example">Request Example<a class="headerlink" href="#reference-api-endpoints-common-request-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/common/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-common-response">Response<a class="headerlink" href="#reference-api-endpoints-common-response" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Welcome to Common Secretary Services API&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-common-post-apicommonnotion">POST /api/common/notion<a class="headerlink" href="#reference-api-endpoints-common-post-apicommonnotion" title="Permanent link">&para;</a></h2>
<p>Process Notion blocks and create multilingual newsfeed entry.</p>
<h3 id="reference-api-endpoints-common-request">Request<a class="headerlink" href="#reference-api-endpoints-common-request" title="Permanent link">&para;</a></h3>
<p><strong>Content-Type</strong>: <code>application/json</code></p>
<p><strong>Body</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;blocks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;paragraph&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Block content&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;source_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_language&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;de&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="reference-api-endpoints-common-response-success">Response (Success)<a class="headerlink" href="#reference-api-endpoints-common-response-success" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;processed_blocks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;newsfeed_entry&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Multilingual newsfeed content...&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-common-get-apicommonsamples">GET /api/common/samples<a class="headerlink" href="#reference-api-endpoints-common-get-apicommonsamples" title="Permanent link">&para;</a></h2>
<p>List all available sample files.</p>
<h3 id="reference-api-endpoints-common-request-example_1">Request Example<a class="headerlink" href="#reference-api-endpoints-common-request-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/common/samples&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="reference-api-endpoints-common-response-success_1">Response (Success)<a class="headerlink" href="#reference-api-endpoints-common-response-success_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;samples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sample_audio.mp3&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1024000</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;audio&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sample_video.mp4&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5120000</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;video&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="reference-api-endpoints-common-get-apicommonsamplesfilename">GET /api/common/samples/{filename}<a class="headerlink" href="#reference-api-endpoints-common-get-apicommonsamplesfilename" title="Permanent link">&para;</a></h2>
<p>Download a specific sample file.</p>
<h3 id="reference-api-endpoints-common-request-example_2">Request Example<a class="headerlink" href="#reference-api-endpoints-common-request-example_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/common/samples/sample_audio.mp3&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span>sample_audio.mp3
</code></pre></div>
<h3 id="reference-api-endpoints-common-response_1">Response<a class="headerlink" href="#reference-api-endpoints-common-response_1" title="Permanent link">&para;</a></h3>
<p>Returns file as binary download.</p></section></section><section class="print-page" id="reference-api-openapi" heading-number="2.3.3"><h1 id="reference-api-openapi-openapi-swagger-documentation">OpenAPI / Swagger Documentation<a class="headerlink" href="#reference-api-openapi-openapi-swagger-documentation" title="Permanent link">&para;</a></h1>
<p>Interactive API documentation via Swagger UI.</p>
<h2 id="reference-api-openapi-accessing-swagger-ui">Accessing Swagger UI<a class="headerlink" href="#reference-api-openapi-accessing-swagger-ui" title="Permanent link">&para;</a></h2>
<p>The Swagger UI is available at:</p>
<ul>
<li><strong>Local</strong>: <code>http://localhost:5001/api/doc</code></li>
<li><strong>Production</strong>: <code>https://commonsecretaryservices.bcommonslab.org/api/doc</code></li>
</ul>
<h2 id="reference-api-openapi-features">Features<a class="headerlink" href="#reference-api-openapi-features" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Interactive API Explorer</strong>: Test all endpoints directly from the browser</li>
<li><strong>Request/Response Examples</strong>: See example requests and responses for each endpoint</li>
<li><strong>Authentication</strong>: Enter your API key directly in the Swagger UI</li>
<li><strong>Schema Documentation</strong>: View detailed request/response schemas</li>
<li><strong>Try It Out</strong>: Execute API calls directly from the documentation</li>
</ul>
<h2 id="reference-api-openapi-using-swagger-ui">Using Swagger UI<a class="headerlink" href="#reference-api-openapi-using-swagger-ui" title="Permanent link">&para;</a></h2>
<h3 id="reference-api-openapi-1-access-the-swagger-ui">1. Access the Swagger UI<a class="headerlink" href="#reference-api-openapi-1-access-the-swagger-ui" title="Permanent link">&para;</a></h3>
<p>Navigate to <code>/api/doc</code> in your browser.</p>
<h3 id="reference-api-openapi-2-authenticate">2. Authenticate<a class="headerlink" href="#reference-api-openapi-2-authenticate" title="Permanent link">&para;</a></h3>
<p>Click the "Authorize" button at the top of the page and enter your API key:
- <strong>API Key</strong>: Your <code>SECRETARY_SERVICE_API_KEY</code> value
- <strong>Format</strong>: Enter the key directly (no "Bearer" prefix needed)</p>
<h3 id="reference-api-openapi-3-explore-endpoints">3. Explore Endpoints<a class="headerlink" href="#reference-api-openapi-3-explore-endpoints" title="Permanent link">&para;</a></h3>
<p>Browse endpoints by category:
- Audio Processing
- Video Processing
- PDF Processing
- ImageOCR
- Transformer
- Session Processing
- Event Processing
- Track Processing
- Story Generation
- Job Management</p>
<h3 id="reference-api-openapi-4-test-endpoints">4. Test Endpoints<a class="headerlink" href="#reference-api-openapi-4-test-endpoints" title="Permanent link">&para;</a></h3>
<ol>
<li>Click on an endpoint to expand it</li>
<li>Click "Try it out"</li>
<li>Fill in the required parameters</li>
<li>Click "Execute"</li>
<li>View the response</li>
</ol>
<h2 id="reference-api-openapi-openapi-specification">OpenAPI Specification<a class="headerlink" href="#reference-api-openapi-openapi-specification" title="Permanent link">&para;</a></h2>
<p>The OpenAPI specification (Swagger JSON) is available at:</p>
<ul>
<li><code>/api/swagger.json</code></li>
</ul>
<p>You can download this specification and use it with:
- Postman
- Insomnia
- Other API clients
- Code generation tools</p>
<h3 id="reference-api-openapi-downloading-the-specification">Downloading the Specification<a class="headerlink" href="#reference-api-openapi-downloading-the-specification" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/swagger.json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-o<span class="w"> </span>swagger.json
</code></pre></div>
<h2 id="reference-api-openapi-authentication-in-swagger-ui">Authentication in Swagger UI<a class="headerlink" href="#reference-api-openapi-authentication-in-swagger-ui" title="Permanent link">&para;</a></h2>
<p>Swagger UI supports two authentication methods:</p>
<ol>
<li><strong>API Key Header</strong>: <code>X-Secretary-Api-Key: &lt;token&gt;</code></li>
<li><strong>Bearer Token</strong>: <code>Authorization: Bearer &lt;token&gt;</code></li>
</ol>
<p>Both methods are configured in the Swagger UI authorization dialog.</p>
<h2 id="reference-api-openapi-exempt-paths">Exempt Paths<a class="headerlink" href="#reference-api-openapi-exempt-paths" title="Permanent link">&para;</a></h2>
<p>The following paths do not require authentication and can be accessed without an API key:
- <code>/api/doc</code> - Swagger UI itself
- <code>/api/swagger.json</code> - OpenAPI specification
- <code>/api/health</code> - Health check endpoints</p>
<h2 id="reference-api-openapi-ip-whitelist">IP Whitelist<a class="headerlink" href="#reference-api-openapi-ip-whitelist" title="Permanent link">&para;</a></h2>
<p>For Swagger UI access, you can configure an IP whitelist via the <code>ALLOW_SWAGGER_WHITELIST</code> environment variable:</p>
<div class="highlight"><pre><span></span><code><span class="nv">ALLOW_SWAGGER_WHITELIST</span><span class="o">=</span><span class="m">192</span>.168.1.0/24,10.0.0.1
</code></pre></div>
<p>This allows access to Swagger UI from specified IP addresses without authentication.</p>
<h2 id="reference-api-openapi-localhost-access">Localhost Access<a class="headerlink" href="#reference-api-openapi-localhost-access" title="Permanent link">&para;</a></h2>
<p>For local development, you can allow localhost access without authentication:</p>
<div class="highlight"><pre><span></span><code><span class="nv">ALLOW_LOCALHOST_NO_AUTH</span><span class="o">=</span><span class="nb">true</span>
</code></pre></div>
<p>This allows access from <code>127.0.0.1</code> and <code>localhost</code> without an API key.</p>
<h2 id="reference-api-openapi-related-documentation">Related Documentation<a class="headerlink" href="#reference-api-openapi-related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#reference-api-overview">API Overview</a> - Complete API endpoint overview</li>
<li><a href="#reference-api-openapi-endpoints">Endpoint Documentation</a> - Detailed endpoint documentation</li>
</ul></section></section>
                    <section class='print-page md-section' id='section-2-4' heading-number='2.4'>
                        <h1>Data Models<a class='headerlink' href='#section-2-4' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="reference-data-models" heading-number="2.4.1"><h1 id="reference-data-models-data-models-reference">Data Models Reference<a class="headerlink" href="#reference-data-models-data-models-reference" title="Permanent link">&para;</a></h1>
<p>Complete documentation of all dataclasses and Pydantic models used throughout Common Secretary Services.</p>
<h2 id="reference-data-models-overview">Overview<a class="headerlink" href="#reference-data-models-overview" title="Permanent link">&para;</a></h2>
<p>All data models follow a consistent structure:
- <strong>Type Safety</strong>: Strict type annotations with Python <code>typing</code> module
- <strong>Validation</strong>: Field validation in <code>__post_init__</code> methods
- <strong>Serialization</strong>: <code>to_dict()</code> and <code>from_dict()</code> methods for JSON conversion
- <strong>Immutability</strong>: Many models use <code>frozen=True</code> for immutability
- <strong>Slots</strong>: Performance optimization with <code>slots=True</code> where applicable</p>
<h2 id="reference-data-models-model-categories">Model Categories<a class="headerlink" href="#reference-data-models-model-categories" title="Permanent link">&para;</a></h2>
<h3 id="reference-data-models-base-models">Base Models<a class="headerlink" href="#reference-data-models-base-models" title="Permanent link">&para;</a></h3>
<p>Fundamental models used by all processors:</p>
<ul>
<li><strong><a href="#reference-data-models-base">Base Models</a></strong> - BaseResponse, ErrorInfo, RequestInfo, ProcessInfo</li>
</ul>
<h3 id="reference-data-models-processor-specific-models">Processor-Specific Models<a class="headerlink" href="#reference-data-models-processor-specific-models" title="Permanent link">&para;</a></h3>
<p>Models for specific processors:</p>
<ul>
<li><strong><a href="#reference-data-models-audio.md">Audio Models</a></strong> - AudioResponse, TranscriptionResult, TranscriptionSegment</li>
<li><strong><a href="#reference-data-models-video.md">Video Models</a></strong> - VideoResponse, VideoProcessingResult, VideoSource</li>
<li><strong><a href="#reference-data-models-pdf.md">PDF Models</a></strong> - PDFResponse, PDFMetadata, PDFProcessingResult</li>
<li><strong><a href="#reference-data-models-imageocr.md">ImageOCR Models</a></strong> - ImageOCRResponse, ImageOCRMetadata</li>
<li><strong><a href="#reference-data-models-transformer.md">Transformer Models</a></strong> - TransformerResponse, TemplateField, TemplateFields</li>
<li><strong><a href="#reference-data-models-session.md">Session Models</a></strong> - SessionResponse, SessionInput, SessionOutput, SessionData</li>
<li><strong><a href="#reference-data-models-event.md">Event Models</a></strong> - EventResponse, EventInput, EventOutput, EventData</li>
<li><strong><a href="#reference-data-models-track.md">Track Models</a></strong> - TrackResponse, TrackInput, TrackOutput, TrackData</li>
<li><strong><a href="#reference-data-models-story.md">Story Models</a></strong> - StoryResponse, StoryProcessorInput, StoryProcessorOutput</li>
<li><strong><a href="#reference-data-models-youtube.md">YouTube Models</a></strong> - YoutubeResponse, YoutubeMetadata, YoutubeProcessingResult</li>
</ul>
<h3 id="reference-data-models-system-models">System Models<a class="headerlink" href="#reference-data-models-system-models" title="Permanent link">&para;</a></h3>
<p>Models for system functionality:</p>
<ul>
<li><strong><a href="#reference-data-models-job">Job Models</a></strong> - Job, Batch, JobStatus, JobProgress, JobResults</li>
<li><strong><a href="#reference-data-models-llm">LLM Models</a></strong> - LLMInfo, LLMRequest, LLModel</li>
<li><strong><a href="#reference-data-models-metadata.md">Metadata Models</a></strong> - MetadataResponse, ContentMetadata, TechnicalMetadata</li>
<li><strong><a href="#reference-data-models-translation.md">Translation Models</a></strong> - Translation</li>
<li><strong><a href="#reference-data-models-notion.md">Notion Models</a></strong> - NotionBlock, NotionPage, NotionResponse</li>
</ul>
<h3 id="reference-data-models-enums-and-types">Enums and Types<a class="headerlink" href="#reference-data-models-enums-and-types" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><a href="#reference-data-models-enums.md">Enums</a></strong> - ProcessorType, ProcessingStatus, OutputFormat, EventFormat, PublicationStatus, LanguageCode</li>
</ul>
<h2 id="reference-data-models-common-patterns">Common Patterns<a class="headerlink" href="#reference-data-models-common-patterns" title="Permanent link">&para;</a></h2>
<h3 id="reference-data-models-response-format">Response Format<a class="headerlink" href="#reference-data-models-response-format" title="Permanent link">&para;</a></h3>
<p>All API responses follow this structure:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">BaseResponse</span><span class="p">:</span>
    <span class="n">status</span><span class="p">:</span> <span class="n">ProcessingStatus</span>
    <span class="n">request</span><span class="p">:</span> <span class="n">RequestInfo</span>
    <span class="n">process</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ProcessInfo</span><span class="p">]</span>
    <span class="n">error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ErrorInfo</span><span class="p">]</span>
    <span class="n">data</span><span class="p">:</span> <span class="n">Any</span>  <span class="c1"># Processor-specific data</span>
</code></pre></div>
<h3 id="reference-data-models-error-handling">Error Handling<a class="headerlink" href="#reference-data-models-error-handling" title="Permanent link">&para;</a></h3>
<p>Errors are structured as:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ErrorInfo</span><span class="p">:</span>
    <span class="n">code</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">message</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">details</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
</code></pre></div>
<h3 id="reference-data-models-process-tracking">Process Tracking<a class="headerlink" href="#reference-data-models-process-tracking" title="Permanent link">&para;</a></h3>
<p>Process information includes LLM tracking:</p>
<div class="highlight"><pre><span></span><code><span class="nd">@dataclass</span>
<span class="k">class</span><span class="w"> </span><span class="nc">ProcessInfo</span><span class="p">:</span>
    <span class="nb">id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">main_processor</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">started</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">completed</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">duration</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span>
    <span class="n">llm_info</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">LLMInfo</span><span class="p">]</span>  <span class="c1"># LLM usage tracking</span>
    <span class="n">is_from_cache</span><span class="p">:</span> <span class="nb">bool</span>
    <span class="n">cache_key</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
</code></pre></div>
<h2 id="reference-data-models-usage-examples">Usage Examples<a class="headerlink" href="#reference-data-models-usage-examples" title="Permanent link">&para;</a></h2>
<h3 id="reference-data-models-creating-a-response">Creating a Response<a class="headerlink" href="#reference-data-models-creating-a-response" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseResponse</span><span class="p">,</span> <span class="n">RequestInfo</span><span class="p">,</span> <span class="n">ProcessInfo</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.enums</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProcessingStatus</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">BaseResponse</span><span class="p">(</span>
    <span class="n">status</span><span class="o">=</span><span class="n">ProcessingStatus</span><span class="o">.</span><span class="n">SUCCESS</span><span class="p">,</span>
    <span class="n">request</span><span class="o">=</span><span class="n">RequestInfo</span><span class="p">(</span>
        <span class="n">processor</span><span class="o">=</span><span class="s2">&quot;audio&quot;</span><span class="p">,</span>
        <span class="n">timestamp</span><span class="o">=</span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span>
    <span class="p">),</span>
    <span class="n">process</span><span class="o">=</span><span class="n">ProcessInfo</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;process-123&quot;</span><span class="p">,</span>
        <span class="n">main_processor</span><span class="o">=</span><span class="s2">&quot;audio&quot;</span><span class="p">,</span>
        <span class="n">started</span><span class="o">=</span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span>
    <span class="p">),</span>
    <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;transcription&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">}</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="reference-data-models-serialization">Serialization<a class="headerlink" href="#reference-data-models-serialization" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># Convert to dictionary</span>
<span class="n">response_dict</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>

<span class="c1"># Convert to JSON</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="n">json_str</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response_dict</span><span class="p">)</span>
</code></pre></div>
<h3 id="reference-data-models-deserialization">Deserialization<a class="headerlink" href="#reference-data-models-deserialization" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="c1"># From dictionary</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">BaseResponse</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">response_dict</span><span class="p">)</span>

<span class="c1"># From JSON</span>
<span class="n">response_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">BaseResponse</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">response_dict</span><span class="p">)</span>
</code></pre></div>
<h2 id="reference-data-models-related-documentation">Related Documentation<a class="headerlink" href="#reference-data-models-related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#reference-api-overview">API Reference</a> - API endpoints using these models</li>
<li><a href="#reference-configuration">Configuration Reference</a> - Configuration options</li>
<li><a href="#reference-code-index">Code Index</a> - All documented modules</li>
</ul></section><section class="print-page" id="reference-data-models-base" heading-number="2.4.2"><h1 id="reference-data-models-base-base-models">Base Models<a class="headerlink" href="#reference-data-models-base-base-models" title="Permanent link">&para;</a></h1>
<p>Fundamental dataclasses used by all processors and API routes.</p>
<h2 id="reference-data-models-base-baseresponse">BaseResponse<a class="headerlink" href="#reference-data-models-base-baseresponse" title="Permanent link">&para;</a></h2>
<p>Base class for all API responses with standardized format.</p>
<h3 id="reference-data-models-base-fields">Fields<a class="headerlink" href="#reference-data-models-base-fields" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>status</code></td>
<td><code>ProcessingStatus</code></td>
<td>Status of the processing (SUCCESS, ERROR, PENDING)</td>
</tr>
<tr>
<td><code>request</code></td>
<td><code>RequestInfo</code></td>
<td>Information about the request</td>
</tr>
<tr>
<td><code>process</code></td>
<td><code>Optional[ProcessInfo]</code></td>
<td>Information about the processing process</td>
</tr>
<tr>
<td><code>error</code></td>
<td><code>Optional[ErrorInfo]</code></td>
<td>Error information (if status is ERROR)</td>
</tr>
<tr>
<td><code>data</code></td>
<td><code>Any</code></td>
<td>Processor-specific data</td>
</tr>
</tbody>
</table>
<h3 id="reference-data-models-base-example">Example<a class="headerlink" href="#reference-data-models-base-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseResponse</span><span class="p">,</span> <span class="n">RequestInfo</span><span class="p">,</span> <span class="n">ProcessInfo</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.enums</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProcessingStatus</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">BaseResponse</span><span class="p">(</span>
    <span class="n">status</span><span class="o">=</span><span class="n">ProcessingStatus</span><span class="o">.</span><span class="n">SUCCESS</span><span class="p">,</span>
    <span class="n">request</span><span class="o">=</span><span class="n">RequestInfo</span><span class="p">(</span>
        <span class="n">processor</span><span class="o">=</span><span class="s2">&quot;audio&quot;</span><span class="p">,</span>
        <span class="n">timestamp</span><span class="o">=</span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span>
    <span class="p">),</span>
    <span class="n">process</span><span class="o">=</span><span class="n">ProcessInfo</span><span class="p">(</span>
        <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;process-123&quot;</span><span class="p">,</span>
        <span class="n">main_processor</span><span class="o">=</span><span class="s2">&quot;audio&quot;</span><span class="p">,</span>
        <span class="n">started</span><span class="o">=</span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span>
    <span class="p">),</span>
    <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;transcription&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">}</span>
<span class="p">)</span>
</code></pre></div>
<h2 id="reference-data-models-base-errorinfo">ErrorInfo<a class="headerlink" href="#reference-data-models-base-errorinfo" title="Permanent link">&para;</a></h2>
<p>Structured error information for API responses.</p>
<h3 id="reference-data-models-base-fields_1">Fields<a class="headerlink" href="#reference-data-models-base-fields_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code</code></td>
<td><code>str</code></td>
<td>Error code identifier</td>
</tr>
<tr>
<td><code>message</code></td>
<td><code>str</code></td>
<td>Human-readable error message</td>
</tr>
<tr>
<td><code>details</code></td>
<td><code>Dict[str, Any]</code></td>
<td>Additional error details</td>
</tr>
</tbody>
</table>
<h3 id="reference-data-models-base-example_1">Example<a class="headerlink" href="#reference-data-models-base-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">ErrorInfo</span>

<span class="n">error</span> <span class="o">=</span> <span class="n">ErrorInfo</span><span class="p">(</span>
    <span class="n">code</span><span class="o">=</span><span class="s2">&quot;INVALID_FORMAT&quot;</span><span class="p">,</span>
    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;The format &#39;xyz&#39; is not supported&quot;</span><span class="p">,</span>
    <span class="n">details</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;supported_formats&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;mp3&quot;</span><span class="p">,</span> <span class="s2">&quot;wav&quot;</span><span class="p">]}</span>
<span class="p">)</span>
</code></pre></div>
<h2 id="reference-data-models-base-requestinfo">RequestInfo<a class="headerlink" href="#reference-data-models-base-requestinfo" title="Permanent link">&para;</a></h2>
<p>Information about a processing request.</p>
<h3 id="reference-data-models-base-fields_2">Fields<a class="headerlink" href="#reference-data-models-base-fields_2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>processor</code></td>
<td><code>str</code></td>
<td>Name of the processor</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td><code>str</code></td>
<td>ISO 8601 timestamp of the request</td>
</tr>
<tr>
<td><code>parameters</code></td>
<td><code>Dict[str, Any]</code></td>
<td>Request parameters</td>
</tr>
</tbody>
</table>
<h2 id="reference-data-models-base-processinfo">ProcessInfo<a class="headerlink" href="#reference-data-models-base-processinfo" title="Permanent link">&para;</a></h2>
<p>Information about a processing process, including LLM tracking.</p>
<h3 id="reference-data-models-base-fields_3">Fields<a class="headerlink" href="#reference-data-models-base-fields_3" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td><code>str</code></td>
<td>Unique process identifier</td>
</tr>
<tr>
<td><code>main_processor</code></td>
<td><code>str</code></td>
<td>Name of the main processor</td>
</tr>
<tr>
<td><code>started</code></td>
<td><code>str</code></td>
<td>ISO 8601 timestamp when processing started</td>
</tr>
<tr>
<td><code>sub_processors</code></td>
<td><code>List[str]</code></td>
<td>List of sub-processors used</td>
</tr>
<tr>
<td><code>completed</code></td>
<td><code>Optional[str]</code></td>
<td>ISO 8601 timestamp when processing completed</td>
</tr>
<tr>
<td><code>duration</code></td>
<td><code>Optional[float]</code></td>
<td>Processing duration in milliseconds</td>
</tr>
<tr>
<td><code>llm_info</code></td>
<td><code>Optional[LLMInfo]</code></td>
<td>LLM usage tracking information</td>
</tr>
<tr>
<td><code>is_from_cache</code></td>
<td><code>bool</code></td>
<td>Whether result was loaded from cache</td>
</tr>
<tr>
<td><code>cache_key</code></td>
<td><code>Optional[str]</code></td>
<td>Cache key used</td>
</tr>
</tbody>
</table>
<h3 id="reference-data-models-base-example_2">Example<a class="headerlink" href="#reference-data-models-base-example_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.base</span><span class="w"> </span><span class="kn">import</span> <span class="n">ProcessInfo</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.llm</span><span class="w"> </span><span class="kn">import</span> <span class="n">LLMInfo</span><span class="p">,</span> <span class="n">LLMRequest</span>

<span class="n">process_info</span> <span class="o">=</span> <span class="n">ProcessInfo</span><span class="p">(</span>
    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;process-123&quot;</span><span class="p">,</span>
    <span class="n">main_processor</span><span class="o">=</span><span class="s2">&quot;audio&quot;</span><span class="p">,</span>
    <span class="n">started</span><span class="o">=</span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span><span class="p">,</span>
    <span class="n">completed</span><span class="o">=</span><span class="s2">&quot;2024-01-01T00:05:00Z&quot;</span><span class="p">,</span>
    <span class="n">duration</span><span class="o">=</span><span class="mf">300000.0</span><span class="p">,</span>
    <span class="n">llm_info</span><span class="o">=</span><span class="n">LLMInfo</span><span class="p">(</span><span class="n">requests</span><span class="o">=</span><span class="p">[</span>
        <span class="n">LLMRequest</span><span class="p">(</span>
            <span class="n">model</span><span class="o">=</span><span class="s2">&quot;whisper-1&quot;</span><span class="p">,</span>
            <span class="n">purpose</span><span class="o">=</span><span class="s2">&quot;transcription&quot;</span><span class="p">,</span>
            <span class="n">tokens</span><span class="o">=</span><span class="mi">1500</span><span class="p">,</span>
            <span class="n">duration</span><span class="o">=</span><span class="mf">4500.0</span><span class="p">,</span>
            <span class="n">processor</span><span class="o">=</span><span class="s2">&quot;audio&quot;</span>
        <span class="p">)</span>
    <span class="p">]),</span>
    <span class="n">is_from_cache</span><span class="o">=</span><span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>
<h2 id="reference-data-models-base-processinglogger">ProcessingLogger<a class="headerlink" href="#reference-data-models-base-processinglogger" title="Permanent link">&para;</a></h2>
<p>Protocol for logger interface.</p>
<h3 id="reference-data-models-base-methods">Methods<a class="headerlink" href="#reference-data-models-base-methods" title="Permanent link">&para;</a></h3>
<ul>
<li><code>debug(message: str, **kwargs: Any) -&gt; None</code></li>
<li><code>info(message: str, **kwargs: Any) -&gt; None</code></li>
<li><code>warning(message: str, **kwargs: Any) -&gt; None</code></li>
<li><code>error(message: str, **kwargs: Any) -&gt; None</code></li>
</ul></section><section class="print-page" id="reference-data-models-llm" heading-number="2.4.3"><h1 id="reference-data-models-llm-llm-models">LLM Models<a class="headerlink" href="#reference-data-models-llm-llm-models" title="Permanent link">&para;</a></h1>
<p>Dataclasses for Language Model interactions and tracking.</p>
<h2 id="reference-data-models-llm-llminfo">LLMInfo<a class="headerlink" href="#reference-data-models-llm-llminfo" title="Permanent link">&para;</a></h2>
<p>Central tracking class that collects all LLM requests.</p>
<h3 id="reference-data-models-llm-fields">Fields<a class="headerlink" href="#reference-data-models-llm-fields" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>requests</code></td>
<td><code>List[LLMRequest]</code></td>
<td>List of all LLM requests</td>
</tr>
</tbody>
</table>
<h3 id="reference-data-models-llm-properties">Properties<a class="headerlink" href="#reference-data-models-llm-properties" title="Permanent link">&para;</a></h3>
<ul>
<li><code>requests_count: int</code> - Number of requests</li>
<li><code>total_tokens: int</code> - Total number of tokens used</li>
<li><code>total_duration: float</code> - Total duration in milliseconds</li>
</ul>
<h3 id="reference-data-models-llm-methods">Methods<a class="headerlink" href="#reference-data-models-llm-methods" title="Permanent link">&para;</a></h3>
<ul>
<li><code>merge(other: LLMInfo) -&gt; LLMInfo</code> - Merge two LLMInfo objects</li>
<li><code>add_request(request: Union[LLMRequest, List[LLMRequest]]) -&gt; LLMInfo</code> - Add request(s)</li>
<li><code>to_dict() -&gt; Dict[str, Any]</code> - Convert to dictionary</li>
</ul>
<h3 id="reference-data-models-llm-example">Example<a class="headerlink" href="#reference-data-models-llm-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.llm</span><span class="w"> </span><span class="kn">import</span> <span class="n">LLMInfo</span><span class="p">,</span> <span class="n">LLMRequest</span>

<span class="n">llm_info</span> <span class="o">=</span> <span class="n">LLMInfo</span><span class="p">(</span><span class="n">requests</span><span class="o">=</span><span class="p">[</span>
    <span class="n">LLMRequest</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="s2">&quot;whisper-1&quot;</span><span class="p">,</span>
        <span class="n">purpose</span><span class="o">=</span><span class="s2">&quot;transcription&quot;</span><span class="p">,</span>
        <span class="n">tokens</span><span class="o">=</span><span class="mi">1500</span><span class="p">,</span>
        <span class="n">duration</span><span class="o">=</span><span class="mf">4500.0</span><span class="p">,</span>
        <span class="n">processor</span><span class="o">=</span><span class="s2">&quot;audio&quot;</span>
    <span class="p">),</span>
    <span class="n">LLMRequest</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4&quot;</span><span class="p">,</span>
        <span class="n">purpose</span><span class="o">=</span><span class="s2">&quot;translation&quot;</span><span class="p">,</span>
        <span class="n">tokens</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span>
        <span class="n">duration</span><span class="o">=</span><span class="mf">3000.0</span><span class="p">,</span>
        <span class="n">processor</span><span class="o">=</span><span class="s2">&quot;transformer&quot;</span>
    <span class="p">)</span>
<span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="n">llm_info</span><span class="o">.</span><span class="n">total_tokens</span><span class="p">)</span>  <span class="c1"># 3500</span>
<span class="nb">print</span><span class="p">(</span><span class="n">llm_info</span><span class="o">.</span><span class="n">total_duration</span><span class="p">)</span>  <span class="c1"># 7500.0</span>
</code></pre></div>
<h2 id="reference-data-models-llm-llmrequest">LLMRequest<a class="headerlink" href="#reference-data-models-llm-llmrequest" title="Permanent link">&para;</a></h2>
<p>Detailed information about a single LLM request.</p>
<h3 id="reference-data-models-llm-fields_1">Fields<a class="headerlink" href="#reference-data-models-llm-fields_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>model</code></td>
<td><code>str</code></td>
<td>Name of the model (e.g., "whisper-1", "gpt-4")</td>
</tr>
<tr>
<td><code>purpose</code></td>
<td><code>str</code></td>
<td>Purpose of the request (e.g., "transcription", "translation")</td>
</tr>
<tr>
<td><code>tokens</code></td>
<td><code>int</code></td>
<td>Number of tokens used</td>
</tr>
<tr>
<td><code>duration</code></td>
<td><code>float</code></td>
<td>Processing duration in milliseconds</td>
</tr>
<tr>
<td><code>processor</code></td>
<td><code>str</code></td>
<td>Name of the calling processor</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td><code>str</code></td>
<td>ISO 8601 timestamp of the request</td>
</tr>
</tbody>
</table>
<h3 id="reference-data-models-llm-example_1">Example<a class="headerlink" href="#reference-data-models-llm-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.llm</span><span class="w"> </span><span class="kn">import</span> <span class="n">LLMRequest</span>

<span class="n">request</span> <span class="o">=</span> <span class="n">LLMRequest</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="s2">&quot;gpt-4&quot;</span><span class="p">,</span>
    <span class="n">purpose</span><span class="o">=</span><span class="s2">&quot;template_transformation&quot;</span><span class="p">,</span>
    <span class="n">tokens</span><span class="o">=</span><span class="mi">2500</span><span class="p">,</span>
    <span class="n">duration</span><span class="o">=</span><span class="mf">5000.0</span><span class="p">,</span>
    <span class="n">processor</span><span class="o">=</span><span class="s2">&quot;transformer&quot;</span>
<span class="p">)</span>
</code></pre></div>
<h2 id="reference-data-models-llm-llmodel">LLModel<a class="headerlink" href="#reference-data-models-llm-llmodel" title="Permanent link">&para;</a></h2>
<p>Basic information about LLM usage.</p>
<h3 id="reference-data-models-llm-fields_2">Fields<a class="headerlink" href="#reference-data-models-llm-fields_2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>model</code></td>
<td><code>str</code></td>
<td>Name of the model</td>
</tr>
<tr>
<td><code>duration</code></td>
<td><code>float</code></td>
<td>Processing duration in milliseconds</td>
</tr>
<tr>
<td><code>tokens</code></td>
<td><code>int</code></td>
<td>Number of tokens processed</td>
</tr>
<tr>
<td><code>timestamp</code></td>
<td><code>str</code></td>
<td>ISO 8601 timestamp</td>
</tr>
</tbody>
</table></section><section class="print-page" id="reference-data-models-job" heading-number="2.4.4"><h1 id="reference-data-models-job-job-models">Job Models<a class="headerlink" href="#reference-data-models-job-job-models" title="Permanent link">&para;</a></h1>
<p>Dataclasses for asynchronous job processing and batch management.</p>
<h2 id="reference-data-models-job-jobstatus">JobStatus<a class="headerlink" href="#reference-data-models-job-jobstatus" title="Permanent link">&para;</a></h2>
<p>Enum for job status values.</p>
<h3 id="reference-data-models-job-values">Values<a class="headerlink" href="#reference-data-models-job-values" title="Permanent link">&para;</a></h3>
<ul>
<li><code>PENDING</code> - Job is waiting to be processed</li>
<li><code>PROCESSING</code> - Job is currently being processed</li>
<li><code>COMPLETED</code> - Job completed successfully</li>
<li><code>FAILED</code> - Job failed with an error</li>
</ul>
<h2 id="reference-data-models-job-secretaryjob">SecretaryJob<a class="headerlink" href="#reference-data-models-job-secretaryjob" title="Permanent link">&para;</a></h2>
<p>Main job model for asynchronous processing.</p>
<h3 id="reference-data-models-job-fields">Fields<a class="headerlink" href="#reference-data-models-job-fields" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>job_id</code></td>
<td><code>str</code></td>
<td>Unique job identifier</td>
</tr>
<tr>
<td><code>job_type</code></td>
<td><code>str</code></td>
<td>Type of job (e.g., "pdf", "session", "transformer")</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>JobStatus</code></td>
<td>Current status of the job</td>
</tr>
<tr>
<td><code>parameters</code></td>
<td><code>Dict[str, Any]</code></td>
<td>Job parameters</td>
</tr>
<tr>
<td><code>created_at</code></td>
<td><code>datetime</code></td>
<td>Creation timestamp</td>
</tr>
<tr>
<td><code>updated_at</code></td>
<td><code>datetime</code></td>
<td>Last update timestamp</td>
</tr>
<tr>
<td><code>progress</code></td>
<td><code>Optional[JobProgress]</code></td>
<td>Progress information</td>
</tr>
<tr>
<td><code>results</code></td>
<td><code>Optional[Dict[str, Any]]</code></td>
<td>Processing results</td>
</tr>
<tr>
<td><code>error</code></td>
<td><code>Optional[Dict[str, Any]]</code></td>
<td>Error information</td>
</tr>
<tr>
<td><code>logs</code></td>
<td><code>List[LogEntry]</code></td>
<td>Log entries</td>
</tr>
<tr>
<td><code>access_control</code></td>
<td><code>AccessControl</code></td>
<td>Access control settings</td>
</tr>
</tbody>
</table>
<h3 id="reference-data-models-job-example">Example<a class="headerlink" href="#reference-data-models-job-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.job_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">SecretaryJob</span><span class="p">,</span> <span class="n">JobStatus</span><span class="p">,</span> <span class="n">JobProgress</span>

<span class="n">job</span> <span class="o">=</span> <span class="n">SecretaryJob</span><span class="p">(</span>
    <span class="n">job_id</span><span class="o">=</span><span class="s2">&quot;job-123&quot;</span><span class="p">,</span>
    <span class="n">job_type</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
    <span class="n">status</span><span class="o">=</span><span class="n">JobStatus</span><span class="o">.</span><span class="n">PROCESSING</span><span class="p">,</span>
    <span class="n">parameters</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">&quot;filename&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/file.pdf&quot;</span><span class="p">,</span>
        <span class="s2">&quot;extraction_method&quot;</span><span class="p">:</span> <span class="s2">&quot;combined&quot;</span>
    <span class="p">},</span>
    <span class="n">progress</span><span class="o">=</span><span class="n">JobProgress</span><span class="p">(</span>
        <span class="n">step</span><span class="o">=</span><span class="s2">&quot;extracting_text&quot;</span><span class="p">,</span>
        <span class="n">percent</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
        <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Extracting text from PDF...&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
<h2 id="reference-data-models-job-batchjob">BatchJob<a class="headerlink" href="#reference-data-models-job-batchjob" title="Permanent link">&para;</a></h2>
<p>Batch job model for batch processing.</p>
<h3 id="reference-data-models-job-fields_1">Fields<a class="headerlink" href="#reference-data-models-job-fields_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>batch_id</code></td>
<td><code>str</code></td>
<td>Unique batch identifier</td>
</tr>
<tr>
<td><code>batch_name</code></td>
<td><code>str</code></td>
<td>Name of the batch</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>JobStatus</code></td>
<td>Current status of the batch</td>
</tr>
<tr>
<td><code>jobs</code></td>
<td><code>List[SecretaryJob]</code></td>
<td>Jobs in the batch</td>
</tr>
<tr>
<td><code>created_at</code></td>
<td><code>datetime</code></td>
<td>Creation timestamp</td>
</tr>
<tr>
<td><code>updated_at</code></td>
<td><code>datetime</code></td>
<td>Last update timestamp</td>
</tr>
<tr>
<td><code>active</code></td>
<td><code>bool</code></td>
<td>Whether batch is active</td>
</tr>
</tbody>
</table>
<h2 id="reference-data-models-job-jobprogress">JobProgress<a class="headerlink" href="#reference-data-models-job-jobprogress" title="Permanent link">&para;</a></h2>
<p>Progress information for a job.</p>
<h3 id="reference-data-models-job-fields_2">Fields<a class="headerlink" href="#reference-data-models-job-fields_2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>step</code></td>
<td><code>str</code></td>
<td>Current processing step</td>
</tr>
<tr>
<td><code>percent</code></td>
<td><code>int</code></td>
<td>Progress percentage (0-100)</td>
</tr>
<tr>
<td><code>message</code></td>
<td><code>Optional[str]</code></td>
<td>Progress message</td>
</tr>
</tbody>
</table>
<h2 id="reference-data-models-job-logentry">LogEntry<a class="headerlink" href="#reference-data-models-job-logentry" title="Permanent link">&para;</a></h2>
<p>A log entry for a job.</p>
<h3 id="reference-data-models-job-fields_3">Fields<a class="headerlink" href="#reference-data-models-job-fields_3" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>timestamp</code></td>
<td><code>datetime</code></td>
<td>Log timestamp</td>
</tr>
<tr>
<td><code>level</code></td>
<td><code>Literal["debug", "info", "warning", "error", "critical"]</code></td>
<td>Log level</td>
</tr>
<tr>
<td><code>message</code></td>
<td><code>str</code></td>
<td>Log message</td>
</tr>
</tbody>
</table>
<h2 id="reference-data-models-job-accesscontrol">AccessControl<a class="headerlink" href="#reference-data-models-job-accesscontrol" title="Permanent link">&para;</a></h2>
<p>Access control for an object.</p>
<h3 id="reference-data-models-job-fields_4">Fields<a class="headerlink" href="#reference-data-models-job-fields_4" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>visibility</code></td>
<td><code>AccessVisibility</code></td>
<td>Visibility (PRIVATE, PUBLIC)</td>
</tr>
<tr>
<td><code>read_access</code></td>
<td><code>List[str]</code></td>
<td>List of user IDs with read access</td>
</tr>
<tr>
<td><code>write_access</code></td>
<td><code>List[str]</code></td>
<td>List of user IDs with write access</td>
</tr>
<tr>
<td><code>admin_access</code></td>
<td><code>List[str]</code></td>
<td>List of user IDs with admin access</td>
</tr>
</tbody>
</table></section></section><section class="print-page" id="reference-configuration" heading-number="2.5"><h1 id="reference-configuration-configuration-reference">Configuration Reference<a class="headerlink" href="#reference-configuration-configuration-reference" title="Permanent link">&para;</a></h1>
<p>Complete documentation of all <code>config.yaml</code> options.</p>
<h2 id="reference-configuration-overview">Overview<a class="headerlink" href="#reference-configuration-overview" title="Permanent link">&para;</a></h2>
<p>The application configuration is stored in <code>config/config.yaml</code> and supports environment variable substitution using <code>${VAR_NAME}</code> syntax.</p>
<h2 id="reference-configuration-cache-configuration">Cache Configuration<a class="headerlink" href="#reference-configuration-cache-configuration" title="Permanent link">&para;</a></h2>
<h3 id="reference-configuration-cachebase_dir"><code>cache.base_dir</code><a class="headerlink" href="#reference-configuration-cachebase_dir" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String (path)</li>
<li><strong>Default</strong>: <code>./cache</code></li>
<li><strong>Description</strong>: Base directory for cache files</li>
</ul>
<h3 id="reference-configuration-cachecleanup_interval"><code>cache.cleanup_interval</code><a class="headerlink" href="#reference-configuration-cachecleanup_interval" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer (hours)</li>
<li><strong>Default</strong>: <code>24</code></li>
<li><strong>Description</strong>: Interval for cache cleanup in hours</li>
</ul>
<h3 id="reference-configuration-cachemax_age_days"><code>cache.max_age_days</code><a class="headerlink" href="#reference-configuration-cachemax_age_days" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer (days)</li>
<li><strong>Default</strong>: <code>7</code></li>
<li><strong>Description</strong>: Maximum age of cache entries in days before cleanup</li>
</ul>
<h3 id="reference-configuration-cachemongodbenabled"><code>cache.mongodb.enabled</code><a class="headerlink" href="#reference-configuration-cachemongodbenabled" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Boolean</li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Description</strong>: Enable MongoDB-based caching</li>
</ul>
<h3 id="reference-configuration-cachemongodbttl_days"><code>cache.mongodb.ttl_days</code><a class="headerlink" href="#reference-configuration-cachemongodbttl_days" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer (days)</li>
<li><strong>Default</strong>: <code>30</code></li>
<li><strong>Description</strong>: Time-to-live for MongoDB cache entries</li>
</ul>
<h3 id="reference-configuration-cachemongodbcreate_indexes"><code>cache.mongodb.create_indexes</code><a class="headerlink" href="#reference-configuration-cachemongodbcreate_indexes" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Boolean</li>
<li><strong>Default</strong>: <code>false</code></li>
<li><strong>Description</strong>: Whether to create indexes on cache collections</li>
</ul>
<h2 id="reference-configuration-worker-configuration">Worker Configuration<a class="headerlink" href="#reference-configuration-worker-configuration" title="Permanent link">&para;</a></h2>
<h3 id="reference-configuration-session_workeractive"><code>session_worker.active</code><a class="headerlink" href="#reference-configuration-session_workeractive" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Boolean</li>
<li><strong>Default</strong>: <code>false</code></li>
<li><strong>Description</strong>: Enable session worker for asynchronous session processing</li>
</ul>
<h3 id="reference-configuration-session_workermax_concurrent"><code>session_worker.max_concurrent</code><a class="headerlink" href="#reference-configuration-session_workermax_concurrent" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>3</code></li>
<li><strong>Description</strong>: Maximum concurrent session jobs</li>
</ul>
<h3 id="reference-configuration-session_workerpoll_interval_sec"><code>session_worker.poll_interval_sec</code><a class="headerlink" href="#reference-configuration-session_workerpoll_interval_sec" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer (seconds)</li>
<li><strong>Default</strong>: <code>5</code></li>
<li><strong>Description</strong>: Polling interval for session jobs</li>
</ul>
<h3 id="reference-configuration-generic_workeractive"><code>generic_worker.active</code><a class="headerlink" href="#reference-configuration-generic_workeractive" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Boolean</li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Description</strong>: Enable generic secretary job worker</li>
</ul>
<h3 id="reference-configuration-generic_workermax_concurrent"><code>generic_worker.max_concurrent</code><a class="headerlink" href="#reference-configuration-generic_workermax_concurrent" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>3</code></li>
<li><strong>Description</strong>: Maximum concurrent generic jobs</li>
</ul>
<h3 id="reference-configuration-generic_workerpoll_interval_sec"><code>generic_worker.poll_interval_sec</code><a class="headerlink" href="#reference-configuration-generic_workerpoll_interval_sec" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer (seconds)</li>
<li><strong>Default</strong>: <code>5</code></li>
<li><strong>Description</strong>: Polling interval for generic jobs</li>
</ul>
<h2 id="reference-configuration-logging-configuration">Logging Configuration<a class="headerlink" href="#reference-configuration-logging-configuration" title="Permanent link">&para;</a></h2>
<h3 id="reference-configuration-loggingfile"><code>logging.file</code><a class="headerlink" href="#reference-configuration-loggingfile" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String (path)</li>
<li><strong>Default</strong>: <code>logs/dev_detailed.log</code></li>
<li><strong>Description</strong>: Path to log file</li>
</ul>
<h3 id="reference-configuration-logginglevel"><code>logging.level</code><a class="headerlink" href="#reference-configuration-logginglevel" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String (DEBUG, INFO, WARNING, ERROR, CRITICAL)</li>
<li><strong>Default</strong>: <code>DEBUG</code></li>
<li><strong>Description</strong>: Logging level</li>
</ul>
<h3 id="reference-configuration-loggingmax_size"><code>logging.max_size</code><a class="headerlink" href="#reference-configuration-loggingmax_size" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer (bytes)</li>
<li><strong>Default</strong>: <code>120000000</code> (120 MB)</li>
<li><strong>Description</strong>: Maximum log file size before rotation</li>
</ul>
<h3 id="reference-configuration-loggingbackup_count"><code>logging.backup_count</code><a class="headerlink" href="#reference-configuration-loggingbackup_count" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>5</code></li>
<li><strong>Description</strong>: Number of backup log files to keep</li>
</ul>
<h3 id="reference-configuration-loggingmax_log_entries"><code>logging.max_log_entries</code><a class="headerlink" href="#reference-configuration-loggingmax_log_entries" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>1000</code></li>
<li><strong>Description</strong>: Maximum log entries to keep in memory</li>
</ul>
<h2 id="reference-configuration-mongodb-configuration">MongoDB Configuration<a class="headerlink" href="#reference-configuration-mongodb-configuration" title="Permanent link">&para;</a></h2>
<h3 id="reference-configuration-mongodburi"><code>mongodb.uri</code><a class="headerlink" href="#reference-configuration-mongodburi" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String (MongoDB URI)</li>
<li><strong>Default</strong>: <code>${MONGODB_URI}</code> (from environment)</li>
<li><strong>Description</strong>: MongoDB connection URI</li>
</ul>
<h3 id="reference-configuration-mongodbconnect_timeout_ms"><code>mongodb.connect_timeout_ms</code><a class="headerlink" href="#reference-configuration-mongodbconnect_timeout_ms" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer (milliseconds)</li>
<li><strong>Default</strong>: <code>5000</code></li>
<li><strong>Description</strong>: Connection timeout</li>
</ul>
<h3 id="reference-configuration-mongodbmax_pool_size"><code>mongodb.max_pool_size</code><a class="headerlink" href="#reference-configuration-mongodbmax_pool_size" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>50</code></li>
<li><strong>Description</strong>: Maximum connection pool size</li>
</ul>
<h2 id="reference-configuration-processor-configurations">Processor Configurations<a class="headerlink" href="#reference-configuration-processor-configurations" title="Permanent link">&para;</a></h2>
<h3 id="reference-configuration-pdf-processor-processorspdf">PDF Processor (<code>processors.pdf</code>)<a class="headerlink" href="#reference-configuration-pdf-processor-processorspdf" title="Permanent link">&para;</a></h3>
<h4 id="reference-configuration-max_file_size"><code>max_file_size</code><a class="headerlink" href="#reference-configuration-max_file_size" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (bytes)</li>
<li><strong>Default</strong>: <code>150000000</code> (150 MB)</li>
<li><strong>Description</strong>: Maximum PDF file size</li>
</ul>
<h4 id="reference-configuration-max_pages"><code>max_pages</code><a class="headerlink" href="#reference-configuration-max_pages" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>500</code></li>
<li><strong>Description</strong>: Maximum number of pages to process</li>
</ul>
<h4 id="reference-configuration-cache_dir"><code>cache_dir</code><a class="headerlink" href="#reference-configuration-cache_dir" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: String (path)</li>
<li><strong>Default</strong>: <code>cache/pdf</code></li>
<li><strong>Description</strong>: Cache directory for PDF processing</li>
</ul>
<h4 id="reference-configuration-cacheenabled"><code>cache.enabled</code><a class="headerlink" href="#reference-configuration-cacheenabled" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Boolean</li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Description</strong>: Enable caching for PDF processing</li>
</ul>
<h4 id="reference-configuration-cachettl_days"><code>cache.ttl_days</code><a class="headerlink" href="#reference-configuration-cachettl_days" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (days)</li>
<li><strong>Default</strong>: <code>30</code></li>
<li><strong>Description</strong>: Cache TTL for PDF results</li>
</ul>
<h4 id="reference-configuration-imagesmainmax_size"><code>images.main.max_size</code><a class="headerlink" href="#reference-configuration-imagesmainmax_size" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (pixels)</li>
<li><strong>Default</strong>: <code>1280</code></li>
<li><strong>Description</strong>: Maximum size for main images</li>
</ul>
<h4 id="reference-configuration-imagesmainformat"><code>images.main.format</code><a class="headerlink" href="#reference-configuration-imagesmainformat" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: String (jpg, png)</li>
<li><strong>Default</strong>: <code>jpg</code></li>
<li><strong>Description</strong>: Image format for main images</li>
</ul>
<h4 id="reference-configuration-imagesmainquality"><code>images.main.quality</code><a class="headerlink" href="#reference-configuration-imagesmainquality" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (0-100)</li>
<li><strong>Default</strong>: <code>80</code></li>
<li><strong>Description</strong>: JPEG quality for main images</li>
</ul>
<h4 id="reference-configuration-imagespreviewmax_size"><code>images.preview.max_size</code><a class="headerlink" href="#reference-configuration-imagespreviewmax_size" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (pixels)</li>
<li><strong>Default</strong>: <code>360</code></li>
<li><strong>Description</strong>: Maximum size for preview images</li>
</ul>
<h3 id="reference-configuration-audio-processor-processorsaudio">Audio Processor (<code>processors.audio</code>)<a class="headerlink" href="#reference-configuration-audio-processor-processorsaudio" title="Permanent link">&para;</a></h3>
<h4 id="reference-configuration-batch_size"><code>batch_size</code><a class="headerlink" href="#reference-configuration-batch_size" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>5</code></li>
<li><strong>Description</strong>: Number of audio segments to process in parallel</li>
</ul>
<h4 id="reference-configuration-export_format"><code>export_format</code><a class="headerlink" href="#reference-configuration-export_format" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: String (mp3, wav, etc.)</li>
<li><strong>Default</strong>: <code>mp3</code></li>
<li><strong>Description</strong>: Export format for audio segments</li>
</ul>
<h4 id="reference-configuration-max_file_size_1"><code>max_file_size</code><a class="headerlink" href="#reference-configuration-max_file_size_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (bytes)</li>
<li><strong>Default</strong>: <code>200000000</code> (200 MB)</li>
<li><strong>Description</strong>: Maximum audio file size</li>
</ul>
<h4 id="reference-configuration-max_segments"><code>max_segments</code><a class="headerlink" href="#reference-configuration-max_segments" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>100</code></li>
<li><strong>Description</strong>: Maximum number of segments</li>
</ul>
<h4 id="reference-configuration-segment_duration"><code>segment_duration</code><a class="headerlink" href="#reference-configuration-segment_duration" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (seconds)</li>
<li><strong>Default</strong>: <code>300</code> (5 minutes)</li>
<li><strong>Description</strong>: Duration of each audio segment</li>
</ul>
<h3 id="reference-configuration-video-processor-processorsvideo">Video Processor (<code>processors.video</code>)<a class="headerlink" href="#reference-configuration-video-processor-processorsvideo" title="Permanent link">&para;</a></h3>
<h4 id="reference-configuration-cache_dir_1"><code>cache_dir</code><a class="headerlink" href="#reference-configuration-cache_dir_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: String (path)</li>
<li><strong>Default</strong>: <code>cache/video</code></li>
<li><strong>Description</strong>: Cache directory for video processing</li>
</ul>
<h3 id="reference-configuration-youtube-processor-processorsyoutube">YouTube Processor (<code>processors.youtube</code>)<a class="headerlink" href="#reference-configuration-youtube-processor-processorsyoutube" title="Permanent link">&para;</a></h3>
<h4 id="reference-configuration-max_duration"><code>max_duration</code><a class="headerlink" href="#reference-configuration-max_duration" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (seconds)</li>
<li><strong>Default</strong>: <code>15000</code> (4.17 hours)</li>
<li><strong>Description</strong>: Maximum video duration</li>
</ul>
<h4 id="reference-configuration-max_file_size_2"><code>max_file_size</code><a class="headerlink" href="#reference-configuration-max_file_size_2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (bytes)</li>
<li><strong>Default</strong>: <code>120000000</code> (120 MB)</li>
<li><strong>Description</strong>: Maximum downloaded file size</li>
</ul>
<h4 id="reference-configuration-ydl_optsformat"><code>ydl_opts.format</code><a class="headerlink" href="#reference-configuration-ydl_optsformat" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Default</strong>: <code>bestaudio/best</code></li>
<li><strong>Description</strong>: yt-dlp format selection</li>
</ul>
<h4 id="reference-configuration-ydl_optsnocheckcertificate"><code>ydl_opts.nocheckcertificate</code><a class="headerlink" href="#reference-configuration-ydl_optsnocheckcertificate" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Boolean</li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Description</strong>: Disable SSL certificate checking (Windows workaround)</li>
</ul>
<h3 id="reference-configuration-transformer-processor-processorstransformer">Transformer Processor (<code>processors.transformer</code>)<a class="headerlink" href="#reference-configuration-transformer-processor-processorstransformer" title="Permanent link">&para;</a></h3>
<h4 id="reference-configuration-model"><code>model</code><a class="headerlink" href="#reference-configuration-model" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Default</strong>: <code>gpt-4.1-mini</code></li>
<li><strong>Description</strong>: LLM model for text transformation</li>
</ul>
<h4 id="reference-configuration-temperature"><code>temperature</code><a class="headerlink" href="#reference-configuration-temperature" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Float (0.0-1.0)</li>
<li><strong>Default</strong>: <code>0.1</code></li>
<li><strong>Description</strong>: Temperature for LLM generation</li>
</ul>
<h4 id="reference-configuration-max_tokens"><code>max_tokens</code><a class="headerlink" href="#reference-configuration-max_tokens" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>4000</code></li>
<li><strong>Description</strong>: Maximum tokens per request</li>
</ul>
<h4 id="reference-configuration-max_concurrent_requests"><code>max_concurrent_requests</code><a class="headerlink" href="#reference-configuration-max_concurrent_requests" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>10</code></li>
<li><strong>Description</strong>: Maximum concurrent LLM requests</li>
</ul>
<h4 id="reference-configuration-timeout_seconds"><code>timeout_seconds</code><a class="headerlink" href="#reference-configuration-timeout_seconds" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (seconds)</li>
<li><strong>Default</strong>: <code>120</code></li>
<li><strong>Description</strong>: Request timeout</li>
</ul>
<h4 id="reference-configuration-templates_dir"><code>templates_dir</code><a class="headerlink" href="#reference-configuration-templates_dir" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: String (path)</li>
<li><strong>Default</strong>: <code>resources/templates</code></li>
<li><strong>Description</strong>: Directory containing templates</li>
</ul>
<h3 id="reference-configuration-imageocr-processor-processorsimageocr">ImageOCR Processor (<code>processors.imageocr</code>)<a class="headerlink" href="#reference-configuration-imageocr-processor-processorsimageocr" title="Permanent link">&para;</a></h3>
<h4 id="reference-configuration-max_file_size_3"><code>max_file_size</code><a class="headerlink" href="#reference-configuration-max_file_size_3" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (bytes)</li>
<li><strong>Default</strong>: <code>10485760</code> (10 MB)</li>
<li><strong>Description</strong>: Maximum image file size</li>
</ul>
<h4 id="reference-configuration-max_resolution"><code>max_resolution</code><a class="headerlink" href="#reference-configuration-max_resolution" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (pixels)</li>
<li><strong>Default</strong>: <code>4096</code></li>
<li><strong>Description</strong>: Maximum image resolution</li>
</ul>
<h3 id="reference-configuration-metadata-processor-processorsmetadata">Metadata Processor (<code>processors.metadata</code>)<a class="headerlink" href="#reference-configuration-metadata-processor-processorsmetadata" title="Permanent link">&para;</a></h3>
<h4 id="reference-configuration-max_file_size_4"><code>max_file_size</code><a class="headerlink" href="#reference-configuration-max_file_size_4" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (bytes)</li>
<li><strong>Default</strong>: <code>50000000</code> (50 MB)</li>
<li><strong>Description</strong>: Maximum file size for metadata extraction</li>
</ul>
<h4 id="reference-configuration-timeout_seconds_1"><code>timeout_seconds</code><a class="headerlink" href="#reference-configuration-timeout_seconds_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (seconds)</li>
<li><strong>Default</strong>: <code>30</code></li>
<li><strong>Description</strong>: Timeout for metadata extraction</li>
</ul>
<h4 id="reference-configuration-extract_advanced_metadata"><code>extract_advanced_metadata</code><a class="headerlink" href="#reference-configuration-extract_advanced_metadata" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Boolean</li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Description</strong>: Extract advanced metadata with LLM analysis</li>
</ul>
<h3 id="reference-configuration-event-processor-processorsevent">Event Processor (<code>processors.event</code>)<a class="headerlink" href="#reference-configuration-event-processor-processorsevent" title="Permanent link">&para;</a></h3>
<h4 id="reference-configuration-max_video_size"><code>max_video_size</code><a class="headerlink" href="#reference-configuration-max_video_size" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (MB)</li>
<li><strong>Default</strong>: <code>1000</code></li>
<li><strong>Description</strong>: Maximum video size for downloads</li>
</ul>
<h4 id="reference-configuration-max_attachment_size"><code>max_attachment_size</code><a class="headerlink" href="#reference-configuration-max_attachment_size" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (MB)</li>
<li><strong>Default</strong>: <code>100</code></li>
<li><strong>Description</strong>: Maximum attachment size</li>
</ul>
<h4 id="reference-configuration-request_timeout"><code>request_timeout</code><a class="headerlink" href="#reference-configuration-request_timeout" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Type</strong>: Integer (seconds)</li>
<li><strong>Default</strong>: <code>30</code></li>
<li><strong>Description</strong>: HTTP request timeout</li>
</ul>
<h2 id="reference-configuration-rate-limiting">Rate Limiting<a class="headerlink" href="#reference-configuration-rate-limiting" title="Permanent link">&para;</a></h2>
<h3 id="reference-configuration-rate_limitingenabled"><code>rate_limiting.enabled</code><a class="headerlink" href="#reference-configuration-rate_limitingenabled" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Boolean</li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Description</strong>: Enable rate limiting</li>
</ul>
<h3 id="reference-configuration-rate_limitingrequests_per_minute"><code>rate_limiting.requests_per_minute</code><a class="headerlink" href="#reference-configuration-rate_limitingrequests_per_minute" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>60</code></li>
<li><strong>Description</strong>: Maximum requests per minute per IP</li>
</ul>
<h2 id="reference-configuration-server-configuration">Server Configuration<a class="headerlink" href="#reference-configuration-server-configuration" title="Permanent link">&para;</a></h2>
<h3 id="reference-configuration-serverhost"><code>server.host</code><a class="headerlink" href="#reference-configuration-serverhost" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String (IP address)</li>
<li><strong>Default</strong>: <code>127.0.0.1</code></li>
<li><strong>Description</strong>: Server host address</li>
</ul>
<h3 id="reference-configuration-serverport"><code>server.port</code><a class="headerlink" href="#reference-configuration-serverport" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Integer</li>
<li><strong>Default</strong>: <code>5000</code></li>
<li><strong>Description</strong>: Server port</li>
</ul>
<h3 id="reference-configuration-serverdebug"><code>server.debug</code><a class="headerlink" href="#reference-configuration-serverdebug" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Boolean</li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Description</strong>: Enable debug mode</li>
</ul>
<h3 id="reference-configuration-serverapi_base_url"><code>server.api_base_url</code><a class="headerlink" href="#reference-configuration-serverapi_base_url" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String (URL)</li>
<li><strong>Default</strong>: <code>http://localhost:5001</code></li>
<li><strong>Description</strong>: Base URL for API</li>
</ul>
<h2 id="reference-configuration-environment-variable-substitution">Environment Variable Substitution<a class="headerlink" href="#reference-configuration-environment-variable-substitution" title="Permanent link">&para;</a></h2>
<p>Configuration values can reference environment variables using <code>${VAR_NAME}</code> syntax:</p>
<div class="highlight"><pre><span></span><code><span class="nt">mongodb</span><span class="p">:</span>
<span class="w">  </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${MONGODB_URI}</span><span class="w">  </span><span class="c1"># Loaded from environment</span>

<span class="nt">processors</span><span class="p">:</span>
<span class="w">  </span><span class="nt">openai</span><span class="p">:</span>
<span class="w">    </span><span class="nt">api_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${OPENAI_API_KEY}</span><span class="w">  </span><span class="c1"># Loaded from environment</span>
</code></pre></div>
<h2 id="reference-configuration-related-documentation">Related Documentation<a class="headerlink" href="#reference-configuration-related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#reference-environment-variables">Environment Variables</a> - All environment variables</li>
<li><a href="#explanations-configuration.md">Configuration Utilities</a> - Configuration management</li>
</ul></section><section class="print-page" id="reference-environment-variables" heading-number="2.6"><h1 id="reference-environment-variables-environment-variables">Environment Variables<a class="headerlink" href="#reference-environment-variables-environment-variables" title="Permanent link">&para;</a></h1>
<p>Complete documentation of all environment variables required for Common Secretary Services.</p>
<h2 id="reference-environment-variables-required-variables">Required Variables<a class="headerlink" href="#reference-environment-variables-required-variables" title="Permanent link">&para;</a></h2>
<h3 id="reference-environment-variables-openai_api_key"><code>OPENAI_API_KEY</code><a class="headerlink" href="#reference-environment-variables-openai_api_key" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Required</strong>: Yes (for LLM features)</li>
<li><strong>Description</strong>: OpenAI API key for GPT models and Whisper transcription</li>
<li><strong>Example</strong>: <code>sk-proj-...</code></li>
</ul>
<h3 id="reference-environment-variables-mongodb_uri"><code>MONGODB_URI</code><a class="headerlink" href="#reference-environment-variables-mongodb_uri" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String (MongoDB URI)</li>
<li><strong>Required</strong>: Yes</li>
<li><strong>Description</strong>: MongoDB connection URI</li>
<li><strong>Example</strong>: <code>mongodb://localhost:27017/</code> or <code>mongodb://user:pass@host:27017/dbname</code></li>
</ul>
<h3 id="reference-environment-variables-secretary_service_api_key"><code>SECRETARY_SERVICE_API_KEY</code><a class="headerlink" href="#reference-environment-variables-secretary_service_api_key" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Required</strong>: Yes (for production)</li>
<li><strong>Description</strong>: API key for authenticating API requests</li>
<li><strong>Example</strong>: <code>your-secret-api-key</code></li>
</ul>
<h2 id="reference-environment-variables-optional-variables">Optional Variables<a class="headerlink" href="#reference-environment-variables-optional-variables" title="Permanent link">&para;</a></h2>
<h3 id="reference-environment-variables-mistral_api_key"><code>MISTRAL_API_KEY</code><a class="headerlink" href="#reference-environment-variables-mistral_api_key" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String</li>
<li><strong>Required</strong>: No (only for Mistral OCR)</li>
<li><strong>Description</strong>: Mistral API key for OCR processing</li>
<li><strong>Example</strong>: <code>mistral-...</code></li>
</ul>
<h3 id="reference-environment-variables-allow_localhost_no_auth"><code>ALLOW_LOCALHOST_NO_AUTH</code><a class="headerlink" href="#reference-environment-variables-allow_localhost_no_auth" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Boolean/String (<code>true</code>, <code>false</code>, <code>1</code>, <code>0</code>)</li>
<li><strong>Default</strong>: <code>false</code></li>
<li><strong>Description</strong>: Allow localhost access without authentication (development only)</li>
<li><strong>Example</strong>: <code>true</code> or <code>1</code></li>
</ul>
<h3 id="reference-environment-variables-allow_swagger_whitelist"><code>ALLOW_SWAGGER_WHITELIST</code><a class="headerlink" href="#reference-environment-variables-allow_swagger_whitelist" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String (comma/semicolon/space-separated IPs)</li>
<li><strong>Default</strong>: Empty</li>
<li><strong>Description</strong>: IP addresses or CIDR ranges allowed to access Swagger UI without authentication</li>
<li><strong>Example</strong>: <code>192.168.1.0/24,10.0.0.1</code> or <code>192.168.1.0/24;10.0.0.1</code></li>
</ul>
<h3 id="reference-environment-variables-auth_log_decisions"><code>AUTH_LOG_DECISIONS</code><a class="headerlink" href="#reference-environment-variables-auth_log_decisions" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Boolean/String (<code>true</code>, <code>false</code>, <code>1</code>, <code>0</code>)</li>
<li><strong>Default</strong>: <code>false</code></li>
<li><strong>Description</strong>: Log authentication decisions for debugging</li>
<li><strong>Example</strong>: <code>true</code> or <code>1</code></li>
</ul>
<h3 id="reference-environment-variables-pythonhttpsverify"><code>PYTHONHTTPSVERIFY</code><a class="headerlink" href="#reference-environment-variables-pythonhttpsverify" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: Boolean/String (<code>true</code>, <code>false</code>, <code>1</code>, <code>0</code>)</li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Description</strong>: Disable SSL certificate verification (Windows workaround)</li>
<li><strong>Example</strong>: <code>0</code> or <code>false</code> (not recommended for production)</li>
</ul>
<h3 id="reference-environment-variables-ytdlp_cookies_file"><code>YTDLP_COOKIES_FILE</code><a class="headerlink" href="#reference-environment-variables-ytdlp_cookies_file" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Type</strong>: String (file path)</li>
<li><strong>Default</strong>: Empty</li>
<li><strong>Description</strong>: Path to cookies file for yt-dlp (for YouTube videos requiring authentication)</li>
<li><strong>Example</strong>: <code>/path/to/cookies.txt</code></li>
</ul>
<h2 id="reference-environment-variables-environment-file-env">Environment File (.env)<a class="headerlink" href="#reference-environment-variables-environment-file-env" title="Permanent link">&para;</a></h2>
<p>Create a <code>.env</code> file in the project root:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Required</span>
<span class="nv">OPENAI_API_KEY</span><span class="o">=</span>sk-proj-your-key-here
<span class="nv">MONGODB_URI</span><span class="o">=</span>mongodb://localhost:27017/
<span class="nv">SECRETARY_SERVICE_API_KEY</span><span class="o">=</span>your-secret-api-key

<span class="c1"># Optional</span>
<span class="nv">MISTRAL_API_KEY</span><span class="o">=</span>mistral-your-key-here
<span class="nv">ALLOW_LOCALHOST_NO_AUTH</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">ALLOW_SWAGGER_WHITELIST</span><span class="o">=</span><span class="m">192</span>.168.1.0/24
<span class="nv">AUTH_LOG_DECISIONS</span><span class="o">=</span><span class="nb">false</span>
<span class="nv">PYTHONHTTPSVERIFY</span><span class="o">=</span><span class="m">1</span>
<span class="nv">YTDLP_COOKIES_FILE</span><span class="o">=</span>/path/to/cookies.txt
</code></pre></div>
<h2 id="reference-environment-variables-docker-environment-variables">Docker Environment Variables<a class="headerlink" href="#reference-environment-variables-docker-environment-variables" title="Permanent link">&para;</a></h2>
<p>When using Docker, set environment variables in <code>docker-compose.yml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">secretary-services</span><span class="p">:</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">OPENAI_API_KEY=${OPENAI_API_KEY}</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MONGODB_URI=mongodb://mongodb:27017/</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">SECRETARY_SERVICE_API_KEY=${SECRETARY_SERVICE_API_KEY}</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ALLOW_LOCALHOST_NO_AUTH=true</span>
</code></pre></div>
<h2 id="reference-environment-variables-security-considerations">Security Considerations<a class="headerlink" href="#reference-environment-variables-security-considerations" title="Permanent link">&para;</a></h2>
<h3 id="reference-environment-variables-api-key-security">API Key Security<a class="headerlink" href="#reference-environment-variables-api-key-security" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Never commit API keys</strong> to version control</li>
<li>Use <code>.env</code> file (not tracked in git)</li>
<li>Use environment variables in production</li>
<li>Rotate API keys regularly</li>
</ul>
<h3 id="reference-environment-variables-authentication">Authentication<a class="headerlink" href="#reference-environment-variables-authentication" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Production</strong>: Always set <code>SECRETARY_SERVICE_API_KEY</code></li>
<li><strong>Development</strong>: Can use <code>ALLOW_LOCALHOST_NO_AUTH=true</code> for local testing</li>
<li><strong>Swagger UI</strong>: Use <code>ALLOW_SWAGGER_WHITELIST</code> to restrict access</li>
</ul>
<h3 id="reference-environment-variables-ssltls">SSL/TLS<a class="headerlink" href="#reference-environment-variables-ssltls" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Production</strong>: Keep <code>PYTHONHTTPSVERIFY=1</code> (default)</li>
<li><strong>Development</strong>: Can disable for testing (<code>PYTHONHTTPSVERIFY=0</code>)</li>
</ul>
<h2 id="reference-environment-variables-related-documentation">Related Documentation<a class="headerlink" href="#reference-environment-variables-related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#reference-configuration">Configuration Reference</a> - Configuration file options</li>
<li><a href="#ops-security.md">Security Guide</a> - Security best practices</li>
</ul></section></section>
                    <section class='print-page md-section' id='section-3' heading-number='3'>
                        <h1>Explanations<a class='headerlink' href='#section-3' title='Permanent link'></a>
                        </h1>
                    
                    <section class='print-page md-section' id='section-3-1' heading-number='3.1'>
                        <h1>Async Events<a class='headerlink' href='#section-3-1' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="explanations-async-events-secretary-job-worker-detailed" heading-number="3.1.1"><h1 id="explanations-async-events-secretary-job-worker-detailed-secretary-job-worker-detailed-documentation">Secretary Job Worker - Detailed Documentation<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-secretary-job-worker-detailed-documentation" title="Permanent link">&para;</a></h1>
<p>Complete documentation of the Secretary Job Worker system for asynchronous job processing.</p>
<h2 id="explanations-async-events-secretary-job-worker-detailed-overview">Overview<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-overview" title="Permanent link">&para;</a></h2>
<p>The Secretary Job Worker is a generic background worker system that processes jobs asynchronously. It polls MongoDB for pending jobs and routes them to appropriate handlers based on <code>job_type</code>.</p>
<h2 id="explanations-async-events-secretary-job-worker-detailed-architecture">Architecture<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-architecture" title="Permanent link">&para;</a></h2>
<h3 id="explanations-async-events-secretary-job-worker-detailed-components">Components<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-components" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>SecretaryWorkerManager</strong>: Main worker manager that polls and routes jobs</li>
<li><strong>Processor Registry</strong>: Maps <code>job_type</code> strings to handler functions</li>
<li><strong>Handlers</strong>: Async functions that process specific job types</li>
<li><strong>SecretaryJobRepository</strong>: MongoDB repository for job management</li>
</ol>
<h3 id="explanations-async-events-secretary-job-worker-detailed-job-lifecycle">Job Lifecycle<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-job-lifecycle" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>PENDING → PROCESSING → COMPLETED/FAILED
</code></pre></div>
<ol>
<li><strong>PENDING</strong>: Job is created and waiting to be processed</li>
<li><strong>PROCESSING</strong>: Job is currently being processed by a handler</li>
<li><strong>COMPLETED</strong>: Job completed successfully with results</li>
<li><strong>FAILED</strong>: Job failed with error information</li>
</ol>
<h2 id="explanations-async-events-secretary-job-worker-detailed-configuration">Configuration<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-configuration" title="Permanent link">&para;</a></h2>
<p>Configure the worker in <code>config.yaml</code>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">generic_worker</span><span class="p">:</span>
<span class="w">  </span><span class="nt">active</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">max_concurrent</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3</span>
<span class="w">  </span><span class="nt">poll_interval_sec</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-parameters">Parameters<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-parameters" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>active</strong>: Enable/disable the worker</li>
<li><strong>max_concurrent</strong>: Maximum concurrent jobs</li>
<li><strong>poll_interval_sec</strong>: Polling interval in seconds</li>
</ul>
<h2 id="explanations-async-events-secretary-job-worker-detailed-job-creation">Job Creation<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-job-creation" title="Permanent link">&para;</a></h2>
<h3 id="explanations-async-events-secretary-job-worker-detailed-via-api">Via API<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-via-api" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/jobs/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;job_type&quot;: &quot;pdf&quot;,</span>
<span class="s1">    &quot;parameters&quot;: {</span>
<span class="s1">      &quot;filename&quot;: &quot;/path/to/file.pdf&quot;,</span>
<span class="s1">      &quot;extraction_method&quot;: &quot;combined&quot;</span>
<span class="s1">    }</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-job-structure">Job Structure<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-job-structure" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-123&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/file.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;extraction_method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;combined&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MeetingMinutes&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="explanations-async-events-secretary-job-worker-detailed-handler-registry">Handler Registry<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-handler-registry" title="Permanent link">&para;</a></h2>
<p>Handlers are registered at module import time:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.processing.registry</span><span class="w"> </span><span class="kn">import</span> <span class="n">register</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.core.processing.handlers.pdf_handler</span><span class="w"> </span><span class="kn">import</span> <span class="n">handle_pdf_job</span>

<span class="n">register</span><span class="p">(</span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span> <span class="n">handle_pdf_job</span><span class="p">)</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-handler-signature">Handler Signature<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-handler-signature" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_job</span><span class="p">(</span>
    <span class="n">job</span><span class="p">:</span> <span class="n">Job</span><span class="p">,</span>
    <span class="n">repo</span><span class="p">:</span> <span class="n">SecretaryJobRepository</span><span class="p">,</span>
    <span class="n">resource_calculator</span><span class="p">:</span> <span class="n">ResourceCalculator</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># Process job</span>
    <span class="k">pass</span>
</code></pre></div>
<h2 id="explanations-async-events-secretary-job-worker-detailed-available-handlers">Available Handlers<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-available-handlers" title="Permanent link">&para;</a></h2>
<h3 id="explanations-async-events-secretary-job-worker-detailed-pdf-handler-pdf">PDF Handler (<code>pdf</code>)<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-pdf-handler-pdf" title="Permanent link">&para;</a></h3>
<p>Processes PDF files with text extraction and OCR.</p>
<p><strong>Parameters</strong>:
- <code>filename</code> or <code>url</code>: PDF file path or URL
- <code>extraction_method</code>: <code>native</code>, <code>ocr</code>, <code>mistral_ocr</code>, <code>openai_vision</code>, <code>combined</code>
- <code>template</code>: Optional template name
- <code>context</code>: Optional context for template
- <code>use_cache</code>: Whether to use cache</p>
<h3 id="explanations-async-events-secretary-job-worker-detailed-session-handler-session">Session Handler (<code>session</code>)<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-session-handler-session" title="Permanent link">&para;</a></h3>
<p>Processes session information with associated media.</p>
<p><strong>Parameters</strong>:
- <code>event</code>: Event name
- <code>session</code>: Session name
- <code>url</code>: Session URL
- <code>filename</code>: Output filename
- <code>track</code>: Track name
- Additional session parameters</p>
<h3 id="explanations-async-events-secretary-job-worker-detailed-transformer-handler-transformer">Transformer Handler (<code>transformer</code>)<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-transformer-handler-transformer" title="Permanent link">&para;</a></h3>
<p>Processes text transformation with templates.</p>
<p><strong>Parameters</strong>:
- <code>text</code>: Text to transform
- <code>url</code>: URL to fetch text from (alternative to text)
- <code>template</code>: Template name
- <code>context</code>: Context for template
- <code>source_language</code>: Source language
- <code>target_language</code>: Target language</p>
<h2 id="explanations-async-events-secretary-job-worker-detailed-progress-tracking">Progress Tracking<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-progress-tracking" title="Permanent link">&para;</a></h2>
<p>Jobs support progress tracking:</p>
<div class="highlight"><pre><span></span><code><span class="n">repo</span><span class="o">.</span><span class="n">update_job_progress</span><span class="p">(</span>
    <span class="n">job_id</span><span class="o">=</span><span class="s2">&quot;job-123&quot;</span><span class="p">,</span>
    <span class="n">progress</span><span class="o">=</span><span class="n">JobProgress</span><span class="p">(</span>
        <span class="n">step</span><span class="o">=</span><span class="s2">&quot;extracting_text&quot;</span><span class="p">,</span>
        <span class="n">percent</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
        <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Extracting text from PDF...&quot;</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-progress-updates">Progress Updates<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-progress-updates" title="Permanent link">&para;</a></h3>
<p>Progress is updated during processing:
- <code>0%</code>: Initialization
- <code>25%</code>: Reading file
- <code>50%</code>: Processing
- <code>75%</code>: Finalizing
- <code>100%</code>: Completed</p>
<h2 id="explanations-async-events-secretary-job-worker-detailed-webhook-integration">Webhook Integration<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-webhook-integration" title="Permanent link">&para;</a></h2>
<p>Jobs can be configured with webhooks for completion notifications.</p>
<h3 id="explanations-async-events-secretary-job-worker-detailed-webhook-configuration">Webhook Configuration<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-webhook-configuration" title="Permanent link">&para;</a></h3>
<p>Include <code>webhook</code> in job parameters:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/file.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;webhook&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/webhook&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;webhook_auth_token&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;jobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;client_job_id&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-webhook-payload">Webhook Payload<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-webhook-payload" title="Permanent link">&para;</a></h3>
<p>When job completes, a POST request is sent:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;phase&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Processing completed&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;extracted_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-progress-webhooks">Progress Webhooks<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-progress-webhooks" title="Permanent link">&para;</a></h3>
<p>Progress updates are sent during processing:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;phase&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;processing&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Extracting text from PDF...&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;process&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-123&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="explanations-async-events-secretary-job-worker-detailed-error-handling">Error Handling<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-error-handling" title="Permanent link">&para;</a></h2>
<p>Jobs track errors:</p>
<div class="highlight"><pre><span></span><code><span class="n">repo</span><span class="o">.</span><span class="n">update_job_error</span><span class="p">(</span>
    <span class="n">job_id</span><span class="o">=</span><span class="s2">&quot;job-123&quot;</span><span class="p">,</span>
    <span class="n">error</span><span class="o">=</span><span class="n">JobError</span><span class="p">(</span>
        <span class="n">code</span><span class="o">=</span><span class="s2">&quot;PROCESSING_ERROR&quot;</span><span class="p">,</span>
        <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Failed to extract text&quot;</span><span class="p">,</span>
        <span class="n">details</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;error_type&quot;</span><span class="p">:</span> <span class="s2">&quot;OCR_ERROR&quot;</span><span class="p">}</span>
    <span class="p">)</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-error-structure">Error Structure<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-error-structure" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;PROCESSING_ERROR&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Error message&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;error_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OCR_ERROR&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;traceback&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="explanations-async-events-secretary-job-worker-detailed-logging">Logging<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-logging" title="Permanent link">&para;</a></h2>
<p>Jobs maintain log entries:</p>
<div class="highlight"><pre><span></span><code><span class="n">repo</span><span class="o">.</span><span class="n">add_log_entry</span><span class="p">(</span>
    <span class="n">job_id</span><span class="o">=</span><span class="s2">&quot;job-123&quot;</span><span class="p">,</span>
    <span class="n">level</span><span class="o">=</span><span class="s2">&quot;info&quot;</span><span class="p">,</span>
    <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Processing started&quot;</span>
<span class="p">)</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-log-levels">Log Levels<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-log-levels" title="Permanent link">&para;</a></h3>
<ul>
<li><code>debug</code>: Debug information</li>
<li><code>info</code>: General information</li>
<li><code>warning</code>: Warnings</li>
<li><code>error</code>: Errors</li>
<li><code>critical</code>: Critical errors</li>
</ul>
<h2 id="explanations-async-events-secretary-job-worker-detailed-job-status-query">Job Status Query<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-job-status-query" title="Permanent link">&para;</a></h2>
<p>Query job status via API:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/jobs/job-123&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-response">Response<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-response" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;job-123&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;step&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;percent&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Processing completed&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;extracted_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;logs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;info&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Job started&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="explanations-async-events-secretary-job-worker-detailed-creating-custom-handlers">Creating Custom Handlers<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-creating-custom-handlers" title="Permanent link">&para;</a></h2>
<h3 id="explanations-async-events-secretary-job-worker-detailed-1-create-handler-function">1. Create Handler Function<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-1-create-handler-function" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.job_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Job</span><span class="p">,</span> <span class="n">JobProgress</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.core.resource_tracking</span><span class="w"> </span><span class="kn">import</span> <span class="n">ResourceCalculator</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_custom_job</span><span class="p">(</span>
    <span class="n">job</span><span class="p">:</span> <span class="n">Job</span><span class="p">,</span>
    <span class="n">repo</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">resource_calculator</span><span class="p">:</span> <span class="n">ResourceCalculator</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># Update progress</span>
    <span class="n">repo</span><span class="o">.</span><span class="n">update_job_progress</span><span class="p">(</span>
        <span class="n">job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span>
        <span class="n">JobProgress</span><span class="p">(</span><span class="n">step</span><span class="o">=</span><span class="s2">&quot;processing&quot;</span><span class="p">,</span> <span class="n">percent</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Process job</span>
    <span class="n">params</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">parameters</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">process_custom</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

    <span class="c1"># Store results</span>
    <span class="n">repo</span><span class="o">.</span><span class="n">update_job_results</span><span class="p">(</span>
        <span class="n">job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span>
        <span class="p">{</span><span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">result</span><span class="p">}</span>
    <span class="p">)</span>

    <span class="c1"># Mark as completed</span>
    <span class="n">repo</span><span class="o">.</span><span class="n">update_job_status</span><span class="p">(</span>
        <span class="n">job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span>
        <span class="n">JobStatus</span><span class="o">.</span><span class="n">COMPLETED</span>
    <span class="p">)</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-2-register-handler">2. Register Handler<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-2-register-handler" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.processing.registry</span><span class="w"> </span><span class="kn">import</span> <span class="n">register</span>

<span class="n">register</span><span class="p">(</span><span class="s2">&quot;custom&quot;</span><span class="p">,</span> <span class="n">handle_custom_job</span><span class="p">)</span>
</code></pre></div>
<h3 id="explanations-async-events-secretary-job-worker-detailed-3-create-job">3. Create Job<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-3-create-job" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="s2">&quot;http://localhost:5001/api/jobs/&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer YOUR_API_KEY&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;job_type&quot;: &quot;custom&quot;,</span>
<span class="s1">    &quot;parameters&quot;: {</span>
<span class="s1">      &quot;input&quot;: &quot;data&quot;</span>
<span class="s1">    }</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h2 id="explanations-async-events-secretary-job-worker-detailed-related-documentation">Related Documentation<a class="headerlink" href="#explanations-async-events-secretary-job-worker-detailed-related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#explanations-async-events-handlers">Handlers</a> - Detailed handler documentation</li>
<li><a href="#explanations-async-events-secretary-job-worker-detailed-generic-worker.md">Generic Worker</a> - Worker overview</li>
<li><a href="#reference-api-endpoints-jobs">Job API Endpoints</a> - API documentation</li>
</ul></section><section class="print-page" id="explanations-async-events-handlers" heading-number="3.1.2"><h1 id="explanations-async-events-handlers-handler-documentation">Handler Documentation<a class="headerlink" href="#explanations-async-events-handlers-handler-documentation" title="Permanent link">&para;</a></h1>
<p>Complete documentation of all available handlers for the Secretary Job Worker.</p>
<h2 id="explanations-async-events-handlers-overview">Overview<a class="headerlink" href="#explanations-async-events-handlers-overview" title="Permanent link">&para;</a></h2>
<p>Handlers are async functions that process specific job types. They are registered in the processor registry and executed by the SecretaryWorkerManager.</p>
<h2 id="explanations-async-events-handlers-handler-signature">Handler Signature<a class="headerlink" href="#explanations-async-events-handlers-handler-signature" title="Permanent link">&para;</a></h2>
<p>All handlers follow this signature:</p>
<div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_job</span><span class="p">(</span>
    <span class="n">job</span><span class="p">:</span> <span class="n">Job</span><span class="p">,</span>
    <span class="n">repo</span><span class="p">:</span> <span class="n">SecretaryJobRepository</span><span class="p">,</span>
    <span class="n">resource_calculator</span><span class="p">:</span> <span class="n">ResourceCalculator</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># Process job</span>
    <span class="k">pass</span>
</code></pre></div>
<h3 id="explanations-async-events-handlers-parameters">Parameters<a class="headerlink" href="#explanations-async-events-handlers-parameters" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>job</strong>: Job object with <code>job_id</code>, <code>job_type</code>, <code>status</code>, <code>parameters</code></li>
<li><strong>repo</strong>: Repository for updating job status, progress, and results</li>
<li><strong>resource_calculator</strong>: Resource tracking calculator</li>
</ul>
<h2 id="explanations-async-events-handlers-pdf-handler">PDF Handler<a class="headerlink" href="#explanations-async-events-handlers-pdf-handler" title="Permanent link">&para;</a></h2>
<p><strong>Job Type</strong>: <code>pdf</code></p>
<p>Processes PDF files with text extraction and OCR.</p>
<h3 id="explanations-async-events-handlers-parameters_1">Parameters<a class="headerlink" href="#explanations-async-events-handlers-parameters_1" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>filename</code></td>
<td>String</td>
<td>Yes*</td>
<td>Local file path</td>
</tr>
<tr>
<td><code>url</code></td>
<td>String</td>
<td>Yes*</td>
<td>PDF URL (alternative to filename)</td>
</tr>
<tr>
<td><code>extraction_method</code></td>
<td>String</td>
<td>No</td>
<td><code>native</code>, <code>ocr</code>, <code>mistral_ocr</code>, <code>openai_vision</code>, <code>combined</code> (default: <code>native</code>)</td>
</tr>
<tr>
<td><code>template</code></td>
<td>String</td>
<td>No</td>
<td>Template name for text transformation</td>
</tr>
<tr>
<td><code>context</code></td>
<td>Dict</td>
<td>No</td>
<td>Additional context for template</td>
</tr>
<tr>
<td><code>use_cache</code></td>
<td>Boolean</td>
<td>No</td>
<td>Whether to use cache (default: <code>true</code>)</td>
</tr>
<tr>
<td><code>include_images</code></td>
<td>Boolean</td>
<td>No</td>
<td>Include page images in response (default: <code>false</code>)</td>
</tr>
<tr>
<td><code>page_start</code></td>
<td>Integer</td>
<td>No</td>
<td>Start page (1-indexed)</td>
</tr>
<tr>
<td><code>page_end</code></td>
<td>Integer</td>
<td>No</td>
<td>End page (1-indexed)</td>
</tr>
<tr>
<td><code>webhook</code></td>
<td>Dict</td>
<td>No</td>
<td>Webhook configuration</td>
</tr>
</tbody>
</table>
<p>*Either <code>filename</code> or <code>url</code> must be provided.</p>
<h3 id="explanations-async-events-handlers-example">Example<a class="headerlink" href="#explanations-async-events-handlers-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/document.pdf&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;extraction_method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;combined&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MeetingMinutes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;include_images&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="explanations-async-events-handlers-progress-steps">Progress Steps<a class="headerlink" href="#explanations-async-events-handlers-progress-steps" title="Permanent link">&para;</a></h3>
<ol>
<li><code>initializing</code> (0%) - Initializing PDF processor</li>
<li><code>reading_file</code> (10%) - Reading PDF file</li>
<li><code>extracting_text</code> (30%) - Extracting text</li>
<li><code>processing_images</code> (60%) - Processing images (if enabled)</li>
<li><code>applying_template</code> (80%) - Applying template transformation</li>
<li><code>finalizing</code> (90%) - Finalizing results</li>
<li><code>completed</code> (100%) - Processing completed</li>
</ol>
<h3 id="explanations-async-events-handlers-results">Results<a class="headerlink" href="#explanations-async-events-handlers-results" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;structured_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;extracted_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Full extracted text...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;page_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Author Name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;text_contents&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;images_archive_filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;document_images.zip&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;images_archive_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;base64_encoded_zip_data&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="explanations-async-events-handlers-session-handler">Session Handler<a class="headerlink" href="#explanations-async-events-handlers-session-handler" title="Permanent link">&para;</a></h2>
<p><strong>Job Type</strong>: <code>session</code></p>
<p>Processes session information with associated media.</p>
<h3 id="explanations-async-events-handlers-parameters_2">Parameters<a class="headerlink" href="#explanations-async-events-handlers-parameters_2" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>event</code></td>
<td>String</td>
<td>Yes</td>
<td>Event name</td>
</tr>
<tr>
<td><code>session</code></td>
<td>String</td>
<td>Yes</td>
<td>Session name</td>
</tr>
<tr>
<td><code>url</code></td>
<td>String</td>
<td>Yes</td>
<td>Session URL</td>
</tr>
<tr>
<td><code>filename</code></td>
<td>String</td>
<td>Yes</td>
<td>Output filename</td>
</tr>
<tr>
<td><code>track</code></td>
<td>String</td>
<td>Yes</td>
<td>Track name</td>
</tr>
<tr>
<td><code>day</code></td>
<td>String</td>
<td>No</td>
<td>Event day (YYYY-MM-DD)</td>
</tr>
<tr>
<td><code>starttime</code></td>
<td>String</td>
<td>No</td>
<td>Start time (HH:MM)</td>
</tr>
<tr>
<td><code>endtime</code></td>
<td>String</td>
<td>No</td>
<td>End time (HH:MM)</td>
</tr>
<tr>
<td><code>speakers</code></td>
<td>List[String]</td>
<td>No</td>
<td>List of speakers</td>
</tr>
<tr>
<td><code>video_url</code></td>
<td>String</td>
<td>No</td>
<td>Video URL</td>
</tr>
<tr>
<td><code>attachments_url</code></td>
<td>String</td>
<td>No</td>
<td>Attachments URL</td>
</tr>
<tr>
<td><code>source_language</code></td>
<td>String</td>
<td>No</td>
<td>Source language (default: <code>en</code>)</td>
</tr>
<tr>
<td><code>target_language</code></td>
<td>String</td>
<td>No</td>
<td>Target language (default: <code>de</code>)</td>
</tr>
<tr>
<td><code>template</code></td>
<td>String</td>
<td>No</td>
<td>Template name (default: <code>Session</code>)</td>
</tr>
</tbody>
</table>
<h3 id="explanations-async-events-handlers-example_1">Example<a class="headerlink" href="#explanations-async-events-handlers-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;session&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;event&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Conference 2024&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;session&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Keynote&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://example.com/session&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;filename&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;keynote.md&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;track&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Main Track&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="explanations-async-events-handlers-progress-steps_1">Progress Steps<a class="headerlink" href="#explanations-async-events-handlers-progress-steps_1" title="Permanent link">&para;</a></h3>
<ol>
<li><code>initializing</code> (0%) - Initializing session processor</li>
<li><code>fetching_page</code> (10%) - Fetching session page</li>
<li><code>downloading_media</code> (30%) - Downloading videos and attachments</li>
<li><code>processing_video</code> (50%) - Processing video</li>
<li><code>processing_attachments</code> (70%) - Processing PDF attachments</li>
<li><code>generating_markdown</code> (90%) - Generating Markdown</li>
<li><code>completed</code> (100%) - Processing completed</li>
</ol>
<h3 id="explanations-async-events-handlers-results_1">Results<a class="headerlink" href="#explanations-async-events-handlers-results_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;markdown_file&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/keynote.md&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;markdown_content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;# Session Content...&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;attachments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;/path/to/video.mp4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;/path/to/slides.pdf&quot;</span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;video_transcript&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Transcribed video content...&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;target_dir&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/path/to/session/output&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="explanations-async-events-handlers-transformer-handler">Transformer Handler<a class="headerlink" href="#explanations-async-events-handlers-transformer-handler" title="Permanent link">&para;</a></h2>
<p><strong>Job Type</strong>: <code>transformer</code></p>
<p>Processes text transformation with templates.</p>
<h3 id="explanations-async-events-handlers-parameters_3">Parameters<a class="headerlink" href="#explanations-async-events-handlers-parameters_3" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>text</code></td>
<td>String</td>
<td>Yes*</td>
<td>Text to transform</td>
</tr>
<tr>
<td><code>url</code></td>
<td>String</td>
<td>Yes*</td>
<td>URL to fetch text from (alternative to text)</td>
</tr>
<tr>
<td><code>template</code></td>
<td>String</td>
<td>Yes</td>
<td>Template name</td>
</tr>
<tr>
<td><code>context</code></td>
<td>Dict</td>
<td>No</td>
<td>Additional context for template</td>
</tr>
<tr>
<td><code>source_language</code></td>
<td>String</td>
<td>No</td>
<td>Source language</td>
</tr>
<tr>
<td><code>target_language</code></td>
<td>String</td>
<td>No</td>
<td>Target language</td>
</tr>
<tr>
<td><code>use_cache</code></td>
<td>Boolean</td>
<td>No</td>
<td>Whether to use cache (default: <code>true</code>)</td>
</tr>
</tbody>
</table>
<p>*Either <code>text</code> or <code>url</code> must be provided.</p>
<h3 id="explanations-async-events-handlers-example_2">Example<a class="headerlink" href="#explanations-async-events-handlers-example_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;transformer&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Meeting notes...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;template&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MeetingMinutes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;meeting_date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;participants&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Bob&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="explanations-async-events-handlers-progress-steps_2">Progress Steps<a class="headerlink" href="#explanations-async-events-handlers-progress-steps_2" title="Permanent link">&para;</a></h3>
<ol>
<li><code>initializing</code> (0%) - Initializing transformer processor</li>
<li><code>loading_template</code> (20%) - Loading template</li>
<li><code>transforming_text</code> (50%) - Transforming text with LLM</li>
<li><code>finalizing</code> (90%) - Finalizing results</li>
<li><code>completed</code> (100%) - Processing completed</li>
</ol>
<h3 id="explanations-async-events-handlers-results_2">Results<a class="headerlink" href="#explanations-async-events-handlers-results_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;transformed_text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Structured meeting minutes...&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;template_fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Meeting summary&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;participants&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Bob&quot;</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;action_items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="explanations-async-events-handlers-creating-custom-handlers">Creating Custom Handlers<a class="headerlink" href="#explanations-async-events-handlers-creating-custom-handlers" title="Permanent link">&para;</a></h2>
<h3 id="explanations-async-events-handlers-1-implement-handler-function">1. Implement Handler Function<a class="headerlink" href="#explanations-async-events-handlers-1-implement-handler-function" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.models.job_models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Job</span><span class="p">,</span> <span class="n">JobStatus</span><span class="p">,</span> <span class="n">JobProgress</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">src.core.resource_tracking</span><span class="w"> </span><span class="kn">import</span> <span class="n">ResourceCalculator</span>

<span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_custom_job</span><span class="p">(</span>
    <span class="n">job</span><span class="p">:</span> <span class="n">Job</span><span class="p">,</span>
    <span class="n">repo</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span>
    <span class="n">resource_calculator</span><span class="p">:</span> <span class="n">ResourceCalculator</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="c1"># Update status to processing</span>
    <span class="n">repo</span><span class="o">.</span><span class="n">update_job_status</span><span class="p">(</span>
        <span class="n">job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span>
        <span class="n">JobStatus</span><span class="o">.</span><span class="n">PROCESSING</span><span class="p">,</span>
        <span class="n">progress</span><span class="o">=</span><span class="n">JobProgress</span><span class="p">(</span><span class="n">step</span><span class="o">=</span><span class="s2">&quot;initializing&quot;</span><span class="p">,</span> <span class="n">percent</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># Extract parameters</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">job</span><span class="o">.</span><span class="n">parameters</span>
        <span class="n">input_data</span> <span class="o">=</span> <span class="n">params</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;input&quot;</span><span class="p">)</span>

        <span class="c1"># Update progress</span>
        <span class="n">repo</span><span class="o">.</span><span class="n">update_job_progress</span><span class="p">(</span>
            <span class="n">job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span>
            <span class="n">JobProgress</span><span class="p">(</span><span class="n">step</span><span class="o">=</span><span class="s2">&quot;processing&quot;</span><span class="p">,</span> <span class="n">percent</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Processing...&quot;</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># Process job</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">process_custom</span><span class="p">(</span><span class="n">input_data</span><span class="p">)</span>

        <span class="c1"># Store results</span>
        <span class="n">repo</span><span class="o">.</span><span class="n">update_job_results</span><span class="p">(</span>
            <span class="n">job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span>
            <span class="p">{</span><span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">result</span><span class="p">}</span>
        <span class="p">)</span>

        <span class="c1"># Mark as completed</span>
        <span class="n">repo</span><span class="o">.</span><span class="n">update_job_status</span><span class="p">(</span>
            <span class="n">job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span>
            <span class="n">JobStatus</span><span class="o">.</span><span class="n">COMPLETED</span><span class="p">,</span>
            <span class="n">progress</span><span class="o">=</span><span class="n">JobProgress</span><span class="p">(</span><span class="n">step</span><span class="o">=</span><span class="s2">&quot;completed&quot;</span><span class="p">,</span> <span class="n">percent</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="c1"># Handle errors</span>
        <span class="n">repo</span><span class="o">.</span><span class="n">update_job_error</span><span class="p">(</span>
            <span class="n">job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span>
            <span class="n">JobError</span><span class="p">(</span>
                <span class="n">code</span><span class="o">=</span><span class="s2">&quot;PROCESSING_ERROR&quot;</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                <span class="n">details</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;error_type&quot;</span><span class="p">:</span> <span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="n">repo</span><span class="o">.</span><span class="n">update_job_status</span><span class="p">(</span><span class="n">job</span><span class="o">.</span><span class="n">job_id</span><span class="p">,</span> <span class="n">JobStatus</span><span class="o">.</span><span class="n">FAILED</span><span class="p">)</span>
</code></pre></div>
<h3 id="explanations-async-events-handlers-2-register-handler">2. Register Handler<a class="headerlink" href="#explanations-async-events-handlers-2-register-handler" title="Permanent link">&para;</a></h3>
<p>In your handler module:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">src.core.processing.registry</span><span class="w"> </span><span class="kn">import</span> <span class="n">register</span>

<span class="n">register</span><span class="p">(</span><span class="s2">&quot;custom&quot;</span><span class="p">,</span> <span class="n">handle_custom_job</span><span class="p">)</span>
</code></pre></div>
<h3 id="explanations-async-events-handlers-3-import-handler-module">3. Import Handler Module<a class="headerlink" href="#explanations-async-events-handlers-3-import-handler-module" title="Permanent link">&para;</a></h3>
<p>Ensure the handler module is imported so registration happens:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># In src/core/processing/__init__.py or similar</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.handlers</span><span class="w"> </span><span class="kn">import</span> <span class="n">custom_handler</span>  <span class="c1"># This triggers registration</span>
</code></pre></div>
<h2 id="explanations-async-events-handlers-related-documentation">Related Documentation<a class="headerlink" href="#explanations-async-events-handlers-related-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#explanations-async-events-secretary-job-worker-detailed">Secretary Job Worker</a> - Complete worker documentation</li>
<li><a href="#reference-api-endpoints-jobs">Job API Endpoints</a> - API documentation</li>
</ul></section></section></section></div><style>.print-site-enumerate-headings #section-2 > h1:before { content: '2 ' }
.print-site-enumerate-headings #reference > h1:before { content: '2.1 ' }

                .print-site-enumerate-headings #reference h2:before { content: '2.1.' counter(counter-reference-2) ' ' }
                .print-site-enumerate-headings #reference h2 {  counter-increment: counter-reference-2 }
            
.print-site-enumerate-headings #section-2-2 > h1:before { content: '2.2 ' }
.print-site-enumerate-headings #reference-code-index > h1:before { content: '2.2.1 ' }

.print-site-enumerate-headings #architecture-module-hierarchy > h1:before { content: '2.2.2 ' }

.print-site-enumerate-headings #section-2-3 > h1:before { content: '2.3 ' }
.print-site-enumerate-headings #reference-api-overview > h1:before { content: '2.3.1 ' }

.print-site-enumerate-headings #section-2-3-2 > h1:before { content: '2.3.2 ' }
.print-site-enumerate-headings #reference-api-endpoints-audio > h1:before { content: '2.3.2.1 ' }

.print-site-enumerate-headings #reference-api-endpoints-video > h1:before { content: '2.3.2.2 ' }

.print-site-enumerate-headings #reference-api-endpoints-pdf > h1:before { content: '2.3.2.3 ' }

.print-site-enumerate-headings #reference-api-endpoints-imageocr > h1:before { content: '2.3.2.4 ' }

.print-site-enumerate-headings #reference-api-endpoints-transformer > h1:before { content: '2.3.2.5 ' }

.print-site-enumerate-headings #reference-api-endpoints-session > h1:before { content: '2.3.2.6 ' }

.print-site-enumerate-headings #reference-api-endpoints-event > h1:before { content: '2.3.2.7 ' }

.print-site-enumerate-headings #reference-api-endpoints-track > h1:before { content: '2.3.2.8 ' }

.print-site-enumerate-headings #reference-api-endpoints-story > h1:before { content: '2.3.2.9 ' }

.print-site-enumerate-headings #reference-api-endpoints-jobs > h1:before { content: '2.3.2.10 ' }

.print-site-enumerate-headings #reference-api-endpoints-event-job > h1:before { content: '2.3.2.11 ' }

.print-site-enumerate-headings #reference-api-endpoints-common > h1:before { content: '2.3.2.12 ' }

.print-site-enumerate-headings #reference-api-openapi > h1:before { content: '2.3.3 ' }

.print-site-enumerate-headings #section-2-4 > h1:before { content: '2.4 ' }
.print-site-enumerate-headings #reference-data-models > h1:before { content: '2.4.1 ' }

.print-site-enumerate-headings #reference-data-models-base > h1:before { content: '2.4.2 ' }

.print-site-enumerate-headings #reference-data-models-llm > h1:before { content: '2.4.3 ' }

.print-site-enumerate-headings #reference-data-models-job > h1:before { content: '2.4.4 ' }

.print-site-enumerate-headings #reference-configuration > h1:before { content: '2.5 ' }

                .print-site-enumerate-headings #reference-configuration h2:before { content: '2.5.' counter(counter-reference-configuration-2) ' ' }
                .print-site-enumerate-headings #reference-configuration h2 {  counter-increment: counter-reference-configuration-2 }
            
.print-site-enumerate-headings #reference-environment-variables > h1:before { content: '2.6 ' }

                .print-site-enumerate-headings #reference-environment-variables h2:before { content: '2.6.' counter(counter-reference-environment-variables-2) ' ' }
                .print-site-enumerate-headings #reference-environment-variables h2 {  counter-increment: counter-reference-environment-variables-2 }
            
.print-site-enumerate-headings #section-3 > h1:before { content: '3 ' }
.print-site-enumerate-headings #section-3-1 > h1:before { content: '3.1 ' }
.print-site-enumerate-headings #explanations-async-events-secretary-job-worker-detailed > h1:before { content: '3.1.1 ' }

.print-site-enumerate-headings #explanations-async-events-handlers > h1:before { content: '3.1.2 ' }
</style>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "/", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "In Zwischenablage kopiert", "clipboard.copy": "In Zwischenablage kopieren", "search.result.more.one": "1 weiteres Suchergebnis auf dieser Seite", "search.result.more.other": "# weitere Suchergebnisse auf dieser Seite", "search.result.none": "Keine Suchergebnisse", "search.result.one": "1 Suchergebnis", "search.result.other": "# Suchergebnisse", "search.result.placeholder": "Suchbegriff eingeben", "search.result.term.missing": "Es fehlt", "select.version": "Version ausw\u00e4hlen"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
        <script src="../assets/js/mermaid-init.js"></script>
      
    
  </body>
</html>
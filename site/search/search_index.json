{"config":{"lang":["de"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"architecture/module-hierarchy/","title":"Module Hierarchy","text":"<p>Overview of the architecture and module structure of Common Secretary Services.</p>"},{"location":"architecture/module-hierarchy/#architecture-overview","title":"Architecture Overview","text":"<pre><code>Common Secretary Services\n\u251c\u2500\u2500 Entry Points\n\u2502   \u251c\u2500\u2500 src/main.py - Server entry point\n\u2502   \u251c\u2500\u2500 src/api/__init__.py - Alternative API app factory\n\u2502   \u2514\u2500\u2500 src/dashboard/app.py - Main Flask application\n\u251c\u2500\u2500 Core Layer\n\u2502   \u251c\u2500\u2500 Configuration\n\u2502   \u2502   \u251c\u2500\u2500 src/core/config.py - Central configuration management\n\u2502   \u2502   \u251c\u2500\u2500 src/core/config_keys.py - API key management\n\u2502   \u2502   \u2514\u2500\u2500 src/core/config_utils.py - Configuration utilities\n\u2502   \u251c\u2500\u2500 Models\n\u2502   \u2502   \u251c\u2500\u2500 src/core/models/base.py - Base models (BaseResponse, ErrorInfo, etc.)\n\u2502   \u2502   \u251c\u2500\u2500 src/core/models/enums.py - Enum definitions\n\u2502   \u2502   \u251c\u2500\u2500 src/core/models/protocols.py - Protocol definitions\n\u2502   \u2502   \u2514\u2500\u2500 src/core/models/*.py - Specific models (audio, video, pdf, etc.)\n\u2502   \u251c\u2500\u2500 MongoDB\n\u2502   \u2502   \u251c\u2500\u2500 src/core/mongodb/connection.py - MongoDB connection\n\u2502   \u2502   \u251c\u2500\u2500 src/core/mongodb/repository.py - Repository pattern\n\u2502   \u2502   \u251c\u2500\u2500 src/core/mongodb/cache_setup.py - Cache setup\n\u2502   \u2502   \u2514\u2500\u2500 src/core/mongodb/*_repository.py - Specific repositories\n\u2502   \u251c\u2500\u2500 Processing\n\u2502   \u2502   \u251c\u2500\u2500 src/core/processing/handlers/ - Job handlers\n\u2502   \u2502   \u2514\u2500\u2500 src/core/processing/registry.py - Processor registry\n\u2502   \u251c\u2500\u2500 Services\n\u2502   \u2502   \u2514\u2500\u2500 src/core/services/translator_service.py - Translation service\n\u2502   \u2514\u2500\u2500 Utilities\n\u2502       \u251c\u2500\u2500 src/core/exceptions.py - Exception definitions\n\u2502       \u251c\u2500\u2500 src/core/validation.py - Validation utilities\n\u2502       \u251c\u2500\u2500 src/core/resource_tracking.py - Resource tracking\n\u2502       \u2514\u2500\u2500 src/core/rate_limiting.py - Rate limiting\n\u251c\u2500\u2500 Processor Layer\n\u2502   \u251c\u2500\u2500 Base Classes\n\u2502   \u2502   \u251c\u2500\u2500 src/processors/base_processor.py - Base class for all processors\n\u2502   \u2502   \u2514\u2500\u2500 src/processors/cacheable_processor.py - Cacheable base class\n\u2502   \u2514\u2500\u2500 Implementations\n\u2502       \u251c\u2500\u2500 src/processors/audio_processor.py - Audio processing\n\u2502       \u251c\u2500\u2500 src/processors/video_processor.py - Video processing\n\u2502       \u251c\u2500\u2500 src/processors/pdf_processor.py - PDF processing\n\u2502       \u251c\u2500\u2500 src/processors/imageocr_processor.py - Image OCR\n\u2502       \u251c\u2500\u2500 src/processors/youtube_processor.py - YouTube processing\n\u2502       \u251c\u2500\u2500 src/processors/transformer_processor.py - Text transformation\n\u2502       \u251c\u2500\u2500 src/processors/session_processor.py - Session processing\n\u2502       \u251c\u2500\u2500 src/processors/event_processor.py - Event processing\n\u2502       \u251c\u2500\u2500 src/processors/track_processor.py - Track processing\n\u2502       \u251c\u2500\u2500 src/processors/story_processor.py - Story processing\n\u2502       \u2514\u2500\u2500 src/processors/metadata_processor.py - Metadata extraction\n\u251c\u2500\u2500 API Layer\n\u2502   \u2514\u2500\u2500 Routes\n\u2502       \u251c\u2500\u2500 src/api/routes/__init__.py - Route registration and auth\n\u2502       \u251c\u2500\u2500 src/api/routes/audio_routes.py - Audio API\n\u2502       \u251c\u2500\u2500 src/api/routes/video_routes.py - Video API\n\u2502       \u251c\u2500\u2500 src/api/routes/pdf_routes.py - PDF API\n\u2502       \u251c\u2500\u2500 src/api/routes/imageocr_routes.py - ImageOCR API\n\u2502       \u251c\u2500\u2500 src/api/routes/youtube_routes.py - YouTube API\n\u2502       \u251c\u2500\u2500 src/api/routes/transformer_routes.py - Transformer API\n\u2502       \u251c\u2500\u2500 src/api/routes/session_routes.py - Session API\n\u2502       \u251c\u2500\u2500 src/api/routes/event_routes.py - Event API\n\u2502       \u251c\u2500\u2500 src/api/routes/track_routes.py - Track API\n\u2502       \u251c\u2500\u2500 src/api/routes/story_routes.py - Story API\n\u2502       \u2514\u2500\u2500 src/api/routes/secretary_job_routes.py - Secretary Job API\n\u251c\u2500\u2500 Dashboard Layer\n\u2502   \u2514\u2500\u2500 Routes &amp; Templates\n\u2502       \u251c\u2500\u2500 src/dashboard/routes/main_routes.py - Main routes\n\u2502       \u251c\u2500\u2500 src/dashboard/routes/config_routes.py - Configuration routes\n\u2502       \u251c\u2500\u2500 src/dashboard/routes/docs_routes.py - Documentation routes\n\u2502       \u2514\u2500\u2500 src/dashboard/routes/log_routes.py - Log routes\n\u2514\u2500\u2500 Utilities\n    \u251c\u2500\u2500 Logging\n    \u2502   \u2514\u2500\u2500 src/utils/logger.py - Logging system\n    \u251c\u2500\u2500 OpenAI\n    \u2502   \u251c\u2500\u2500 src/utils/openai_utils.py - OpenAI integration\n    \u2502   \u2514\u2500\u2500 src/utils/openai_types.py - OpenAI types\n    \u251c\u2500\u2500 Processing Utils\n    \u2502   \u251c\u2500\u2500 src/utils/transcription_utils.py - Transcription utils\n    \u2502   \u251c\u2500\u2500 src/utils/audio_utils.py - Audio utilities\n    \u2502   \u2514\u2500\u2500 src/utils/image2text_utils.py - Image-to-text utilities\n    \u2514\u2500\u2500 Performance\n        \u251c\u2500\u2500 src/utils/performance_tracker.py - Performance tracking\n        \u251c\u2500\u2500 src/utils/processor_cache.py - Processor cache\n        \u2514\u2500\u2500 src/utils/video_cache.py - Video cache\n</code></pre>"},{"location":"architecture/module-hierarchy/#dependency-graph","title":"Dependency Graph","text":"<pre><code>graph TD\n    A[main.py] --&gt; B[dashboard.app]\n    B --&gt; C[api.routes]\n    B --&gt; D[dashboard.routes]\n\n    C --&gt; E[processors.*]\n    E --&gt; F[base_processor]\n    E --&gt; G[cacheable_processor]\n    G --&gt; F\n\n    F --&gt; H[core.config]\n    F --&gt; I[core.models.base]\n    F --&gt; J[utils.logger]\n    F --&gt; K[core.resource_tracking]\n\n    G --&gt; L[core.mongodb.connection]\n    G --&gt; M[core.mongodb.repository]\n\n    E --&gt; N[core.exceptions]\n    E --&gt; O[core.models.*]\n\n    P[utils.openai_utils] --&gt; Q[core.config_keys]\n    P --&gt; R[core.config]\n\n    S[core.mongodb.*] --&gt; L\n    S --&gt; R\n\n    T[core.models.*] --&gt; U[core.models.enums]\n    T --&gt; I</code></pre>"},{"location":"architecture/module-hierarchy/#data-flow","title":"Data Flow","text":""},{"location":"architecture/module-hierarchy/#request-processing","title":"Request Processing","text":"<ol> <li>Entry Point (<code>main.py</code> or <code>dashboard/app.py</code>)</li> <li>Starts Flask app</li> <li> <p>Registers blueprints</p> </li> <li> <p>API Layer (<code>api/routes/*</code>)</p> </li> <li>Receives HTTP requests</li> <li>Validates authentication</li> <li> <p>Calls processors</p> </li> <li> <p>Processor Layer (<code>processors/*</code>)</p> </li> <li>Processes request</li> <li>Uses cache (if enabled)</li> <li>Calls LLM services</li> <li> <p>Creates response</p> </li> <li> <p>Response</p> </li> <li>Standardized format (BaseResponse)</li> <li>Contains ProcessInfo with LLM tracking</li> <li>Returned as JSON</li> </ol>"},{"location":"architecture/module-hierarchy/#cache-flow","title":"Cache Flow","text":"<ol> <li>CacheableProcessor checks cache</li> <li>On cache hit: Return result from MongoDB</li> <li>On cache miss: Perform processing</li> <li>Store result in MongoDB</li> <li>Return result</li> </ol>"},{"location":"architecture/module-hierarchy/#module-descriptions","title":"Module Descriptions","text":""},{"location":"architecture/module-hierarchy/#entry-points","title":"Entry Points","text":"<ul> <li>main.py: Server entry point, loads .env, starts Flask app</li> <li>dashboard/app.py: Main Flask application, manages lifecycle, worker managers</li> <li>api/init.py: Alternative app factory for API-only deployments</li> </ul>"},{"location":"architecture/module-hierarchy/#core-layer","title":"Core Layer","text":"<ul> <li>Configuration: Central configuration management from config.yaml</li> <li>Models: Dataclass definitions for all data structures</li> <li>MongoDB: Database connection, repositories, cache management</li> <li>Processing: Job handlers for asynchronous processing</li> <li>Services: Business logic services (e.g., Translator)</li> <li>Utilities: Base functionality (exceptions, validation, etc.)</li> </ul>"},{"location":"architecture/module-hierarchy/#processor-layer","title":"Processor Layer","text":"<ul> <li>Base Classes: Common functionality for all processors</li> <li>Implementations: Specific processors for various media types</li> </ul>"},{"location":"architecture/module-hierarchy/#api-layer","title":"API Layer","text":"<ul> <li>Routes: Flask-RESTX routes for all API endpoints</li> <li>Auth: Authentication and authorization</li> </ul>"},{"location":"architecture/module-hierarchy/#dashboard-layer","title":"Dashboard Layer","text":"<ul> <li>Routes: Web interface routes</li> <li>Templates: HTML templates for dashboard</li> </ul>"},{"location":"architecture/module-hierarchy/#utilities","title":"Utilities","text":"<ul> <li>Logging: Central logging system</li> <li>OpenAI: Integration with OpenAI APIs</li> <li>Processing Utils: Helper functions for processing</li> <li>Performance: Performance tracking and caching</li> </ul>"},{"location":"architecture/module-hierarchy/#cyclic-dependencies","title":"Cyclic Dependencies","text":"<p>Currently no known cyclic dependencies. The architecture follows a clear hierarchy principle:</p> <ul> <li>Entry Points \u2192 API/Dashboard \u2192 Processors \u2192 Core \u2192 Utilities</li> </ul>"},{"location":"explanations/async-events/handlers/","title":"Handler Documentation","text":"<p>Complete documentation of all available handlers for the Secretary Job Worker.</p>"},{"location":"explanations/async-events/handlers/#overview","title":"Overview","text":"<p>Handlers are async functions that process specific job types. They are registered in the processor registry and executed by the SecretaryWorkerManager.</p>"},{"location":"explanations/async-events/handlers/#handler-signature","title":"Handler Signature","text":"<p>All handlers follow this signature:</p> <pre><code>async def handle_job(\n    job: Job,\n    repo: SecretaryJobRepository,\n    resource_calculator: ResourceCalculator\n) -&gt; None:\n    # Process job\n    pass\n</code></pre>"},{"location":"explanations/async-events/handlers/#parameters","title":"Parameters","text":"<ul> <li>job: Job object with <code>job_id</code>, <code>job_type</code>, <code>status</code>, <code>parameters</code></li> <li>repo: Repository for updating job status, progress, and results</li> <li>resource_calculator: Resource tracking calculator</li> </ul>"},{"location":"explanations/async-events/handlers/#pdf-handler","title":"PDF Handler","text":"<p>Job Type: <code>pdf</code></p> <p>Processes PDF files with text extraction and OCR.</p>"},{"location":"explanations/async-events/handlers/#parameters_1","title":"Parameters","text":"Parameter Type Required Description <code>filename</code> String Yes* Local file path <code>url</code> String Yes* PDF URL (alternative to filename) <code>extraction_method</code> String No <code>native</code>, <code>ocr</code>, <code>mistral_ocr</code>, <code>openai_vision</code>, <code>combined</code> (default: <code>native</code>) <code>template</code> String No Template name for text transformation <code>context</code> Dict No Additional context for template <code>use_cache</code> Boolean No Whether to use cache (default: <code>true</code>) <code>include_images</code> Boolean No Include page images in response (default: <code>false</code>) <code>page_start</code> Integer No Start page (1-indexed) <code>page_end</code> Integer No End page (1-indexed) <code>webhook</code> Dict No Webhook configuration <p>*Either <code>filename</code> or <code>url</code> must be provided.</p>"},{"location":"explanations/async-events/handlers/#example","title":"Example","text":"<pre><code>{\n  \"job_type\": \"pdf\",\n  \"parameters\": {\n    \"filename\": \"/path/to/document.pdf\",\n    \"extraction_method\": \"combined\",\n    \"template\": \"MeetingMinutes\",\n    \"include_images\": true\n  }\n}\n</code></pre>"},{"location":"explanations/async-events/handlers/#progress-steps","title":"Progress Steps","text":"<ol> <li><code>initializing</code> (0%) - Initializing PDF processor</li> <li><code>reading_file</code> (10%) - Reading PDF file</li> <li><code>extracting_text</code> (30%) - Extracting text</li> <li><code>processing_images</code> (60%) - Processing images (if enabled)</li> <li><code>applying_template</code> (80%) - Applying template transformation</li> <li><code>finalizing</code> (90%) - Finalizing results</li> <li><code>completed</code> (100%) - Processing completed</li> </ol>"},{"location":"explanations/async-events/handlers/#results","title":"Results","text":"<pre><code>{\n  \"structured_data\": {\n    \"extracted_text\": \"Full extracted text...\",\n    \"metadata\": {\n      \"page_count\": 10,\n      \"author\": \"Author Name\",\n      \"text_contents\": [...]\n    },\n    \"images_archive_filename\": \"document_images.zip\",\n    \"images_archive_data\": \"base64_encoded_zip_data\"\n  }\n}\n</code></pre>"},{"location":"explanations/async-events/handlers/#session-handler","title":"Session Handler","text":"<p>Job Type: <code>session</code></p> <p>Processes session information with associated media.</p>"},{"location":"explanations/async-events/handlers/#parameters_2","title":"Parameters","text":"Parameter Type Required Description <code>event</code> String Yes Event name <code>session</code> String Yes Session name <code>url</code> String Yes Session URL <code>filename</code> String Yes Output filename <code>track</code> String Yes Track name <code>day</code> String No Event day (YYYY-MM-DD) <code>starttime</code> String No Start time (HH:MM) <code>endtime</code> String No End time (HH:MM) <code>speakers</code> List[String] No List of speakers <code>video_url</code> String No Video URL <code>attachments_url</code> String No Attachments URL <code>source_language</code> String No Source language (default: <code>en</code>) <code>target_language</code> String No Target language (default: <code>de</code>) <code>template</code> String No Template name (default: <code>Session</code>)"},{"location":"explanations/async-events/handlers/#example_1","title":"Example","text":"<pre><code>{\n  \"job_type\": \"session\",\n  \"parameters\": {\n    \"event\": \"Conference 2024\",\n    \"session\": \"Keynote\",\n    \"url\": \"https://example.com/session\",\n    \"filename\": \"keynote.md\",\n    \"track\": \"Main Track\"\n  }\n}\n</code></pre>"},{"location":"explanations/async-events/handlers/#progress-steps_1","title":"Progress Steps","text":"<ol> <li><code>initializing</code> (0%) - Initializing session processor</li> <li><code>fetching_page</code> (10%) - Fetching session page</li> <li><code>downloading_media</code> (30%) - Downloading videos and attachments</li> <li><code>processing_video</code> (50%) - Processing video</li> <li><code>processing_attachments</code> (70%) - Processing PDF attachments</li> <li><code>generating_markdown</code> (90%) - Generating Markdown</li> <li><code>completed</code> (100%) - Processing completed</li> </ol>"},{"location":"explanations/async-events/handlers/#results_1","title":"Results","text":"<pre><code>{\n  \"markdown_file\": \"/path/to/keynote.md\",\n  \"markdown_content\": \"# Session Content...\",\n  \"attachments\": [\"/path/to/video.mp4\", \"/path/to/slides.pdf\"],\n  \"video_transcript\": \"Transcribed video content...\",\n  \"target_dir\": \"/path/to/session/output\"\n}\n</code></pre>"},{"location":"explanations/async-events/handlers/#transformer-handler","title":"Transformer Handler","text":"<p>Job Type: <code>transformer</code></p> <p>Processes text transformation with templates.</p>"},{"location":"explanations/async-events/handlers/#parameters_3","title":"Parameters","text":"Parameter Type Required Description <code>text</code> String Yes* Text to transform <code>url</code> String Yes* URL to fetch text from (alternative to text) <code>template</code> String Yes Template name <code>context</code> Dict No Additional context for template <code>source_language</code> String No Source language <code>target_language</code> String No Target language <code>use_cache</code> Boolean No Whether to use cache (default: <code>true</code>) <p>*Either <code>text</code> or <code>url</code> must be provided.</p>"},{"location":"explanations/async-events/handlers/#example_2","title":"Example","text":"<pre><code>{\n  \"job_type\": \"transformer\",\n  \"parameters\": {\n    \"text\": \"Meeting notes...\",\n    \"template\": \"MeetingMinutes\",\n    \"context\": {\n      \"meeting_date\": \"2024-01-01\",\n      \"participants\": [\"Alice\", \"Bob\"]\n    }\n  }\n}\n</code></pre>"},{"location":"explanations/async-events/handlers/#progress-steps_2","title":"Progress Steps","text":"<ol> <li><code>initializing</code> (0%) - Initializing transformer processor</li> <li><code>loading_template</code> (20%) - Loading template</li> <li><code>transforming_text</code> (50%) - Transforming text with LLM</li> <li><code>finalizing</code> (90%) - Finalizing results</li> <li><code>completed</code> (100%) - Processing completed</li> </ol>"},{"location":"explanations/async-events/handlers/#results_2","title":"Results","text":"<pre><code>{\n  \"transformed_text\": \"Structured meeting minutes...\",\n  \"template_fields\": {\n    \"summary\": \"Meeting summary\",\n    \"participants\": [\"Alice\", \"Bob\"],\n    \"action_items\": [...]\n  }\n}\n</code></pre>"},{"location":"explanations/async-events/handlers/#creating-custom-handlers","title":"Creating Custom Handlers","text":""},{"location":"explanations/async-events/handlers/#1-implement-handler-function","title":"1. Implement Handler Function","text":"<pre><code>from src.core.models.job_models import Job, JobStatus, JobProgress\nfrom src.core.resource_tracking import ResourceCalculator\n\nasync def handle_custom_job(\n    job: Job,\n    repo: Any,\n    resource_calculator: ResourceCalculator\n) -&gt; None:\n    # Update status to processing\n    repo.update_job_status(\n        job.job_id,\n        JobStatus.PROCESSING,\n        progress=JobProgress(step=\"initializing\", percent=0)\n    )\n\n    try:\n        # Extract parameters\n        params = job.parameters\n        input_data = params.get(\"input\")\n\n        # Update progress\n        repo.update_job_progress(\n            job.job_id,\n            JobProgress(step=\"processing\", percent=50, message=\"Processing...\")\n        )\n\n        # Process job\n        result = process_custom(input_data)\n\n        # Store results\n        repo.update_job_results(\n            job.job_id,\n            {\"result\": result}\n        )\n\n        # Mark as completed\n        repo.update_job_status(\n            job.job_id,\n            JobStatus.COMPLETED,\n            progress=JobProgress(step=\"completed\", percent=100)\n        )\n\n    except Exception as e:\n        # Handle errors\n        repo.update_job_error(\n            job.job_id,\n            JobError(\n                code=\"PROCESSING_ERROR\",\n                message=str(e),\n                details={\"error_type\": type(e).__name__}\n            )\n        )\n        repo.update_job_status(job.job_id, JobStatus.FAILED)\n</code></pre>"},{"location":"explanations/async-events/handlers/#2-register-handler","title":"2. Register Handler","text":"<p>In your handler module:</p> <pre><code>from src.core.processing.registry import register\n\nregister(\"custom\", handle_custom_job)\n</code></pre>"},{"location":"explanations/async-events/handlers/#3-import-handler-module","title":"3. Import Handler Module","text":"<p>Ensure the handler module is imported so registration happens:</p> <pre><code># In src/core/processing/__init__.py or similar\nfrom .handlers import custom_handler  # This triggers registration\n</code></pre>"},{"location":"explanations/async-events/handlers/#related-documentation","title":"Related Documentation","text":"<ul> <li>Secretary Job Worker - Complete worker documentation</li> <li>Job API Endpoints - API documentation</li> </ul>"},{"location":"explanations/async-events/secretary-job-worker-detailed/","title":"Secretary Job Worker - Detailed Documentation","text":"<p>Complete documentation of the Secretary Job Worker system for asynchronous job processing.</p>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#overview","title":"Overview","text":"<p>The Secretary Job Worker is a generic background worker system that processes jobs asynchronously. It polls MongoDB for pending jobs and routes them to appropriate handlers based on <code>job_type</code>.</p>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#architecture","title":"Architecture","text":""},{"location":"explanations/async-events/secretary-job-worker-detailed/#components","title":"Components","text":"<ol> <li>SecretaryWorkerManager: Main worker manager that polls and routes jobs</li> <li>Processor Registry: Maps <code>job_type</code> strings to handler functions</li> <li>Handlers: Async functions that process specific job types</li> <li>SecretaryJobRepository: MongoDB repository for job management</li> </ol>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#job-lifecycle","title":"Job Lifecycle","text":"<pre><code>PENDING \u2192 PROCESSING \u2192 COMPLETED/FAILED\n</code></pre> <ol> <li>PENDING: Job is created and waiting to be processed</li> <li>PROCESSING: Job is currently being processed by a handler</li> <li>COMPLETED: Job completed successfully with results</li> <li>FAILED: Job failed with error information</li> </ol>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#configuration","title":"Configuration","text":"<p>Configure the worker in <code>config.yaml</code>:</p> <pre><code>generic_worker:\n  active: true\n  max_concurrent: 3\n  poll_interval_sec: 5\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#parameters","title":"Parameters","text":"<ul> <li>active: Enable/disable the worker</li> <li>max_concurrent: Maximum concurrent jobs</li> <li>poll_interval_sec: Polling interval in seconds</li> </ul>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#job-creation","title":"Job Creation","text":""},{"location":"explanations/async-events/secretary-job-worker-detailed/#via-api","title":"Via API","text":"<pre><code>curl -X POST \"http://localhost:5001/api/jobs/\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"job_type\": \"pdf\",\n    \"parameters\": {\n      \"filename\": \"/path/to/file.pdf\",\n      \"extraction_method\": \"combined\"\n    }\n  }'\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#job-structure","title":"Job Structure","text":"<pre><code>{\n  \"job_id\": \"job-123\",\n  \"job_type\": \"pdf\",\n  \"status\": \"pending\",\n  \"parameters\": {\n    \"filename\": \"/path/to/file.pdf\",\n    \"extraction_method\": \"combined\",\n    \"template\": \"MeetingMinutes\"\n  },\n  \"created_at\": \"2024-01-01T00:00:00Z\"\n}\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#handler-registry","title":"Handler Registry","text":"<p>Handlers are registered at module import time:</p> <pre><code>from src.core.processing.registry import register\nfrom src.core.processing.handlers.pdf_handler import handle_pdf_job\n\nregister(\"pdf\", handle_pdf_job)\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#handler-signature","title":"Handler Signature","text":"<pre><code>async def handle_job(\n    job: Job,\n    repo: SecretaryJobRepository,\n    resource_calculator: ResourceCalculator\n) -&gt; None:\n    # Process job\n    pass\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#available-handlers","title":"Available Handlers","text":""},{"location":"explanations/async-events/secretary-job-worker-detailed/#pdf-handler-pdf","title":"PDF Handler (<code>pdf</code>)","text":"<p>Processes PDF files with text extraction and OCR.</p> <p>Parameters: - <code>filename</code> or <code>url</code>: PDF file path or URL - <code>extraction_method</code>: <code>native</code>, <code>ocr</code>, <code>mistral_ocr</code>, <code>openai_vision</code>, <code>combined</code> - <code>template</code>: Optional template name - <code>context</code>: Optional context for template - <code>use_cache</code>: Whether to use cache</p>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#session-handler-session","title":"Session Handler (<code>session</code>)","text":"<p>Processes session information with associated media.</p> <p>Parameters: - <code>event</code>: Event name - <code>session</code>: Session name - <code>url</code>: Session URL - <code>filename</code>: Output filename - <code>track</code>: Track name - Additional session parameters</p>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#transformer-handler-transformer","title":"Transformer Handler (<code>transformer</code>)","text":"<p>Processes text transformation with templates.</p> <p>Parameters: - <code>text</code>: Text to transform - <code>url</code>: URL to fetch text from (alternative to text) - <code>template</code>: Template name - <code>context</code>: Context for template - <code>source_language</code>: Source language - <code>target_language</code>: Target language</p>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#progress-tracking","title":"Progress Tracking","text":"<p>Jobs support progress tracking:</p> <pre><code>repo.update_job_progress(\n    job_id=\"job-123\",\n    progress=JobProgress(\n        step=\"extracting_text\",\n        percent=50,\n        message=\"Extracting text from PDF...\"\n    )\n)\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#progress-updates","title":"Progress Updates","text":"<p>Progress is updated during processing: - <code>0%</code>: Initialization - <code>25%</code>: Reading file - <code>50%</code>: Processing - <code>75%</code>: Finalizing - <code>100%</code>: Completed</p>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#webhook-integration","title":"Webhook Integration","text":"<p>Jobs can be configured with webhooks for completion notifications.</p>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#webhook-configuration","title":"Webhook Configuration","text":"<p>Include <code>webhook</code> in job parameters:</p> <pre><code>{\n  \"job_type\": \"pdf\",\n  \"parameters\": {\n    \"filename\": \"/path/to/file.pdf\",\n    \"webhook\": {\n      \"url\": \"https://example.com/webhook\",\n      \"token\": \"webhook_auth_token\",\n      \"jobId\": \"client_job_id\"\n    }\n  }\n}\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#webhook-payload","title":"Webhook Payload","text":"<p>When job completes, a POST request is sent:</p> <pre><code>{\n  \"phase\": \"completed\",\n  \"message\": \"Processing completed\",\n  \"data\": {\n    \"extracted_text\": \"...\",\n    \"metadata\": {...}\n  }\n}\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#progress-webhooks","title":"Progress Webhooks","text":"<p>Progress updates are sent during processing:</p> <pre><code>{\n  \"phase\": \"processing\",\n  \"progress\": 50,\n  \"message\": \"Extracting text from PDF...\",\n  \"process\": {\n    \"id\": \"job-123\"\n  }\n}\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#error-handling","title":"Error Handling","text":"<p>Jobs track errors:</p> <pre><code>repo.update_job_error(\n    job_id=\"job-123\",\n    error=JobError(\n        code=\"PROCESSING_ERROR\",\n        message=\"Failed to extract text\",\n        details={\"error_type\": \"OCR_ERROR\"}\n    )\n)\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#error-structure","title":"Error Structure","text":"<pre><code>{\n  \"code\": \"PROCESSING_ERROR\",\n  \"message\": \"Error message\",\n  \"details\": {\n    \"error_type\": \"OCR_ERROR\",\n    \"traceback\": \"...\"\n  }\n}\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#logging","title":"Logging","text":"<p>Jobs maintain log entries:</p> <pre><code>repo.add_log_entry(\n    job_id=\"job-123\",\n    level=\"info\",\n    message=\"Processing started\"\n)\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#log-levels","title":"Log Levels","text":"<ul> <li><code>debug</code>: Debug information</li> <li><code>info</code>: General information</li> <li><code>warning</code>: Warnings</li> <li><code>error</code>: Errors</li> <li><code>critical</code>: Critical errors</li> </ul>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#job-status-query","title":"Job Status Query","text":"<p>Query job status via API:</p> <pre><code>curl -X GET \"http://localhost:5001/api/jobs/job-123\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#response","title":"Response","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"job_id\": \"job-123\",\n    \"job_type\": \"pdf\",\n    \"status\": \"completed\",\n    \"progress\": {\n      \"step\": \"completed\",\n      \"percent\": 100,\n      \"message\": \"Processing completed\"\n    },\n    \"results\": {\n      \"extracted_text\": \"...\",\n      \"metadata\": {...}\n    },\n    \"logs\": [\n      {\n        \"timestamp\": \"2024-01-01T00:00:00Z\",\n        \"level\": \"info\",\n        \"message\": \"Job started\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#creating-custom-handlers","title":"Creating Custom Handlers","text":""},{"location":"explanations/async-events/secretary-job-worker-detailed/#1-create-handler-function","title":"1. Create Handler Function","text":"<pre><code>from src.core.models.job_models import Job, JobProgress\nfrom src.core.resource_tracking import ResourceCalculator\n\nasync def handle_custom_job(\n    job: Job,\n    repo: Any,\n    resource_calculator: ResourceCalculator\n) -&gt; None:\n    # Update progress\n    repo.update_job_progress(\n        job.job_id,\n        JobProgress(step=\"processing\", percent=0)\n    )\n\n    # Process job\n    params = job.parameters\n    result = process_custom(params)\n\n    # Store results\n    repo.update_job_results(\n        job.job_id,\n        {\"result\": result}\n    )\n\n    # Mark as completed\n    repo.update_job_status(\n        job.job_id,\n        JobStatus.COMPLETED\n    )\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#2-register-handler","title":"2. Register Handler","text":"<pre><code>from src.core.processing.registry import register\n\nregister(\"custom\", handle_custom_job)\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#3-create-job","title":"3. Create Job","text":"<pre><code>curl -X POST \"http://localhost:5001/api/jobs/\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"job_type\": \"custom\",\n    \"parameters\": {\n      \"input\": \"data\"\n    }\n  }'\n</code></pre>"},{"location":"explanations/async-events/secretary-job-worker-detailed/#related-documentation","title":"Related Documentation","text":"<ul> <li>Handlers - Detailed handler documentation</li> <li>Generic Worker - Worker overview</li> <li>Job API Endpoints - API documentation</li> </ul>"},{"location":"reference/","title":"Reference Manual","text":"<p>Complete reference documentation for Common Secretary Services. This section provides comprehensive documentation for developers and administrators.</p>"},{"location":"reference/#overview","title":"Overview","text":"<p>The reference manual is organized into the following sections:</p> <ul> <li>Code Reference: Complete index of all documented Python files and module hierarchy</li> <li>API Reference: Complete API documentation with examples</li> <li>Data Models: Documentation of all dataclasses and Pydantic models</li> <li>Configuration: Complete configuration reference</li> <li>Environment Variables: All environment variables documented</li> </ul>"},{"location":"reference/#code-reference","title":"Code Reference","text":""},{"location":"reference/#code-index","title":"Code Index","text":"<p>Automatically generated index of all documented Python files. Provides an overview of: - All documented modules with descriptions - Exported classes and functions - Module dependencies - Usage contexts</p> <p>Total: 105+ documented files</p>"},{"location":"reference/#module-hierarchy","title":"Module Hierarchy","text":"<p>Architectural overview showing: - Module structure and organization - Dependency relationships - Data flow between modules - Entry points and initialization</p>"},{"location":"reference/#api-reference","title":"API Reference","text":""},{"location":"reference/#api-overview","title":"API Overview","text":"<p>Complete overview of all available API endpoints organized by processor type.</p>"},{"location":"reference/#openapi-swagger","title":"OpenAPI / Swagger","text":"<p>Interactive API documentation via Swagger UI. Access at <code>/api/doc</code> when the server is running.</p>"},{"location":"reference/#data-models","title":"Data Models","text":""},{"location":"reference/#data-models-index","title":"Data Models Index","text":"<p>Complete documentation of all dataclasses and Pydantic models used throughout the application.</p>"},{"location":"reference/#configuration","title":"Configuration","text":""},{"location":"reference/#configuration-reference","title":"Configuration Reference","text":"<p>Complete documentation of all <code>config.yaml</code> options including: - Cache configuration - Worker settings - Processor-specific settings - Logging configuration - MongoDB settings</p>"},{"location":"reference/#environment-variables","title":"Environment Variables","text":"<p>Documentation of all environment variables required for the application.</p>"},{"location":"reference/#quick-links","title":"Quick Links","text":"<ul> <li>Code Index - Browse all documented files</li> <li>Module Hierarchy - Understand the architecture</li> <li>API Overview - Explore API endpoints</li> <li>Configuration - Configure the application</li> <li>Environment Variables - Set up environment</li> </ul>"},{"location":"reference/#related-documentation","title":"Related Documentation","text":"<ul> <li>Architecture Overview - High-level architecture</li> <li>Processor Documentation - Individual processor guides</li> <li>Development Guidelines - Coding standards</li> </ul>"},{"location":"reference/code-index/","title":"Code Index","text":"<p>Automatically generated index of all documented Python files.</p>"},{"location":"reference/code-index/#overview","title":"Overview","text":"<p>Total: 105 documented files</p>"},{"location":"reference/code-index/#entry-points","title":"Entry Points","text":"File Module Description Exports <code>src\\dashboard\\app.py</code> dashboard.app Main Flask Application - Central app initialization and lifecycle management app: Flask - Main Flask application instance <code>src\\main.py</code> main Server Entry Point - Starts the Flask application (no direct exports, executed as script)"},{"location":"reference/code-index/#other-modules","title":"Other Modules","text":"File Module Description Exports <code>src\\__init__.py</code> <code>src\\api\\__init__.py</code> api API Module - Alternative app factory for API-only deployment create_app(): Flask - Creates and configures Flask app, run_server(): None - Starts the API server, app: Flask - Application instance (created on import) <code>src\\api\\models\\responses.py</code> api.models.responses API Response Models - Generic response classes for API responses BaseModel: Dataclass - Base class for all API models (frozen=True), BaseResponse: Dataclass - Base response for all API responses (frozen=True, slots=True, Generic) <code>src\\api\\routes\\__init__.py</code> api.routes API Route Registration - Central API route registration and authentication blueprint: Blueprint - Flask blueprint for API routes, api: Api - Flask-RESTX API instance with Swagger UI <code>src\\api\\routes\\audio_routes.py</code> api.routes.audio_routes Audio API Routes - Flask-RESTX endpoints for audio processing audio_ns: Namespace - Flask-RESTX namespace for audio endpoints, upload_parser: RequestParser - Parser for upload parameters <code>src\\api\\routes\\common_routes.py</code> api.routes.common_routes Common API Routes - Flask-RESTX endpoints for general operations common_ns: Namespace - Flask-RESTX namespace for common endpoints <code>src\\api\\routes\\event_job_routes.py</code> api.routes.event_job_routes Event Job API Routes - Flask-RESTX endpoints for session job management event_job_ns: Namespace - Flask-RESTX namespace for event job endpoints, DateTimeEncoder: Class - JSON encoder for datetime objects <code>src\\api\\routes\\event_routes.py</code> api.routes.event_routes Event API Routes - Flask-RESTX endpoints for event processing event_ns: Namespace - Flask-RESTX namespace for event endpoints <code>src\\api\\routes\\imageocr_routes.py</code> api.routes.imageocr_routes ImageOCR API Routes - Flask-RESTX endpoints for image OCR processing imageocr_ns: Namespace - Flask-RESTX namespace for ImageOCR endpoints, imageocr_upload_parser: RequestParser - Parser for upload parameters, imageocr_url_parser: RequestParser - Parser for URL parameters <code>src\\api\\routes\\pdf_routes.py</code> api.routes.pdf_routes PDF API Routes - Flask-RESTX endpoints for PDF processing pdf_ns: Namespace - Flask-RESTX namespace for PDF endpoints <code>src\\api\\routes\\secretary_job_routes.py</code> api.routes.secretary_job_routes Secretary Job API Routes - Flask-RESTX endpoints for generic job management secretary_ns: Namespace - Flask-RESTX namespace for secretary job endpoints, DateTimeEncoder: Class - JSON encoder for datetime objects, get_repo(): SecretaryJobRepository - Factory function for repository <code>src\\api\\routes\\session_routes.py</code> api.routes.session_routes Session API Routes - Flask-RESTX endpoints for session processing session_ns: Namespace - Flask-RESTX namespace for session endpoints <code>src\\api\\routes\\story_routes.py</code> api.routes.story_routes Story API Routes - Flask-RESTX endpoints for story generation story_ns: Namespace - Flask-RESTX namespace for story endpoints, CustomJSONEncoder: Class - JSON encoder for complex objects <code>src\\api\\routes\\track_routes.py</code> api.routes.track_routes Track API Routes - Flask-RESTX endpoints for track processing track_ns: Namespace - Flask-RESTX namespace for track endpoints <code>src\\api\\routes\\transformer_routes.py</code> api.routes.transformer_routes Transformer API Routes - Flask-RESTX endpoints for text transformation transformer_ns: Namespace - Flask-RESTX namespace for transformer endpoints <code>src\\api\\routes\\video_routes.py</code> api.routes.video_routes Video API Routes - Flask-RESTX endpoints for video and YouTube processing video_ns: Namespace - Flask-RESTX namespace for video endpoints, video_upload_parser: RequestParser - Parser for video upload parameters, frames_form_parser: RequestParser - Parser for frame extraction parameters <code>src\\core\\config.py</code> core.config Central Configuration Management - Loads and manages application configuration Config: Class - Singleton configuration management, ApplicationConfig: TypedDict - Type definition for overall configuration, ServerConfig: TypedDict - Server configuration (+4 weitere) <code>src\\core\\config_keys.py</code> core.config_keys API Key Management - Manages sensitive configuration values from environment variables ConfigKeys: Class - Singleton for API key management <code>src\\core\\config_utils.py</code> core.config_utils Configuration Utilities - Helper functions for configuration processing replace_env_vars(): Union[Dict, List, str, Any] - Replaces environment variables in configuration, load_dotenv(): None - Loads .env file <code>src\\core\\exceptions.py</code> core.exceptions Exception Definitions - Central error handling for processing service BaseProcessingException: Class - Base exception with details, RateLimitExceeded: Class - Rate limit error, FileSizeLimitExceeded: Class - File size error (+4 weitere) <code>src\\core\\models\\__init__.py</code> <code>src\\core\\models\\audio.py</code> core.models.audio Audio Models - Dataclasses for audio processing and transcription AudioProcessingError: Class - Audio-specific exception, TranscriptionSegment: Dataclass - Transcription segment, TranscriptionResult: Dataclass - Transcription result (+4 weitere) <code>src\\core\\models\\base.py</code> core.models.base Base Models - Fundamental dataclasses for API responses and processing info BaseResponse: Dataclass - Base class for all API responses, ErrorInfo: Dataclass - Error information, RequestInfo: Dataclass - Request information (+2 weitere) <code>src\\core\\models\\enums.py</code> core.models.enums Enums and Type Aliases - Central enum definitions and type aliases ProcessorType: Enum - Processor types, ProcessingStatus: Enum - Processing status, OutputFormat: Enum - Output formats (+3 weitere) <code>src\\core\\models\\event.py</code> core.models.event Event Models - Pydantic models for event processing and track aggregation EventInput: Pydantic BaseModel - Event input data, EventOutput: Pydantic BaseModel - Event output data, EventData: Pydantic BaseModel - Event data container (+2 weitere) <code>src\\core\\models\\job_models.py</code> core.models.job_models Job Models - Dataclasses for asynchronous job processing and batch management JobStatus: Enum - Job status values, AccessVisibility: Enum - Visibility values, AccessControl: Dataclass - Access control (frozen=True) (+4 weitere) <code>src\\core\\models\\llm.py</code> core.models.llm LLM Models - Dataclasses for Language Model interactions and tracking LLModel: Dataclass - Basic LLM information, LLMRequest: Dataclass - Detailed request information, LLMInfo: Dataclass - Central tracking class for LLM usage <code>src\\core\\models\\metadata.py</code> core.models.metadata Metadata Models - Dataclasses for metadata extraction from various media types ContentMetadata: Dataclass - Content metadata (frozen=True, slots=True), TechnicalMetadata: Dataclass - Technical metadata, MetadataData: Dataclass - Metadata container (+1 weitere) <code>src\\core\\models\\notion.py</code> core.models.notion Notion Models - Dataclasses for Notion integration NotionBlock: Dataclass - Notion block (frozen=True), NotionPage: Dataclass - Notion page, NotionResponse: Dataclass - API response for Notion processing <code>src\\core\\models\\pdf.py</code> core.models.pdf PDF Models - Dataclasses for PDF processing and text extraction PDFMetadata: Dataclass - PDF metadata (frozen=True for immutability), PDFProcessingResult: Class - Cacheable processing result, PDFResponse: Dataclass - API response for PDF processing <code>src\\core\\models\\protocols.py</code> core.models.protocols Protocol Definitions - Type protocols for structural subtyping CacheableResult: Protocol - Protocol for cacheable results <code>src\\core\\models\\session.py</code> core.models.session Session Models - Dataclasses for session processing and media management SessionInput: Dataclass - Session input data (frozen=True), SessionOutput: Dataclass - Session output data, SessionData: Dataclass - Session data container (+4 weitere) <code>src\\core\\models\\story.py</code> core.models.story Story Models - Dataclasses for story generation from sessions StoryProcessorInput: Dataclass - Story input data (frozen=True), StoryProcessorOutput: Dataclass - Story output data, StoryData: Dataclass - Story data container (+2 weitere) <code>src\\core\\models\\track.py</code> core.models.track Track Models - Dataclasses for track processing and session aggregation TrackInput: Dataclass - Track input data (frozen=True), TrackOutput: Dataclass - Track output data, TrackData: Dataclass - Track data container (+1 weitere) <code>src\\core\\models\\transformer.py</code> core.models.transformer Transformer Models - Dataclasses for text transformation and templates CacheableResult: Protocol - Protocol for cacheable results, TemplateField: Dataclass - Template field definition, TemplateFields: Dataclass - Template fields collection (+5 weitere) <code>src\\core\\models\\translation.py</code> core.models.translation Translation Models - Dataclasses for translation management Translation: Dataclass - Translation entry (slots=True) <code>src\\core\\models\\video.py</code> core.models.video Video Models - Dataclasses for video processing and audio extraction VideoProcessingError: Class - Video-specific exception, VideoSource: Dataclass - Video source (URL/file), VideoMetadataProtocol: Protocol - Protocol for video metadata (+3 weitere) <code>src\\core\\models\\youtube.py</code> core.models.youtube YouTube Models - Dataclasses for YouTube video processing YoutubeMetadataProtocol: Protocol - Protocol for YouTube metadata, YoutubeMetadata: Dataclass - YouTube metadata (frozen=True), YoutubeProcessingResult: Class - Cacheable processing result (+1 weitere) <code>src\\core\\mongodb\\__init__.py</code> <code>src\\core\\mongodb\\cache_setup.py</code> core.mongodb.cache_setup MongoDB Cache Setup - Setup script for MongoDB cache collections and indexes setup_cache_collections(): Dict[str, List[str]] - Sets up all cache collections, setup_mongodb_caching(): None - Main setup function for MongoDB caching <code>src\\core\\mongodb\\connection.py</code> core.mongodb.connection MongoDB Connection - Singleton management of MongoDB connection get_mongodb_client(): MongoClient - Singleton MongoDB client, get_mongodb_database(): Database - MongoDB database instance, setup_mongodb_connection(): None - Initializes MongoDB connection (+2 weitere) <code>src\\core\\mongodb\\repository.py</code> core.mongodb.repository Session Job Repository - MongoDB repository for session job management SessionJobRepository: Class - Repository for session job management <code>src\\core\\mongodb\\secretary_repository.py</code> core.mongodb.secretary_repository Secretary Job Repository - MongoDB repository for generic secretary job management SecretaryJobRepository: Class - Repository for generic secretary job management <code>src\\core\\mongodb\\secretary_worker_manager.py</code> core.mongodb.secretary_worker_manager Secretary Worker Manager - Generic background worker for secretary job processing SecretaryWorkerManager: Class - Generic worker manager for secretary jobs <code>src\\core\\mongodb\\translation_repository.py</code> core.mongodb.translation_repository Translation Repository - MongoDB repository for translation management TranslationRepository: Class - Repository for translation management <code>src\\core\\mongodb\\worker_manager.py</code> core.mongodb.worker_manager Session Worker Manager - Background worker for session job processing SessionWorkerManager: Class - Worker manager for session jobs <code>src\\core\\processing\\__init__.py</code> <code>src\\core\\processing\\handlers\\pdf_handler.py</code> core.processing.handlers.pdf_handler PDF Handler - Asynchronous PDF processing handler for Secretary Job Worker handle_pdf_job(): Awaitable[None] - Async handler function for PDF jobs <code>src\\core\\processing\\handlers\\session_handler.py</code> core.processing.handlers.session_handler Session Handler - Asynchronous session processing handler for Secretary Job Worker handle_session_job(): Awaitable[None] - Async handler function for session jobs <code>src\\core\\processing\\handlers\\transformer_handler.py</code> core.processing.handlers.transformer_handler Transformer Handler - Asynchronous template transformation handler for Secretary Job Worker handle_transformer_template_job(): Awaitable[None] - Async handler function for transformer jobs <code>src\\core\\processing\\registry.py</code> core.processing.registry Processor Registry - Registry for generic job handlers HandlerType: TypeAlias - Type alias for handler function signature, register(): None - Register a handler for a job_type, get_handler(): Optional[HandlerType] - Get handler for a job_type (+1 weitere) <code>src\\core\\rate_limiting.py</code> core.rate_limiting Rate Limiting - Limits requests per IP address and file size RateLimiter: Class - Rate limiting management <code>src\\core\\resource_tracking.py</code> core.resource_tracking Resource Tracking - Calculates and tracks resource consumption for performance monitoring ResourceUsage: Dataclass - Represents a resource usage, ResourceCalculator: Class - Calculates and tracks resource consumption <code>src\\core\\services\\__init__.py</code> <code>src\\core\\services\\translator_service.py</code> core.services.translator_service Translator Service - Service for text translation with caching TranslatorService: Class - Service for text translation <code>src\\core\\validation.py</code> core.validation Validation Utilities - Decorators and functions for dataclass validation validate_field(): Callable - Decorator for field validation, validate_fields(): Callable - Decorator for multiple field validations, Various validation functions <code>src\\dashboard\\routes\\__init__.py</code> <code>src\\dashboard\\routes\\config_routes.py</code> dashboard.routes.config_routes Configuration Routes - Dashboard routes for configuration management config: Blueprint - Flask blueprint for configuration routes <code>src\\dashboard\\routes\\docs_routes.py</code> dashboard.routes.docs_routes Documentation Routes - Dashboard routes for serving MkDocs-generated documentation docs: Blueprint - Flask blueprint for documentation routes <code>src\\dashboard\\routes\\log_routes.py</code> dashboard.routes.log_routes Log Routes - Dashboard routes for log viewing and filtering logs: Blueprint - Flask blueprint for log routes <code>src\\dashboard\\routes\\main_routes.py</code> dashboard.routes.main_routes Main Routes - Dashboard routes for main application views main: Blueprint - Flask blueprint for main routes <code>src\\dashboard\\routes\\tests\\__init__.py</code> <code>src\\dashboard\\routes\\tests\\audio_test.py</code> <code>src\\dashboard\\routes\\tests\\health_test.py</code> <code>src\\dashboard\\routes\\tests\\transformer_test.py</code> <code>src\\dashboard\\routes\\tests\\youtube_test.py</code> <code>src\\dashboard\\utils.py</code> dashboard.utils Dashboard Utilities - Helper functions for dashboard application get_system_info(): Dict[str, Any] - Get system information dictionary <code>src\\processors\\__init__.py</code> <code>src\\processors\\audio_processor.py</code> processors.audio_processor Audio Processor - Processing of audio files with transcription and transformation AudioProcessor: Class - Audio processing processor, AudioSegmentProtocol: Protocol - Protocol for audio segments, WhisperTranscriberProtocol: Protocol - Protocol for Whisper transcriber <code>src\\processors\\base_processor.py</code> processors.base_processor Base Processor - Common base class for all processors BaseProcessor: Generic class - Base class for all processors <code>src\\processors\\cacheable_processor.py</code> processors.cacheable_processor Cacheable Processor - Extended base class with MongoDB caching CacheableProcessor: Generic class - Base class for cacheable processors, CacheableResult: Protocol - Protocol for cacheable results <code>src\\processors\\event_processor.py</code> processors.event_processor Event Processor - Processing of events with track and session aggregation EventProcessor: Class - Event processing processor, EventProcessingResult: Class - Event processing result, TrackInputDict: TypedDict - Track input structure (+2 weitere) <code>src\\processors\\imageocr_processor.py</code> processors.imageocr_processor ImageOCR Processor - OCR processing of images with various methods ImageOCRProcessor: Class - ImageOCR processing processor, ImageOCRMetadata: Dataclass - Image metadata <code>src\\processors\\metadata_processor.py</code> processors.metadata_processor Metadata Processor - Metadata extraction from various media types MetadataProcessor: Class - Metadata extraction processor, MetadataFeatures: Dataclass - Feature configuration, AudioSegmentProtocol: Protocol - Protocol for audio segments (+1 weitere) <code>src\\processors\\pdf_processor.py</code> processors.pdf_processor PDF Processor - Processing of PDF files with text extraction and OCR PDFProcessor: Class - PDF processing processor, PDFResponse: Dataclass - PDF processing response <code>src\\processors\\session_processor.py</code> processors.session_processor Session Processor - Processing of session information and associated media SessionProcessor: Class - Session processing processor, SessionProcessingResult: Class - Session processing result <code>src\\processors\\story_processor.py</code> processors.story_processor Story Processor - Creation of thematic stories from sessions StoryProcessor: Class - Story processing processor <code>src\\processors\\track_processor.py</code> processors.track_processor Track Processor - Processing of event tracks with session aggregation TrackProcessor: Class - Track processing processor, TrackProcessingResult: Class - Track processing result, safe_get(): T - Safe dictionary access with type conversion (+3 weitere) <code>src\\processors\\transformer_processor.py</code> processors.transformer_processor Transformer Processor - Text transformation with LLM models TransformerProcessor: Class - Text transformation processor <code>src\\processors\\video_processor.py</code> processors.video_processor Video Processor - Processing of video files with audio extraction and transcription VideoProcessor: Class - Video processing processor <code>src\\processors\\youtube_processor.py</code> processors.youtube_processor YouTube Processor - Processing of YouTube videos with download and transcription YoutubeProcessor: Class - YouTube processing processor, YoutubeDLInfo: TypedDict - YouTube-DL info structure, YoutubeDLOpts: TypedDict - YouTube-DL options structure (+1 weitere) <code>src\\scripts\\init_cache.py</code> <code>src\\scripts\\test_openwebui.py</code> <code>src\\tests\\test_audio_processor_cache.py</code> <code>src\\tests\\test_full_audio_cache.py</code> <code>src\\tests\\test_lazy_import.py</code> <code>src\\tests\\test_simple_audio_cache.py</code> <code>src\\tests\\test_video_processor_cache.py</code> <code>src\\tools\\process_single_event.py</code> <code>src\\tools\\test_models.py</code> <code>src\\tools\\test_mongodb.py</code> <code>src\\utils\\__init__.py</code> <code>src\\utils\\audio_utils.py</code> utils.audio_utils Audio Utilities - Utility class for audio file segmentation AudioProcessor: Class - Utility class for audio segmentation <code>src\\utils\\image2text_utils.py</code> utils.image2text_utils Image-to-Text Utilities - OpenAI Vision API integration for image text extraction Image2TextService: Class - Service for image-to-text conversion with OpenAI Vision API <code>src\\utils\\logger.py</code> utils.logger Logging System - Central logging system with structured logs and session tracking ProcessingLogger: Class - Logger implementation for processors, LoggerService: Class - Singleton service for logger management, get_logger(): ProcessingLogger - Factory function for logger creation (+1 weitere) <code>src\\utils\\openai_types.py</code> utils.openai_types OpenAI Types - Type definitions for OpenAI API interactions WhisperSegment: Pydantic BaseModel - Whisper transcription segment, WhisperResponse: Pydantic BaseModel - Whisper API response, OpenAIDict: TypedDict - Base type for OpenAI API responses (+1 weitere) <code>src\\utils\\openai_utils.py</code> utils.openai_utils OpenAI Utilities - Helper functions for OpenAI API integration get_structured_gpt(): tuple[BaseModel, Dict, LLMRequest] - Structured GPT request <code>src\\utils\\performance_tracker.py</code> utils.performance_tracker Performance Tracker - Centralized performance tracking for API calls and processors PerformanceTracker: Class - Centralized performance tracking system, Various TypedDict classes for type safety (ClientInfo, ResourceInfo, etc.) <code>src\\utils\\processor_cache.py</code> utils.processor_cache Processor Cache - Generic cache class for processor results ProcessorCache: Generic class - Generic cache class for processor results, CacheableResult: Protocol - Protocol for cacheable result classes <code>src\\utils\\transcription_utils.py</code> utils.transcription_utils Transcription Utilities - Whisper transcription and text transformation WhisperTranscriber: Class - Whisper transcription class, AudioSegmentProtocol: Protocol - Protocol for audio segments, TemplateFieldDefinition: Dataclass - Template field definition <code>src\\utils\\types\\__init__.py</code> <code>src\\utils\\types\\pydub_types.py</code> <code>src\\utils\\video_cache.py</code> utils.video_cache Video Cache - Cache management for video processing results VideoCache: Class - Cache manager for video processing results, CacheMetadata: Dataclass - Metadata for cache entries"},{"location":"reference/configuration/","title":"Configuration Reference","text":"<p>Complete documentation of all <code>config.yaml</code> options.</p>"},{"location":"reference/configuration/#overview","title":"Overview","text":"<p>The application configuration is stored in <code>config/config.yaml</code> and supports environment variable substitution using <code>${VAR_NAME}</code> syntax.</p>"},{"location":"reference/configuration/#cache-configuration","title":"Cache Configuration","text":""},{"location":"reference/configuration/#cachebase_dir","title":"<code>cache.base_dir</code>","text":"<ul> <li>Type: String (path)</li> <li>Default: <code>./cache</code></li> <li>Description: Base directory for cache files</li> </ul>"},{"location":"reference/configuration/#cachecleanup_interval","title":"<code>cache.cleanup_interval</code>","text":"<ul> <li>Type: Integer (hours)</li> <li>Default: <code>24</code></li> <li>Description: Interval for cache cleanup in hours</li> </ul>"},{"location":"reference/configuration/#cachemax_age_days","title":"<code>cache.max_age_days</code>","text":"<ul> <li>Type: Integer (days)</li> <li>Default: <code>7</code></li> <li>Description: Maximum age of cache entries in days before cleanup</li> </ul>"},{"location":"reference/configuration/#cachemongodbenabled","title":"<code>cache.mongodb.enabled</code>","text":"<ul> <li>Type: Boolean</li> <li>Default: <code>true</code></li> <li>Description: Enable MongoDB-based caching</li> </ul>"},{"location":"reference/configuration/#cachemongodbttl_days","title":"<code>cache.mongodb.ttl_days</code>","text":"<ul> <li>Type: Integer (days)</li> <li>Default: <code>30</code></li> <li>Description: Time-to-live for MongoDB cache entries</li> </ul>"},{"location":"reference/configuration/#cachemongodbcreate_indexes","title":"<code>cache.mongodb.create_indexes</code>","text":"<ul> <li>Type: Boolean</li> <li>Default: <code>false</code></li> <li>Description: Whether to create indexes on cache collections</li> </ul>"},{"location":"reference/configuration/#worker-configuration","title":"Worker Configuration","text":""},{"location":"reference/configuration/#session_workeractive","title":"<code>session_worker.active</code>","text":"<ul> <li>Type: Boolean</li> <li>Default: <code>false</code></li> <li>Description: Enable session worker for asynchronous session processing</li> </ul>"},{"location":"reference/configuration/#session_workermax_concurrent","title":"<code>session_worker.max_concurrent</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>3</code></li> <li>Description: Maximum concurrent session jobs</li> </ul>"},{"location":"reference/configuration/#session_workerpoll_interval_sec","title":"<code>session_worker.poll_interval_sec</code>","text":"<ul> <li>Type: Integer (seconds)</li> <li>Default: <code>5</code></li> <li>Description: Polling interval for session jobs</li> </ul>"},{"location":"reference/configuration/#generic_workeractive","title":"<code>generic_worker.active</code>","text":"<ul> <li>Type: Boolean</li> <li>Default: <code>true</code></li> <li>Description: Enable generic secretary job worker</li> </ul>"},{"location":"reference/configuration/#generic_workermax_concurrent","title":"<code>generic_worker.max_concurrent</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>3</code></li> <li>Description: Maximum concurrent generic jobs</li> </ul>"},{"location":"reference/configuration/#generic_workerpoll_interval_sec","title":"<code>generic_worker.poll_interval_sec</code>","text":"<ul> <li>Type: Integer (seconds)</li> <li>Default: <code>5</code></li> <li>Description: Polling interval for generic jobs</li> </ul>"},{"location":"reference/configuration/#logging-configuration","title":"Logging Configuration","text":""},{"location":"reference/configuration/#loggingfile","title":"<code>logging.file</code>","text":"<ul> <li>Type: String (path)</li> <li>Default: <code>logs/dev_detailed.log</code></li> <li>Description: Path to log file</li> </ul>"},{"location":"reference/configuration/#logginglevel","title":"<code>logging.level</code>","text":"<ul> <li>Type: String (DEBUG, INFO, WARNING, ERROR, CRITICAL)</li> <li>Default: <code>DEBUG</code></li> <li>Description: Logging level</li> </ul>"},{"location":"reference/configuration/#loggingmax_size","title":"<code>logging.max_size</code>","text":"<ul> <li>Type: Integer (bytes)</li> <li>Default: <code>120000000</code> (120 MB)</li> <li>Description: Maximum log file size before rotation</li> </ul>"},{"location":"reference/configuration/#loggingbackup_count","title":"<code>logging.backup_count</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>5</code></li> <li>Description: Number of backup log files to keep</li> </ul>"},{"location":"reference/configuration/#loggingmax_log_entries","title":"<code>logging.max_log_entries</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>1000</code></li> <li>Description: Maximum log entries to keep in memory</li> </ul>"},{"location":"reference/configuration/#mongodb-configuration","title":"MongoDB Configuration","text":""},{"location":"reference/configuration/#mongodburi","title":"<code>mongodb.uri</code>","text":"<ul> <li>Type: String (MongoDB URI)</li> <li>Default: <code>${MONGODB_URI}</code> (from environment)</li> <li>Description: MongoDB connection URI</li> </ul>"},{"location":"reference/configuration/#mongodbconnect_timeout_ms","title":"<code>mongodb.connect_timeout_ms</code>","text":"<ul> <li>Type: Integer (milliseconds)</li> <li>Default: <code>5000</code></li> <li>Description: Connection timeout</li> </ul>"},{"location":"reference/configuration/#mongodbmax_pool_size","title":"<code>mongodb.max_pool_size</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>50</code></li> <li>Description: Maximum connection pool size</li> </ul>"},{"location":"reference/configuration/#processor-configurations","title":"Processor Configurations","text":""},{"location":"reference/configuration/#pdf-processor-processorspdf","title":"PDF Processor (<code>processors.pdf</code>)","text":""},{"location":"reference/configuration/#max_file_size","title":"<code>max_file_size</code>","text":"<ul> <li>Type: Integer (bytes)</li> <li>Default: <code>150000000</code> (150 MB)</li> <li>Description: Maximum PDF file size</li> </ul>"},{"location":"reference/configuration/#max_pages","title":"<code>max_pages</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>500</code></li> <li>Description: Maximum number of pages to process</li> </ul>"},{"location":"reference/configuration/#cache_dir","title":"<code>cache_dir</code>","text":"<ul> <li>Type: String (path)</li> <li>Default: <code>cache/pdf</code></li> <li>Description: Cache directory for PDF processing</li> </ul>"},{"location":"reference/configuration/#cacheenabled","title":"<code>cache.enabled</code>","text":"<ul> <li>Type: Boolean</li> <li>Default: <code>true</code></li> <li>Description: Enable caching for PDF processing</li> </ul>"},{"location":"reference/configuration/#cachettl_days","title":"<code>cache.ttl_days</code>","text":"<ul> <li>Type: Integer (days)</li> <li>Default: <code>30</code></li> <li>Description: Cache TTL for PDF results</li> </ul>"},{"location":"reference/configuration/#imagesmainmax_size","title":"<code>images.main.max_size</code>","text":"<ul> <li>Type: Integer (pixels)</li> <li>Default: <code>1280</code></li> <li>Description: Maximum size for main images</li> </ul>"},{"location":"reference/configuration/#imagesmainformat","title":"<code>images.main.format</code>","text":"<ul> <li>Type: String (jpg, png)</li> <li>Default: <code>jpg</code></li> <li>Description: Image format for main images</li> </ul>"},{"location":"reference/configuration/#imagesmainquality","title":"<code>images.main.quality</code>","text":"<ul> <li>Type: Integer (0-100)</li> <li>Default: <code>80</code></li> <li>Description: JPEG quality for main images</li> </ul>"},{"location":"reference/configuration/#imagespreviewmax_size","title":"<code>images.preview.max_size</code>","text":"<ul> <li>Type: Integer (pixels)</li> <li>Default: <code>360</code></li> <li>Description: Maximum size for preview images</li> </ul>"},{"location":"reference/configuration/#audio-processor-processorsaudio","title":"Audio Processor (<code>processors.audio</code>)","text":""},{"location":"reference/configuration/#batch_size","title":"<code>batch_size</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>5</code></li> <li>Description: Number of audio segments to process in parallel</li> </ul>"},{"location":"reference/configuration/#export_format","title":"<code>export_format</code>","text":"<ul> <li>Type: String (mp3, wav, etc.)</li> <li>Default: <code>mp3</code></li> <li>Description: Export format for audio segments</li> </ul>"},{"location":"reference/configuration/#max_file_size_1","title":"<code>max_file_size</code>","text":"<ul> <li>Type: Integer (bytes)</li> <li>Default: <code>200000000</code> (200 MB)</li> <li>Description: Maximum audio file size</li> </ul>"},{"location":"reference/configuration/#max_segments","title":"<code>max_segments</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>100</code></li> <li>Description: Maximum number of segments</li> </ul>"},{"location":"reference/configuration/#segment_duration","title":"<code>segment_duration</code>","text":"<ul> <li>Type: Integer (seconds)</li> <li>Default: <code>300</code> (5 minutes)</li> <li>Description: Duration of each audio segment</li> </ul>"},{"location":"reference/configuration/#video-processor-processorsvideo","title":"Video Processor (<code>processors.video</code>)","text":""},{"location":"reference/configuration/#cache_dir_1","title":"<code>cache_dir</code>","text":"<ul> <li>Type: String (path)</li> <li>Default: <code>cache/video</code></li> <li>Description: Cache directory for video processing</li> </ul>"},{"location":"reference/configuration/#youtube-processor-processorsyoutube","title":"YouTube Processor (<code>processors.youtube</code>)","text":""},{"location":"reference/configuration/#max_duration","title":"<code>max_duration</code>","text":"<ul> <li>Type: Integer (seconds)</li> <li>Default: <code>15000</code> (4.17 hours)</li> <li>Description: Maximum video duration</li> </ul>"},{"location":"reference/configuration/#max_file_size_2","title":"<code>max_file_size</code>","text":"<ul> <li>Type: Integer (bytes)</li> <li>Default: <code>120000000</code> (120 MB)</li> <li>Description: Maximum downloaded file size</li> </ul>"},{"location":"reference/configuration/#ydl_optsformat","title":"<code>ydl_opts.format</code>","text":"<ul> <li>Type: String</li> <li>Default: <code>bestaudio/best</code></li> <li>Description: yt-dlp format selection</li> </ul>"},{"location":"reference/configuration/#ydl_optsnocheckcertificate","title":"<code>ydl_opts.nocheckcertificate</code>","text":"<ul> <li>Type: Boolean</li> <li>Default: <code>true</code></li> <li>Description: Disable SSL certificate checking (Windows workaround)</li> </ul>"},{"location":"reference/configuration/#transformer-processor-processorstransformer","title":"Transformer Processor (<code>processors.transformer</code>)","text":""},{"location":"reference/configuration/#model","title":"<code>model</code>","text":"<ul> <li>Type: String</li> <li>Default: <code>gpt-4.1-mini</code></li> <li>Description: LLM model for text transformation</li> </ul>"},{"location":"reference/configuration/#temperature","title":"<code>temperature</code>","text":"<ul> <li>Type: Float (0.0-1.0)</li> <li>Default: <code>0.1</code></li> <li>Description: Temperature for LLM generation</li> </ul>"},{"location":"reference/configuration/#max_tokens","title":"<code>max_tokens</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>4000</code></li> <li>Description: Maximum tokens per request</li> </ul>"},{"location":"reference/configuration/#max_concurrent_requests","title":"<code>max_concurrent_requests</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>10</code></li> <li>Description: Maximum concurrent LLM requests</li> </ul>"},{"location":"reference/configuration/#timeout_seconds","title":"<code>timeout_seconds</code>","text":"<ul> <li>Type: Integer (seconds)</li> <li>Default: <code>120</code></li> <li>Description: Request timeout</li> </ul>"},{"location":"reference/configuration/#templates_dir","title":"<code>templates_dir</code>","text":"<ul> <li>Type: String (path)</li> <li>Default: <code>resources/templates</code></li> <li>Description: Directory containing templates</li> </ul>"},{"location":"reference/configuration/#imageocr-processor-processorsimageocr","title":"ImageOCR Processor (<code>processors.imageocr</code>)","text":""},{"location":"reference/configuration/#max_file_size_3","title":"<code>max_file_size</code>","text":"<ul> <li>Type: Integer (bytes)</li> <li>Default: <code>10485760</code> (10 MB)</li> <li>Description: Maximum image file size</li> </ul>"},{"location":"reference/configuration/#max_resolution","title":"<code>max_resolution</code>","text":"<ul> <li>Type: Integer (pixels)</li> <li>Default: <code>4096</code></li> <li>Description: Maximum image resolution</li> </ul>"},{"location":"reference/configuration/#metadata-processor-processorsmetadata","title":"Metadata Processor (<code>processors.metadata</code>)","text":""},{"location":"reference/configuration/#max_file_size_4","title":"<code>max_file_size</code>","text":"<ul> <li>Type: Integer (bytes)</li> <li>Default: <code>50000000</code> (50 MB)</li> <li>Description: Maximum file size for metadata extraction</li> </ul>"},{"location":"reference/configuration/#timeout_seconds_1","title":"<code>timeout_seconds</code>","text":"<ul> <li>Type: Integer (seconds)</li> <li>Default: <code>30</code></li> <li>Description: Timeout for metadata extraction</li> </ul>"},{"location":"reference/configuration/#extract_advanced_metadata","title":"<code>extract_advanced_metadata</code>","text":"<ul> <li>Type: Boolean</li> <li>Default: <code>true</code></li> <li>Description: Extract advanced metadata with LLM analysis</li> </ul>"},{"location":"reference/configuration/#event-processor-processorsevent","title":"Event Processor (<code>processors.event</code>)","text":""},{"location":"reference/configuration/#max_video_size","title":"<code>max_video_size</code>","text":"<ul> <li>Type: Integer (MB)</li> <li>Default: <code>1000</code></li> <li>Description: Maximum video size for downloads</li> </ul>"},{"location":"reference/configuration/#max_attachment_size","title":"<code>max_attachment_size</code>","text":"<ul> <li>Type: Integer (MB)</li> <li>Default: <code>100</code></li> <li>Description: Maximum attachment size</li> </ul>"},{"location":"reference/configuration/#request_timeout","title":"<code>request_timeout</code>","text":"<ul> <li>Type: Integer (seconds)</li> <li>Default: <code>30</code></li> <li>Description: HTTP request timeout</li> </ul>"},{"location":"reference/configuration/#rate-limiting","title":"Rate Limiting","text":""},{"location":"reference/configuration/#rate_limitingenabled","title":"<code>rate_limiting.enabled</code>","text":"<ul> <li>Type: Boolean</li> <li>Default: <code>true</code></li> <li>Description: Enable rate limiting</li> </ul>"},{"location":"reference/configuration/#rate_limitingrequests_per_minute","title":"<code>rate_limiting.requests_per_minute</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>60</code></li> <li>Description: Maximum requests per minute per IP</li> </ul>"},{"location":"reference/configuration/#server-configuration","title":"Server Configuration","text":""},{"location":"reference/configuration/#serverhost","title":"<code>server.host</code>","text":"<ul> <li>Type: String (IP address)</li> <li>Default: <code>127.0.0.1</code></li> <li>Description: Server host address</li> </ul>"},{"location":"reference/configuration/#serverport","title":"<code>server.port</code>","text":"<ul> <li>Type: Integer</li> <li>Default: <code>5000</code></li> <li>Description: Server port</li> </ul>"},{"location":"reference/configuration/#serverdebug","title":"<code>server.debug</code>","text":"<ul> <li>Type: Boolean</li> <li>Default: <code>true</code></li> <li>Description: Enable debug mode</li> </ul>"},{"location":"reference/configuration/#serverapi_base_url","title":"<code>server.api_base_url</code>","text":"<ul> <li>Type: String (URL)</li> <li>Default: <code>http://localhost:5001</code></li> <li>Description: Base URL for API</li> </ul>"},{"location":"reference/configuration/#environment-variable-substitution","title":"Environment Variable Substitution","text":"<p>Configuration values can reference environment variables using <code>${VAR_NAME}</code> syntax:</p> <pre><code>mongodb:\n  uri: ${MONGODB_URI}  # Loaded from environment\n\nprocessors:\n  openai:\n    api_key: ${OPENAI_API_KEY}  # Loaded from environment\n</code></pre>"},{"location":"reference/configuration/#related-documentation","title":"Related Documentation","text":"<ul> <li>Environment Variables - All environment variables</li> <li>Configuration Utilities - Configuration management</li> </ul>"},{"location":"reference/environment-variables/","title":"Environment Variables","text":"<p>Complete documentation of all environment variables required for Common Secretary Services.</p>"},{"location":"reference/environment-variables/#required-variables","title":"Required Variables","text":""},{"location":"reference/environment-variables/#openai_api_key","title":"<code>OPENAI_API_KEY</code>","text":"<ul> <li>Type: String</li> <li>Required: Yes (for LLM features)</li> <li>Description: OpenAI API key for GPT models and Whisper transcription</li> <li>Example: <code>sk-proj-...</code></li> </ul>"},{"location":"reference/environment-variables/#mongodb_uri","title":"<code>MONGODB_URI</code>","text":"<ul> <li>Type: String (MongoDB URI)</li> <li>Required: Yes</li> <li>Description: MongoDB connection URI</li> <li>Example: <code>mongodb://localhost:27017/</code> or <code>mongodb://user:pass@host:27017/dbname</code></li> </ul>"},{"location":"reference/environment-variables/#secretary_service_api_key","title":"<code>SECRETARY_SERVICE_API_KEY</code>","text":"<ul> <li>Type: String</li> <li>Required: Yes (for production)</li> <li>Description: API key for authenticating API requests</li> <li>Example: <code>your-secret-api-key</code></li> </ul>"},{"location":"reference/environment-variables/#optional-variables","title":"Optional Variables","text":""},{"location":"reference/environment-variables/#mistral_api_key","title":"<code>MISTRAL_API_KEY</code>","text":"<ul> <li>Type: String</li> <li>Required: No (only for Mistral OCR)</li> <li>Description: Mistral API key for OCR processing</li> <li>Example: <code>mistral-...</code></li> </ul>"},{"location":"reference/environment-variables/#allow_localhost_no_auth","title":"<code>ALLOW_LOCALHOST_NO_AUTH</code>","text":"<ul> <li>Type: Boolean/String (<code>true</code>, <code>false</code>, <code>1</code>, <code>0</code>)</li> <li>Default: <code>false</code></li> <li>Description: Allow localhost access without authentication (development only)</li> <li>Example: <code>true</code> or <code>1</code></li> </ul>"},{"location":"reference/environment-variables/#allow_swagger_whitelist","title":"<code>ALLOW_SWAGGER_WHITELIST</code>","text":"<ul> <li>Type: String (comma/semicolon/space-separated IPs)</li> <li>Default: Empty</li> <li>Description: IP addresses or CIDR ranges allowed to access Swagger UI without authentication</li> <li>Example: <code>192.168.1.0/24,10.0.0.1</code> or <code>192.168.1.0/24;10.0.0.1</code></li> </ul>"},{"location":"reference/environment-variables/#auth_log_decisions","title":"<code>AUTH_LOG_DECISIONS</code>","text":"<ul> <li>Type: Boolean/String (<code>true</code>, <code>false</code>, <code>1</code>, <code>0</code>)</li> <li>Default: <code>false</code></li> <li>Description: Log authentication decisions for debugging</li> <li>Example: <code>true</code> or <code>1</code></li> </ul>"},{"location":"reference/environment-variables/#pythonhttpsverify","title":"<code>PYTHONHTTPSVERIFY</code>","text":"<ul> <li>Type: Boolean/String (<code>true</code>, <code>false</code>, <code>1</code>, <code>0</code>)</li> <li>Default: <code>true</code></li> <li>Description: Disable SSL certificate verification (Windows workaround)</li> <li>Example: <code>0</code> or <code>false</code> (not recommended for production)</li> </ul>"},{"location":"reference/environment-variables/#ytdlp_cookies_file","title":"<code>YTDLP_COOKIES_FILE</code>","text":"<ul> <li>Type: String (file path)</li> <li>Default: Empty</li> <li>Description: Path to cookies file for yt-dlp (for YouTube videos requiring authentication)</li> <li>Example: <code>/path/to/cookies.txt</code></li> </ul>"},{"location":"reference/environment-variables/#environment-file-env","title":"Environment File (.env)","text":"<p>Create a <code>.env</code> file in the project root:</p> <pre><code># Required\nOPENAI_API_KEY=sk-proj-your-key-here\nMONGODB_URI=mongodb://localhost:27017/\nSECRETARY_SERVICE_API_KEY=your-secret-api-key\n\n# Optional\nMISTRAL_API_KEY=mistral-your-key-here\nALLOW_LOCALHOST_NO_AUTH=true\nALLOW_SWAGGER_WHITELIST=192.168.1.0/24\nAUTH_LOG_DECISIONS=false\nPYTHONHTTPSVERIFY=1\nYTDLP_COOKIES_FILE=/path/to/cookies.txt\n</code></pre>"},{"location":"reference/environment-variables/#docker-environment-variables","title":"Docker Environment Variables","text":"<p>When using Docker, set environment variables in <code>docker-compose.yml</code>:</p> <pre><code>services:\n  secretary-services:\n    environment:\n      - OPENAI_API_KEY=${OPENAI_API_KEY}\n      - MONGODB_URI=mongodb://mongodb:27017/\n      - SECRETARY_SERVICE_API_KEY=${SECRETARY_SERVICE_API_KEY}\n      - ALLOW_LOCALHOST_NO_AUTH=true\n</code></pre>"},{"location":"reference/environment-variables/#security-considerations","title":"Security Considerations","text":""},{"location":"reference/environment-variables/#api-key-security","title":"API Key Security","text":"<ul> <li>Never commit API keys to version control</li> <li>Use <code>.env</code> file (not tracked in git)</li> <li>Use environment variables in production</li> <li>Rotate API keys regularly</li> </ul>"},{"location":"reference/environment-variables/#authentication","title":"Authentication","text":"<ul> <li>Production: Always set <code>SECRETARY_SERVICE_API_KEY</code></li> <li>Development: Can use <code>ALLOW_LOCALHOST_NO_AUTH=true</code> for local testing</li> <li>Swagger UI: Use <code>ALLOW_SWAGGER_WHITELIST</code> to restrict access</li> </ul>"},{"location":"reference/environment-variables/#ssltls","title":"SSL/TLS","text":"<ul> <li>Production: Keep <code>PYTHONHTTPSVERIFY=1</code> (default)</li> <li>Development: Can disable for testing (<code>PYTHONHTTPSVERIFY=0</code>)</li> </ul>"},{"location":"reference/environment-variables/#related-documentation","title":"Related Documentation","text":"<ul> <li>Configuration Reference - Configuration file options</li> <li>Security Guide - Security best practices</li> </ul>"},{"location":"reference/api/openapi/","title":"OpenAPI / Swagger Documentation","text":"<p>Interactive API documentation via Swagger UI.</p>"},{"location":"reference/api/openapi/#accessing-swagger-ui","title":"Accessing Swagger UI","text":"<p>The Swagger UI is available at:</p> <ul> <li>Local: <code>http://localhost:5001/api/doc</code></li> <li>Production: <code>https://commonsecretaryservices.bcommonslab.org/api/doc</code></li> </ul>"},{"location":"reference/api/openapi/#features","title":"Features","text":"<ul> <li>Interactive API Explorer: Test all endpoints directly from the browser</li> <li>Request/Response Examples: See example requests and responses for each endpoint</li> <li>Authentication: Enter your API key directly in the Swagger UI</li> <li>Schema Documentation: View detailed request/response schemas</li> <li>Try It Out: Execute API calls directly from the documentation</li> </ul>"},{"location":"reference/api/openapi/#using-swagger-ui","title":"Using Swagger UI","text":""},{"location":"reference/api/openapi/#1-access-the-swagger-ui","title":"1. Access the Swagger UI","text":"<p>Navigate to <code>/api/doc</code> in your browser.</p>"},{"location":"reference/api/openapi/#2-authenticate","title":"2. Authenticate","text":"<p>Click the \"Authorize\" button at the top of the page and enter your API key: - API Key: Your <code>SECRETARY_SERVICE_API_KEY</code> value - Format: Enter the key directly (no \"Bearer\" prefix needed)</p>"},{"location":"reference/api/openapi/#3-explore-endpoints","title":"3. Explore Endpoints","text":"<p>Browse endpoints by category: - Audio Processing - Video Processing - PDF Processing - ImageOCR - Transformer - Session Processing - Event Processing - Track Processing - Story Generation - Job Management</p>"},{"location":"reference/api/openapi/#4-test-endpoints","title":"4. Test Endpoints","text":"<ol> <li>Click on an endpoint to expand it</li> <li>Click \"Try it out\"</li> <li>Fill in the required parameters</li> <li>Click \"Execute\"</li> <li>View the response</li> </ol>"},{"location":"reference/api/openapi/#openapi-specification","title":"OpenAPI Specification","text":"<p>The OpenAPI specification (Swagger JSON) is available at:</p> <ul> <li><code>/api/swagger.json</code></li> </ul> <p>You can download this specification and use it with: - Postman - Insomnia - Other API clients - Code generation tools</p>"},{"location":"reference/api/openapi/#downloading-the-specification","title":"Downloading the Specification","text":"<pre><code>curl -X GET \"http://localhost:5001/api/swagger.json\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -o swagger.json\n</code></pre>"},{"location":"reference/api/openapi/#authentication-in-swagger-ui","title":"Authentication in Swagger UI","text":"<p>Swagger UI supports two authentication methods:</p> <ol> <li>API Key Header: <code>X-Secretary-Api-Key: &lt;token&gt;</code></li> <li>Bearer Token: <code>Authorization: Bearer &lt;token&gt;</code></li> </ol> <p>Both methods are configured in the Swagger UI authorization dialog.</p>"},{"location":"reference/api/openapi/#exempt-paths","title":"Exempt Paths","text":"<p>The following paths do not require authentication and can be accessed without an API key: - <code>/api/doc</code> - Swagger UI itself - <code>/api/swagger.json</code> - OpenAPI specification - <code>/api/health</code> - Health check endpoints</p>"},{"location":"reference/api/openapi/#ip-whitelist","title":"IP Whitelist","text":"<p>For Swagger UI access, you can configure an IP whitelist via the <code>ALLOW_SWAGGER_WHITELIST</code> environment variable:</p> <pre><code>ALLOW_SWAGGER_WHITELIST=192.168.1.0/24,10.0.0.1\n</code></pre> <p>This allows access to Swagger UI from specified IP addresses without authentication.</p>"},{"location":"reference/api/openapi/#localhost-access","title":"Localhost Access","text":"<p>For local development, you can allow localhost access without authentication:</p> <pre><code>ALLOW_LOCALHOST_NO_AUTH=true\n</code></pre> <p>This allows access from <code>127.0.0.1</code> and <code>localhost</code> without an API key.</p>"},{"location":"reference/api/openapi/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Overview - Complete API endpoint overview</li> <li>Endpoint Documentation - Detailed endpoint documentation</li> </ul>"},{"location":"reference/api/overview/","title":"API Reference Overview","text":"<p>Complete API reference for Common Secretary Services. All endpoints require authentication via API key unless otherwise noted.</p>"},{"location":"reference/api/overview/#authentication","title":"Authentication","text":"<p>All API requests require authentication via one of the following methods:</p> <ul> <li>Header: <code>Authorization: Bearer &lt;token&gt;</code></li> <li>Alternative Header: <code>X-Secretary-Api-Key: &lt;token&gt;</code></li> </ul> <p>The API key is configured via the <code>SECRETARY_SERVICE_API_KEY</code> environment variable.</p>"},{"location":"reference/api/overview/#exempt-paths","title":"Exempt Paths","text":"<p>The following paths do not require authentication: - <code>/api/doc</code> - Swagger UI documentation - <code>/api/swagger.json</code> - OpenAPI specification - <code>/api/health</code> - Health check endpoints</p>"},{"location":"reference/api/overview/#base-url","title":"Base URL","text":"<p>All endpoints are prefixed with <code>/api</code>. For example: - Production: <code>https://commonsecretaryservices.bcommonslab.org/api</code> - Local: <code>http://localhost:5001/api</code></p>"},{"location":"reference/api/overview/#interactive-documentation","title":"Interactive Documentation","text":"<p>The complete interactive API documentation is available via Swagger UI at: - <code>/api/doc</code> - Interactive API explorer</p>"},{"location":"reference/api/overview/#api-endpoints-by-category","title":"API Endpoints by Category","text":""},{"location":"reference/api/overview/#audio-processing","title":"Audio Processing","text":"<p>Namespace: <code>/api/audio</code></p> Method Endpoint Description POST <code>/api/audio/process</code> Process audio file with transcription and optional translation <p>See: Audio Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#video-processing","title":"Video Processing","text":"<p>Namespace: <code>/api/video</code></p> Method Endpoint Description POST <code>/api/video/process</code> Process video file with audio extraction and transcription POST <code>/api/video/youtube</code> Process YouTube video with download and transcription POST <code>/api/video/frames</code> Extract frames from video at specific timestamps <p>See: Video Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#pdf-processing","title":"PDF Processing","text":"<p>Namespace: <code>/api/pdf</code></p> Method Endpoint Description POST <code>/api/pdf/process</code> Process PDF file with text extraction and OCR POST <code>/api/pdf/job</code> Process PDF asynchronously as a job <p>See: PDF Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#image-ocr","title":"Image OCR","text":"<p>Namespace: <code>/api/imageocr</code></p> Method Endpoint Description POST <code>/api/imageocr/process</code> Process image file with OCR POST <code>/api/imageocr/process-url</code> Process image from URL with OCR <p>See: ImageOCR Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#text-transformation","title":"Text Transformation","text":"<p>Namespace: <code>/api/transformer</code></p> Method Endpoint Description POST <code>/api/transformer/text</code> Translate text between languages POST <code>/api/transformer/template</code> Transform text using template POST <code>/api/transformer/summarize</code> Summarize text POST <code>/api/transformer/html-to-markdown</code> Convert HTML to Markdown POST <code>/api/transformer/extract-tables</code> Extract tables from HTML <p>See: Transformer Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#session-processing","title":"Session Processing","text":"<p>Namespace: <code>/api/session</code></p> Method Endpoint Description POST <code>/api/session/process</code> Process session with URL and associated media POST <code>/api/session/process-async</code> Process session asynchronously with webhook GET <code>/api/session/cached</code> Retrieve cached sessions <p>See: Session Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#event-processing","title":"Event Processing","text":"<p>Namespace: <code>/api/events</code></p> Method Endpoint Description POST <code>/api/events/&lt;event_name&gt;/summary</code> Generate event summary <p>See: Event Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#track-processing","title":"Track Processing","text":"<p>Namespace: <code>/api/tracks</code></p> Method Endpoint Description POST <code>/api/tracks/&lt;track_name&gt;/summary</code> Generate track summary GET <code>/api/tracks/available</code> List all available tracks POST <code>/api/tracks/&lt;track_name&gt;/summarize_all</code> Summarize all tracks <p>See: Track Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#story-generation","title":"Story Generation","text":"<p>Namespace: <code>/api/story</code></p> Method Endpoint Description POST <code>/api/story/generate</code> Generate story from topic GET <code>/api/story/topics</code> List all available topics GET <code>/api/story/target-groups</code> List all available target groups <p>See: Story Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#job-management-secretary-jobs","title":"Job Management (Secretary Jobs)","text":"<p>Namespace: <code>/api/jobs</code></p> Method Endpoint Description POST <code>/api/jobs/</code> Create new job POST <code>/api/jobs/batch</code> Create batch of jobs GET <code>/api/jobs/&lt;job_id&gt;</code> Get job status and results GET <code>/api/jobs/batch/&lt;batch_id&gt;</code> Get batch status GET <code>/api/jobs/&lt;job_id&gt;/download-archive</code> Download job archive (ZIP) <p>See: Job Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#event-job-management-legacy","title":"Event Job Management (Legacy)","text":"<p>Namespace: <code>/api/event-job</code></p> Method Endpoint Description POST <code>/api/event-job/jobs</code> Create session job GET <code>/api/event-job/jobs/&lt;job_id&gt;</code> Get job details POST <code>/api/event-job/batches</code> Create batch GET <code>/api/event-job/batches/&lt;batch_id&gt;</code> Get batch details GET <code>/api/event-job/files/&lt;path&gt;</code> Download job file POST <code>/api/event-job/&lt;job_id&gt;/restart</code> Restart failed job GET <code>/api/event-job/batches/&lt;batch_id&gt;/archive</code> Download batch archive POST <code>/api/event-job/batches/&lt;batch_id&gt;/toggle-active</code> Toggle batch active status POST <code>/api/event-job/batches/fail-all</code> Fail all jobs in batch GET <code>/api/event-job/jobs/&lt;job_id&gt;/download-archive</code> Download job archive <p>See: Event Job Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#common-endpoints","title":"Common Endpoints","text":"<p>Namespace: <code>/api/common</code></p> Method Endpoint Description GET <code>/api/common/</code> API home endpoint POST <code>/api/common/notion</code> Process Notion blocks GET <code>/api/common/samples</code> List sample files GET <code>/api/common/samples/&lt;filename&gt;</code> Download sample file <p>See: Common Endpoints for detailed documentation.</p>"},{"location":"reference/api/overview/#root-endpoints","title":"Root Endpoints","text":"Method Endpoint Description GET <code>/api/</code> API welcome message"},{"location":"reference/api/overview/#response-format","title":"Response Format","text":"<p>All API responses follow a standardized format:</p> <pre><code>{\n  \"status\": \"success\" | \"error\",\n  \"request\": {\n    \"id\": \"process-id\",\n    \"timestamp\": \"2024-01-01T00:00:00Z\"\n  },\n  \"process\": {\n    \"duration_ms\": 1234,\n    \"llm_info\": {\n      \"total_tokens\": 1000,\n      \"total_cost\": 0.01,\n      \"requests\": [...]\n    }\n  },\n  \"data\": {\n    // Processor-specific data\n  },\n  \"error\": {\n    \"code\": \"ERROR_CODE\",\n    \"message\": \"Error message\",\n    \"details\": {}\n  }\n}\n</code></pre>"},{"location":"reference/api/overview/#error-handling","title":"Error Handling","text":"<p>Errors are returned with HTTP status codes:</p> <ul> <li><code>400</code> - Bad Request (validation errors)</li> <li><code>401</code> - Unauthorized (authentication required)</li> <li><code>403</code> - Forbidden (authentication failed)</li> <li><code>404</code> - Not Found (resource not found)</li> <li><code>500</code> - Internal Server Error (processing errors)</li> </ul> <p>Error responses include: - <code>code</code>: Error code identifier - <code>message</code>: Human-readable error message - <code>details</code>: Additional error information</p>"},{"location":"reference/api/overview/#rate-limiting","title":"Rate Limiting","text":"<p>Rate limiting is configured via <code>config.yaml</code>: - Default: 60 requests per minute per IP - Configurable via <code>rate_limiting.requests_per_minute</code></p>"},{"location":"reference/api/overview/#caching","title":"Caching","text":"<p>Most processors support caching: - Results are cached in MongoDB - Cache TTL is configurable per processor - Use <code>useCache=false</code> parameter to bypass cache</p>"},{"location":"reference/api/overview/#asynchronous-processing","title":"Asynchronous Processing","text":"<p>Some endpoints support asynchronous processing: - Jobs are created and processed in the background - Status can be queried via job endpoints - Webhooks can be configured for completion notifications</p>"},{"location":"reference/api/overview/#related-documentation","title":"Related Documentation","text":"<ul> <li>OpenAPI / Swagger - Interactive API documentation</li> <li>Data Models - Response data structures</li> <li>Configuration - Configuration options</li> </ul>"},{"location":"reference/api/endpoints/audio/","title":"Audio API Endpoints","text":"<p>Endpoints for audio file processing with transcription and optional translation.</p>"},{"location":"reference/api/endpoints/audio/#post-apiaudioprocess","title":"POST /api/audio/process","text":"<p>Process an audio file with transcription and optional template-based transformation.</p>"},{"location":"reference/api/endpoints/audio/#request","title":"Request","text":"<p>Content-Type: <code>multipart/form-data</code></p> <p>Parameters:</p> Parameter Type Required Default Description <code>file</code> File Yes - Audio file (MP3, WAV, M4A, FLAC, OGG, etc.) <code>source_language</code> String No <code>de</code> Source language (ISO 639-1 code, e.g., \"en\", \"de\") <code>target_language</code> String No <code>de</code> Target language for translation (ISO 639-1 code) <code>template</code> String No <code>\"\"</code> Optional template name for text transformation <code>useCache</code> Boolean No <code>true</code> Whether to use cache"},{"location":"reference/api/endpoints/audio/#supported-formats","title":"Supported Formats","text":"<ul> <li>FLAC, M4A, MP3, MP4, MPEG, MPGA, OGA, OGG, WAV, WEBM</li> </ul>"},{"location":"reference/api/endpoints/audio/#request-example","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/audio/process\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -F \"file=@audio.mp3\" \\\n  -F \"source_language=en\" \\\n  -F \"target_language=de\" \\\n  -F \"template=MeetingMinutes\" \\\n  -F \"useCache=true\"\n</code></pre>"},{"location":"reference/api/endpoints/audio/#response-success","title":"Response (Success)","text":"<p>Status Code: <code>200 OK</code></p> <pre><code>{\n  \"status\": \"success\",\n  \"request\": {\n    \"id\": \"process-id-123\",\n    \"timestamp\": \"2024-01-01T00:00:00Z\"\n  },\n  \"process\": {\n    \"duration_ms\": 5000,\n    \"llm_info\": {\n      \"total_tokens\": 1500,\n      \"total_cost\": 0.015,\n      \"requests\": [\n        {\n          \"model\": \"whisper-1\",\n          \"purpose\": \"transcription\",\n          \"tokens\": 1500,\n          \"duration_ms\": 4500\n        }\n      ]\n    }\n  },\n  \"data\": {\n    \"duration\": 120.5,\n    \"detected_language\": \"en\",\n    \"output_text\": \"Transcribed and transformed text...\",\n    \"original_text\": \"Original transcribed text...\",\n    \"translated_text\": \"Translated text...\",\n    \"llm_model\": \"whisper-1\",\n    \"translation_model\": \"gpt-4\",\n    \"token_count\": 1500,\n    \"segments\": [\n      {\n        \"id\": 0,\n        \"start\": 0.0,\n        \"end\": 10.5,\n        \"text\": \"First segment...\"\n      }\n    ],\n    \"process_id\": \"process-id-123\",\n    \"process_dir\": \"/path/to/process/dir\",\n    \"from_cache\": false\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/audio/#response-error","title":"Response (Error)","text":"<p>Status Code: <code>400 Bad Request</code></p> <pre><code>{\n  \"status\": \"error\",\n  \"error\": {\n    \"code\": \"INVALID_FORMAT\",\n    \"message\": \"The format 'xyz' is not supported. Supported formats: flac, m4a, mp3...\",\n    \"details\": {\n      \"error_type\": \"INVALID_FORMAT\",\n      \"supported_formats\": [\"flac\", \"m4a\", \"mp3\", ...]\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/audio/#processing-flow","title":"Processing Flow","text":"<ol> <li>Audio file is uploaded and validated</li> <li>File is segmented into manageable chunks (if large)</li> <li>Each segment is transcribed using OpenAI Whisper API</li> <li>Optional: Text is transformed using template (via TransformerProcessor)</li> <li>Optional: Text is translated to target language</li> <li>Results are aggregated and returned</li> </ol>"},{"location":"reference/api/endpoints/audio/#llm-tracking","title":"LLM Tracking","text":"<p>The response includes detailed LLM usage information: - Total tokens used - Total cost - Individual requests with model, purpose, tokens, duration</p>"},{"location":"reference/api/endpoints/audio/#caching","title":"Caching","text":"<p>Results are cached based on: - File hash - Source language - Target language - Template name</p> <p>Use <code>useCache=false</code> to bypass cache and force reprocessing.</p>"},{"location":"reference/api/endpoints/common/","title":"Common API Endpoints","text":"<p>General endpoints for common operations.</p>"},{"location":"reference/api/endpoints/common/#get-apicommon","title":"GET /api/common/","text":"<p>API home endpoint.</p>"},{"location":"reference/api/endpoints/common/#request-example","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/common/\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"reference/api/endpoints/common/#response","title":"Response","text":"<pre><code>{\n  \"message\": \"Welcome to Common Secretary Services API\"\n}\n</code></pre>"},{"location":"reference/api/endpoints/common/#post-apicommonnotion","title":"POST /api/common/notion","text":"<p>Process Notion blocks and create multilingual newsfeed entry.</p>"},{"location":"reference/api/endpoints/common/#request","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"blocks\": [\n    {\n      \"type\": \"paragraph\",\n      \"content\": \"Block content\"\n    }\n  ],\n  \"source_language\": \"en\",\n  \"target_language\": \"de\"\n}\n</code></pre>"},{"location":"reference/api/endpoints/common/#response-success","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"processed_blocks\": [...],\n    \"newsfeed_entry\": \"Multilingual newsfeed content...\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/common/#get-apicommonsamples","title":"GET /api/common/samples","text":"<p>List all available sample files.</p>"},{"location":"reference/api/endpoints/common/#request-example_1","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/common/samples\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"reference/api/endpoints/common/#response-success_1","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"samples\": [\n      {\n        \"filename\": \"sample_audio.mp3\",\n        \"size\": 1024000,\n        \"type\": \"audio\"\n      },\n      {\n        \"filename\": \"sample_video.mp4\",\n        \"size\": 5120000,\n        \"type\": \"video\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/common/#get-apicommonsamplesfilename","title":"GET /api/common/samples/{filename}","text":"<p>Download a specific sample file.</p>"},{"location":"reference/api/endpoints/common/#request-example_2","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/common/samples/sample_audio.mp3\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -o sample_audio.mp3\n</code></pre>"},{"location":"reference/api/endpoints/common/#response_1","title":"Response","text":"<p>Returns file as binary download.</p>"},{"location":"reference/api/endpoints/event-job/","title":"Event Job API Endpoints (Legacy)","text":"<p>Legacy endpoints for event job management. Consider using <code>/api/jobs/</code> endpoints instead.</p>"},{"location":"reference/api/endpoints/event-job/#post-apievent-jobjobs","title":"POST /api/event-job/jobs","text":"<p>Create a session job.</p>"},{"location":"reference/api/endpoints/event-job/#request","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"event\": \"Event Name\",\n  \"session\": \"Session Name\",\n  \"url\": \"https://example.com/session\",\n  \"filename\": \"session.md\",\n  \"track\": \"Track Name\",\n  \"source_language\": \"en\",\n  \"target_language\": \"de\"\n}\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#response-success","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"job_id\": \"job-id-123\",\n    \"status\": \"pending\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#get-apievent-jobjobsjob_id","title":"GET /api/event-job/jobs/{job_id}","text":"<p>Get job details.</p>"},{"location":"reference/api/endpoints/event-job/#response-success_1","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"job_id\": \"job-id-123\",\n    \"status\": \"completed\",\n    \"progress\": {\n      \"step\": \"completed\",\n      \"percent\": 100\n    },\n    \"results\": {\n      \"markdown_file\": \"/path/to/output.md\",\n      \"assets\": [...]\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#post-apievent-jobbatches","title":"POST /api/event-job/batches","text":"<p>Create a batch of jobs.</p>"},{"location":"reference/api/endpoints/event-job/#request_1","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"batch_name\": \"My Batch\",\n  \"jobs\": [\n    {\n      \"event\": \"Event 1\",\n      \"session\": \"Session 1\",\n      \"url\": \"https://example.com/session1\"\n    },\n    {\n      \"event\": \"Event 2\",\n      \"session\": \"Session 2\",\n      \"url\": \"https://example.com/session2\"\n    }\n  ]\n}\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#response-success_2","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"batch_id\": \"batch-id-123\",\n    \"batch_name\": \"My Batch\",\n    \"status\": \"pending\",\n    \"job_count\": 2\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#get-apievent-jobbatchesbatch_id","title":"GET /api/event-job/batches/{batch_id}","text":"<p>Get batch details.</p>"},{"location":"reference/api/endpoints/event-job/#response-success_3","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"batch_id\": \"batch-id-123\",\n    \"batch_name\": \"My Batch\",\n    \"status\": \"completed\",\n    \"job_count\": 2,\n    \"completed_count\": 2,\n    \"failed_count\": 0,\n    \"jobs\": [...]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#get-apievent-jobfilespath","title":"GET /api/event-job/files/{path}","text":"<p>Download a job file.</p>"},{"location":"reference/api/endpoints/event-job/#request-example","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/event-job/files/path/to/file.md\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -o file.md\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#response","title":"Response","text":"<p>Returns file as binary download.</p>"},{"location":"reference/api/endpoints/event-job/#post-apievent-jobjob_idrestart","title":"POST /api/event-job/{job_id}/restart","text":"<p>Restart a failed job.</p>"},{"location":"reference/api/endpoints/event-job/#request-example_1","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/event-job/job-id-123/restart\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#response-success_4","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"job_id\": \"job-id-123\",\n    \"status\": \"pending\",\n    \"message\": \"Job restarted\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#get-apievent-jobbatchesbatch_idarchive","title":"GET /api/event-job/batches/{batch_id}/archive","text":"<p>Download batch archive (ZIP).</p>"},{"location":"reference/api/endpoints/event-job/#request-example_2","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/event-job/batches/batch-id-123/archive\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -o batch.zip\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#response_1","title":"Response","text":"<p>Returns ZIP file as binary download.</p>"},{"location":"reference/api/endpoints/event-job/#post-apievent-jobbatchesbatch_idtoggle-active","title":"POST /api/event-job/batches/{batch_id}/toggle-active","text":"<p>Toggle batch active status.</p>"},{"location":"reference/api/endpoints/event-job/#request-example_3","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/event-job/batches/batch-id-123/toggle-active\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#response-success_5","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"batch_id\": \"batch-id-123\",\n    \"active\": false,\n    \"message\": \"Batch status toggled\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#post-apievent-jobbatchesfail-all","title":"POST /api/event-job/batches/fail-all","text":"<p>Fail all jobs in a batch.</p>"},{"location":"reference/api/endpoints/event-job/#request_2","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"batch_id\": \"batch-id-123\",\n  \"reason\": \"Manual failure\"\n}\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#response-success_6","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"batch_id\": \"batch-id-123\",\n    \"failed_count\": 2,\n    \"message\": \"All jobs failed\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#get-apievent-jobjobsjob_iddownload-archive","title":"GET /api/event-job/jobs/{job_id}/download-archive","text":"<p>Download job archive (ZIP).</p>"},{"location":"reference/api/endpoints/event-job/#request-example_4","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/event-job/jobs/job-id-123/download-archive\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -o archive.zip\n</code></pre>"},{"location":"reference/api/endpoints/event-job/#response_2","title":"Response","text":"<p>Returns ZIP file as binary download.</p>"},{"location":"reference/api/endpoints/event/","title":"Event API Endpoints","text":"<p>Endpoints for event processing and summarization.</p>"},{"location":"reference/api/endpoints/event/#post-apieventsevent_namesummary","title":"POST /api/events/{event_name}/summary","text":"<p>Generate event summary.</p>"},{"location":"reference/api/endpoints/event/#request","title":"Request","text":"<p>URL Parameters: - <code>event_name</code>: Name of the event</p> <p>Content-Type: <code>application/json</code></p> <p>Body (optional):</p> <pre><code>{\n  \"template\": \"EventSummary\",\n  \"target_language\": \"de\"\n}\n</code></pre>"},{"location":"reference/api/endpoints/event/#request-example","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/events/Conference2024/summary\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"template\": \"EventSummary\",\n    \"target_language\": \"de\"\n  }'\n</code></pre>"},{"location":"reference/api/endpoints/event/#response-success","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"event_name\": \"Conference2024\",\n    \"summary\": \"Event summary text...\",\n    \"tracks\": [\n      {\n        \"name\": \"Track 1\",\n        \"session_count\": 5,\n        \"summary\": \"Track summary...\"\n      }\n    ],\n    \"total_sessions\": 20\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/imageocr/","title":"ImageOCR API Endpoints","text":"<p>Endpoints for image OCR processing.</p>"},{"location":"reference/api/endpoints/imageocr/#post-apiimageocrprocess","title":"POST /api/imageocr/process","text":"<p>Process an image file with OCR.</p>"},{"location":"reference/api/endpoints/imageocr/#request","title":"Request","text":"<p>Content-Type: <code>multipart/form-data</code></p> <p>Parameters:</p> Parameter Type Required Default Description <code>file</code> File Yes - Image file (JPG, PNG, WebP, etc.) <code>template</code> String No <code>\"\"</code> Optional template for text transformation <code>use_cache</code> Boolean No <code>true</code> Whether to use cache"},{"location":"reference/api/endpoints/imageocr/#request-example","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/imageocr/process\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -F \"file=@image.jpg\" \\\n  -F \"template=DocumentExtraction\"\n</code></pre>"},{"location":"reference/api/endpoints/imageocr/#response-success","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"extracted_text\": \"Text extracted from image...\",\n    \"metadata\": {\n      \"width\": 1920,\n      \"height\": 1080,\n      \"format\": \"JPEG\",\n      \"dpi\": 300\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/imageocr/#post-apiimageocrprocess-url","title":"POST /api/imageocr/process-url","text":"<p>Process an image from URL with OCR.</p>"},{"location":"reference/api/endpoints/imageocr/#request_1","title":"Request","text":"<p>Content-Type: <code>multipart/form-data</code></p> <p>Parameters:</p> Parameter Type Required Default Description <code>url</code> String Yes - Image URL <code>template</code> String No <code>\"\"</code> Optional template <code>use_cache</code> Boolean No <code>true</code> Whether to use cache"},{"location":"reference/api/endpoints/imageocr/#request-example_1","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/imageocr/process-url\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -F \"url=https://example.com/image.jpg\" \\\n  -F \"template=DocumentExtraction\"\n</code></pre>"},{"location":"reference/api/endpoints/imageocr/#response-success_1","title":"Response (Success)","text":"<p>Same format as <code>/api/imageocr/process</code>.</p>"},{"location":"reference/api/endpoints/jobs/","title":"Job Management API Endpoints","text":"<p>Endpoints for managing asynchronous jobs (Secretary Job Worker).</p>"},{"location":"reference/api/endpoints/jobs/#post-apijobs","title":"POST /api/jobs/","text":"<p>Create a new job for asynchronous processing.</p>"},{"location":"reference/api/endpoints/jobs/#request","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"job_type\": \"pdf\",\n  \"parameters\": {\n    \"filename\": \"/path/to/file.pdf\",\n    \"extraction_method\": \"combined\",\n    \"template\": \"MeetingMinutes\",\n    \"use_cache\": true\n  },\n  \"user_id\": \"optional-user-id\"\n}\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#supported-job-types","title":"Supported Job Types","text":"<ul> <li><code>pdf</code>: PDF processing (see PDF Handler documentation)</li> <li><code>session</code>: Session processing</li> <li><code>transformer</code>: Template transformation</li> </ul>"},{"location":"reference/api/endpoints/jobs/#request-example","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/jobs/\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"job_type\": \"pdf\",\n    \"parameters\": {\n      \"filename\": \"/path/to/file.pdf\",\n      \"extraction_method\": \"combined\"\n    }\n  }'\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#response-success","title":"Response (Success)","text":"<p>Status Code: <code>200 OK</code></p> <pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"job_id\": \"job-id-123\",\n    \"job\": {\n      \"job_id\": \"job-id-123\",\n      \"job_type\": \"pdf\",\n      \"status\": \"pending\",\n      \"created_at\": \"2024-01-01T00:00:00Z\",\n      \"parameters\": {...}\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#post-apijobsbatch","title":"POST /api/jobs/batch","text":"<p>Create a batch of jobs for parallel processing.</p>"},{"location":"reference/api/endpoints/jobs/#request_1","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"batch_name\": \"My Batch\",\n  \"jobs\": [\n    {\n      \"job_type\": \"pdf\",\n      \"parameters\": {\n        \"filename\": \"/path/to/file1.pdf\"\n      }\n    },\n    {\n      \"job_type\": \"pdf\",\n      \"parameters\": {\n        \"filename\": \"/path/to/file2.pdf\"\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#response-success_1","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"batch_id\": \"batch-id-123\",\n    \"batch\": {\n      \"batch_id\": \"batch-id-123\",\n      \"batch_name\": \"My Batch\",\n      \"status\": \"pending\",\n      \"job_count\": 2,\n      \"jobs\": [...]\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#get-apijobsjob_id","title":"GET /api/jobs/{job_id}","text":"<p>Get job status and results.</p>"},{"location":"reference/api/endpoints/jobs/#request_2","title":"Request","text":"<p>URL Parameters: - <code>job_id</code>: Job identifier</p>"},{"location":"reference/api/endpoints/jobs/#request-example_1","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/jobs/job-id-123\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#response-success_2","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"job_id\": \"job-id-123\",\n    \"job_type\": \"pdf\",\n    \"status\": \"completed\",\n    \"created_at\": \"2024-01-01T00:00:00Z\",\n    \"updated_at\": \"2024-01-01T00:05:00Z\",\n    \"progress\": {\n      \"step\": \"completed\",\n      \"percent\": 100,\n      \"message\": \"Processing completed\"\n    },\n    \"results\": {\n      \"structured_data\": {\n        \"extracted_text\": \"...\",\n        \"metadata\": {...}\n      },\n      \"assets\": [\"/path/to/image1.jpg\"],\n      \"target_dir\": \"/path/to/results\"\n    },\n    \"logs\": [\n      {\n        \"timestamp\": \"2024-01-01T00:00:00Z\",\n        \"level\": \"info\",\n        \"message\": \"Job started\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#job-status-values","title":"Job Status Values","text":"<ul> <li><code>pending</code>: Job is waiting to be processed</li> <li><code>processing</code>: Job is currently being processed</li> <li><code>completed</code>: Job completed successfully</li> <li><code>failed</code>: Job failed with an error</li> </ul>"},{"location":"reference/api/endpoints/jobs/#get-apijobsbatchbatch_id","title":"GET /api/jobs/batch/{batch_id}","text":"<p>Get batch status and all jobs in the batch.</p>"},{"location":"reference/api/endpoints/jobs/#request-example_2","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/jobs/batch/batch-id-123\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#response-success_3","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"batch_id\": \"batch-id-123\",\n    \"batch_name\": \"My Batch\",\n    \"status\": \"completed\",\n    \"job_count\": 2,\n    \"completed_count\": 2,\n    \"failed_count\": 0,\n    \"jobs\": [\n      {\n        \"job_id\": \"job-1\",\n        \"status\": \"completed\"\n      },\n      {\n        \"job_id\": \"job-2\",\n        \"status\": \"completed\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#get-apijobsjob_iddownload-archive","title":"GET /api/jobs/{job_id}/download-archive","text":"<p>Download job archive (ZIP file) if available.</p>"},{"location":"reference/api/endpoints/jobs/#request-example_3","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/jobs/job-id-123/download-archive\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -o archive.zip\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#response","title":"Response","text":"<p>Returns ZIP file as binary download.</p>"},{"location":"reference/api/endpoints/jobs/#webhook-integration","title":"Webhook Integration","text":"<p>Jobs can be configured with webhooks for completion notifications.</p>"},{"location":"reference/api/endpoints/jobs/#webhook-configuration","title":"Webhook Configuration","text":"<p>Include <code>webhook</code> in job parameters:</p> <pre><code>{\n  \"job_type\": \"pdf\",\n  \"parameters\": {\n    \"filename\": \"/path/to/file.pdf\",\n    \"webhook\": {\n      \"url\": \"https://example.com/webhook\",\n      \"token\": \"webhook_auth_token\",\n      \"jobId\": \"client_job_id\"\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#webhook-payload","title":"Webhook Payload","text":"<p>When job completes, a POST request is sent to the webhook URL:</p> <pre><code>{\n  \"phase\": \"completed\",\n  \"message\": \"Processing completed\",\n  \"data\": {\n    \"extracted_text\": \"...\",\n    \"metadata\": {...}\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#progress-webhooks","title":"Progress Webhooks","text":"<p>Progress updates are sent during processing:</p> <pre><code>{\n  \"phase\": \"processing\",\n  \"progress\": 50,\n  \"message\": \"Extracting text from PDF...\",\n  \"process\": {\n    \"id\": \"job-id-123\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/jobs/#related-documentation","title":"Related Documentation","text":"<ul> <li>Secretary Job Worker - Detailed worker documentation</li> <li>Handlers - Handler documentation</li> </ul>"},{"location":"reference/api/endpoints/pdf/","title":"PDF API Endpoints","text":"<p>Endpoints for PDF file processing with text extraction and OCR.</p>"},{"location":"reference/api/endpoints/pdf/#post-apipdfprocess","title":"POST /api/pdf/process","text":"<p>Process a PDF file with text extraction and optional OCR.</p>"},{"location":"reference/api/endpoints/pdf/#request","title":"Request","text":"<p>Content-Type: <code>multipart/form-data</code></p> <p>Parameters:</p> Parameter Type Required Default Description <code>file</code> File Yes - PDF file <code>extraction_method</code> String No <code>native</code> Extraction method: <code>native</code>, <code>tesseract_ocr</code>, <code>openai_vision</code>, <code>combined</code> <code>template</code> String No <code>\"\"</code> Optional template for text transformation <code>context</code> JSON No <code>{}</code> Additional context for template <code>useCache</code> Boolean No <code>true</code> Whether to use cache <code>includeImages</code> Boolean No <code>false</code> Base64-kodiertes ZIP-Archiv mit generierten Bildern erstellen <code>page_start</code> Integer No - Start page (1-indexed) <code>page_end</code> Integer No - End page (1-indexed)"},{"location":"reference/api/endpoints/pdf/#extraction-methods","title":"Extraction Methods","text":"<ul> <li>native: Extract text directly from PDF structure (fastest)</li> <li>tesseract_ocr: Use Tesseract OCR for text extraction</li> <li>openai_vision: Use OpenAI Vision API for OCR</li> <li>combined: Try multiple methods and combine results</li> </ul> <p>Note: For Mistral OCR transformation with integrated images, use the dedicated endpoint <code>POST /api/pdf/process-mistral-ocr</code> instead.</p>"},{"location":"reference/api/endpoints/pdf/#request-example","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/pdf/process\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -F \"file=@document.pdf\" \\\n  -F \"extraction_method=combined\" \\\n  -F \"template=MeetingMinutes\" \\\n  -F \"includeImages=true\"\n</code></pre>"},{"location":"reference/api/endpoints/pdf/#response-success","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"extracted_text\": \"Full extracted text from PDF...\",\n    \"metadata\": {\n      \"page_count\": 10,\n      \"author\": \"Author Name\",\n      \"title\": \"Document Title\",\n      \"text_contents\": [\n        {\n          \"page\": 1,\n          \"text\": \"Page 1 text...\",\n          \"method\": \"native\"\n        }\n      ],\n      \"image_paths\": [\n        \"/path/to/page_1.jpg\",\n        \"/path/to/page_2.jpg\"\n      ]\n    },\n    \"images_archive_filename\": \"document_images.zip\",\n    \"images_archive_data\": \"base64_encoded_zip_data\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/pdf/#post-apipdfprocess-mistral-ocr","title":"POST /api/pdf/process-mistral-ocr","text":"<p>Process a PDF file with Mistral OCR transformation and parallel page image extraction.</p> <p>This endpoint is specifically designed for Mistral OCR transformation with integrated images. It runs two processes in parallel: 1. Mistral OCR Transformation: Converts PDF to Markdown with embedded images (recognized by Mistral OCR) 2. Page Image Extraction: Extracts PDF pages as images and returns them as a ZIP archive</p>"},{"location":"reference/api/endpoints/pdf/#request_1","title":"Request","text":"<p>Content-Type: <code>multipart/form-data</code></p> <p>Parameters:</p> Parameter Type Required Default Description <code>file</code> File Yes - PDF file <code>page_start</code> Integer No - Start page (1-indexed) <code>page_end</code> Integer No - End page (1-indexed, inclusive) <code>includeImages</code> Boolean No <code>true</code> Request Mistral OCR images as Base64 in response. Images are available in <code>data.mistral_ocr_raw.pages[*].images[*].image_base64</code>. <code>includePageImages</code> Boolean No <code>true</code> Extract PDF pages as images and return as ZIP archive. Runs in parallel to Mistral OCR transformation. <code>useCache</code> Boolean No <code>true</code> Whether to use cache <code>callback_url</code> String No - Absolute HTTPS URL for webhook callback <code>callback_token</code> String No - Per-job secret for webhook callback <code>jobId</code> String No - Unique job ID for callback <code>wait_ms</code> Integer No <code>0</code> Optional: Wait time in milliseconds for completion (only without callback_url)"},{"location":"reference/api/endpoints/pdf/#request-example_1","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/pdf/process-mistral-ocr\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -F \"file=@document.pdf\" \\\n  -F \"includeImages=true\" \\\n  -F \"includePageImages=true\" \\\n  -F \"page_start=1\" \\\n  -F \"page_end=10\"\n</code></pre>"},{"location":"reference/api/endpoints/pdf/#response-success_1","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"extracted_text\": \"--- Seite 1 ---\\n![img-0.jpeg](img-0.jpeg)\\n\\nText content...\",\n    \"metadata\": {\n      \"page_count\": 10,\n      \"file_name\": \"document.pdf\",\n      \"file_size\": 753504,\n      \"extraction_method\": \"mistral_ocr_with_pages\"\n    },\n    \"mistral_ocr_raw\": {\n      \"pages\": [\n        {\n          \"index\": 0,\n          \"markdown\": \"![img-0.jpeg](img-0.jpeg)\\n\\nText content...\",\n          \"images\": [\n            {\n              \"id\": \"img-0.jpeg\",\n              \"image_base64\": \"data:image/jpeg;base64,...\",\n              \"top_left_x\": 93,\n              \"top_left_y\": 221,\n              \"bottom_right_x\": 1577,\n              \"bottom_right_y\": 508\n            }\n          ]\n        }\n      ],\n      \"model\": \"mistral-ocr-latest\",\n      \"usage_info\": {\n        \"pages_processed\": 10,\n        \"doc_size_bytes\": 753504\n      }\n    },\n    \"pages_archive_filename\": \"pages.zip\",\n    \"pages_archive_data\": \"base64_encoded_zip_data\",\n    \"images_archive_data\": null,\n    \"images_archive_filename\": null\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/pdf/#response-structure","title":"Response Structure","text":"<p>The response contains two types of images:</p> <ol> <li>Mistral OCR Images (<code>data.mistral_ocr_raw.pages[*].images[*]</code>):</li> <li>Images recognized and extracted by Mistral OCR</li> <li>Embedded in the Markdown text</li> <li>Available as Base64-encoded data URLs</li> <li> <p>Include coordinates and annotations</p> </li> <li> <p>Page Images (<code>data.pages_archive_data</code>):</p> </li> <li>All PDF pages converted to images</li> <li>Packaged as a Base64-encoded ZIP archive</li> <li>Filename available in <code>data.pages_archive_filename</code></li> <li>Extracted in parallel to Mistral OCR processing</li> </ol>"},{"location":"reference/api/endpoints/pdf/#differences-to-apipdfprocess","title":"Differences to <code>/api/pdf/process</code>","text":"<ul> <li>Dedicated endpoint: Simplified interface specifically for Mistral OCR workflows</li> <li>Parallel processing: Page image extraction runs in parallel to OCR transformation</li> <li>Two image types: Returns both Mistral OCR images and page images</li> <li>No template support: Focused on OCR transformation only</li> <li>Simplified parameters: Fewer options, clearer purpose</li> </ul>"},{"location":"reference/api/endpoints/pdf/#use-cases","title":"Use Cases","text":"<ul> <li>Document digitization with full page images and OCR results</li> <li>Archival systems requiring both searchable text and page images</li> <li>Quality assurance workflows comparing OCR results with original pages</li> <li>Multi-format export (Markdown with embedded images + page images)</li> </ul>"},{"location":"reference/api/endpoints/pdf/#downloading-page-images-archive","title":"Downloading Page Images Archive","text":"<p>There are two ways to download the ZIP archive with PDF pages as images:</p>"},{"location":"reference/api/endpoints/pdf/#option-1-direct-from-response-base64","title":"Option 1: Direct from Response (Base64)","text":"<p>The <code>pages_archive_data</code> field in the response contains the ZIP file as a Base64-encoded string. You can decode it directly:</p> <pre><code>// Extract from response\nconst response = await fetch('/api/pdf/process-mistral-ocr', {...});\nconst data = await response.json();\n\nif (data.data.pages_archive_data) {\n  // Decode Base64 to binary\n  const binaryString = atob(data.data.pages_archive_data);\n  const bytes = new Uint8Array(binaryString.length);\n  for (let i = 0; i &lt; binaryString.length; i++) {\n    bytes[i] = binaryString.charCodeAt(i);\n  }\n\n  // Create blob and download\n  const blob = new Blob([bytes], { type: 'application/zip' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = data.data.pages_archive_filename || 'pages.zip';\n  a.click();\n  URL.revokeObjectURL(url);\n}\n</code></pre> <pre><code>import base64\n\n# Extract from response\nresponse_data = {...}  # Your API response\n\nif response_data.get('data', {}).get('pages_archive_data'):\n    # Decode Base64\n    archive_data = base64.b64decode(response_data['data']['pages_archive_data'])\n    filename = response_data['data'].get('pages_archive_filename', 'pages.zip')\n\n    # Save to file\n    with open(filename, 'wb') as f:\n        f.write(archive_data)\n</code></pre>"},{"location":"reference/api/endpoints/pdf/#option-2-download-endpoint-for-async-jobs","title":"Option 2: Download Endpoint (for Async Jobs)","text":"<p>If you're using async job processing (with <code>callback_url</code> or <code>wait_ms=0</code>), you can download the archive via a dedicated endpoint:</p> <p>Endpoint: <code>GET /api/pdf/jobs/{job_id}/download-pages-archive</code></p> <p>Example: <pre><code>curl -X GET \"http://localhost:5001/api/pdf/jobs/{job_id}/download-pages-archive\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -o pages.zip\n</code></pre></p> <p>Response: Binary ZIP file with <code>Content-Type: application/zip</code> and <code>Content-Disposition: attachment</code></p> <p>Status Codes: - <code>200</code>: Success - ZIP file returned - <code>202</code>: Processing - Job still running, try again later - <code>400</code>: No archive available (check if <code>includePageImages=true</code> was set) - <code>404</code>: Job not found - <code>500</code>: Server error</p> <p>Note: The download endpoint only works for jobs that were processed with <code>includePageImages=true</code>. The archive is stored in the job results and can be downloaded even after the initial response.</p>"},{"location":"reference/api/endpoints/pdf/#post-apipdfjob","title":"POST /api/pdf/job","text":"<p>Process PDF asynchronously as a job.</p>"},{"location":"reference/api/endpoints/pdf/#request_2","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"filename\": \"/path/to/file.pdf\",\n  \"extraction_method\": \"combined\",\n  \"template\": \"MeetingMinutes\",\n  \"use_cache\": true,\n  \"webhook\": {\n    \"url\": \"https://example.com/webhook\",\n    \"token\": \"webhook_token\",\n    \"jobId\": \"client_job_id\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/pdf/#response-success_2","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"job_id\": \"job-id-123\",\n    \"status\": \"pending\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/pdf/#job-status","title":"Job Status","text":"<p>Query job status via <code>/api/jobs/{job_id}</code>:</p> <pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"job_id\": \"job-id-123\",\n    \"status\": \"completed\",\n    \"progress\": {\n      \"step\": \"completed\",\n      \"percent\": 100,\n      \"message\": \"Processing completed\"\n    },\n    \"results\": {\n      \"structured_data\": {\n        \"extracted_text\": \"...\",\n        \"metadata\": {...}\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/session/","title":"Session API Endpoints","text":"<p>Endpoints for processing session information and associated media.</p>"},{"location":"reference/api/endpoints/session/#post-apisessionprocess","title":"POST /api/session/process","text":"<p>Process a session with URL and associated media.</p>"},{"location":"reference/api/endpoints/session/#request","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"event\": \"Event Name\",\n  \"session\": \"Session Name\",\n  \"url\": \"https://example.com/session-page\",\n  \"filename\": \"session_output.md\",\n  \"track\": \"Track Name\",\n  \"day\": \"2024-01-01\",\n  \"starttime\": \"10:00\",\n  \"endtime\": \"11:30\",\n  \"speakers\": [\"Speaker 1\", \"Speaker 2\"],\n  \"speakers_url\": [\"https://example.com/speaker1\", \"https://example.com/speaker2\"],\n  \"speakers_image_url\": [\"https://example.com/speaker1.jpg\"],\n  \"video_url\": \"https://example.com/video.mp4\",\n  \"attachments_url\": \"https://example.com/attachments.zip\",\n  \"source_language\": \"en\",\n  \"target_language\": \"de\",\n  \"template\": \"Session\",\n  \"create_archive\": true,\n  \"use_cache\": true\n}\n</code></pre>"},{"location":"reference/api/endpoints/session/#request-example","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/session/process\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"event\": \"Conference 2024\",\n    \"session\": \"Keynote\",\n    \"url\": \"https://example.com/session\",\n    \"filename\": \"keynote.md\",\n    \"track\": \"Main Track\"\n  }'\n</code></pre>"},{"location":"reference/api/endpoints/session/#response-success","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"output\": {\n      \"markdown_file\": \"/path/to/keynote.md\",\n      \"markdown_content\": \"# Session Content...\",\n      \"attachments\": [\"/path/to/video.mp4\", \"/path/to/slides.pdf\"],\n      \"video_transcript\": \"Transcribed video content...\",\n      \"attachments_text\": \"Extracted text from attachments...\",\n      \"target_dir\": \"/path/to/session/output\"\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/session/#post-apisessionprocess-async","title":"POST /api/session/process-async","text":"<p>Process session asynchronously with webhook callback.</p>"},{"location":"reference/api/endpoints/session/#request_1","title":"Request","text":"<p>Same as <code>/api/session/process</code>, but processing happens in background.</p>"},{"location":"reference/api/endpoints/session/#response-success_1","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"job_id\": \"job-id-123\",\n    \"status\": \"pending\",\n    \"message\": \"Session processing started\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/session/#webhook-callback","title":"Webhook Callback","text":"<p>When processing completes, a POST request is sent to the configured webhook URL:</p> <pre><code>{\n  \"phase\": \"completed\",\n  \"message\": \"Session processing completed\",\n  \"data\": {\n    \"markdown_file\": \"/path/to/output.md\",\n    \"attachments\": [...]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/session/#get-apisessioncached","title":"GET /api/session/cached","text":"<p>Retrieve all cached sessions.</p>"},{"location":"reference/api/endpoints/session/#request-example_1","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/session/cached\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"reference/api/endpoints/session/#response-success_2","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"sessions\": [\n      {\n        \"event\": \"Conference 2024\",\n        \"session\": \"Keynote\",\n        \"url\": \"https://example.com/session\",\n        \"cached_at\": \"2024-01-01T00:00:00Z\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/story/","title":"Story API Endpoints","text":"<p>Endpoints for story generation from sessions.</p>"},{"location":"reference/api/endpoints/story/#post-apistorygenerate","title":"POST /api/story/generate","text":"<p>Generate a story from a topic.</p>"},{"location":"reference/api/endpoints/story/#request","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"topic\": \"Topic Name\",\n  \"target_group\": \"General Public\",\n  \"target_language\": \"de\",\n  \"template\": \"StoryTemplate\"\n}\n</code></pre>"},{"location":"reference/api/endpoints/story/#request-example","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/story/generate\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"topic\": \"Climate Change\",\n    \"target_group\": \"General Public\",\n    \"target_language\": \"de\"\n  }'\n</code></pre>"},{"location":"reference/api/endpoints/story/#response-success","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"topic\": \"Climate Change\",\n    \"target_group\": \"General Public\",\n    \"story\": \"Generated story text...\",\n    \"sessions_used\": [\n      {\n        \"name\": \"Session 1\",\n        \"contribution\": \"Contributed information about...\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/story/#get-apistorytopics","title":"GET /api/story/topics","text":"<p>List all available topics.</p>"},{"location":"reference/api/endpoints/story/#request-example_1","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/story/topics\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"reference/api/endpoints/story/#response-success_1","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"topics\": [\n      {\n        \"name\": \"Climate Change\",\n        \"session_count\": 5\n      },\n      {\n        \"name\": \"Technology\",\n        \"session_count\": 3\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/story/#get-apistorytarget-groups","title":"GET /api/story/target-groups","text":"<p>List all available target groups.</p>"},{"location":"reference/api/endpoints/story/#request-example_2","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/story/target-groups\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"reference/api/endpoints/story/#response-success_2","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"target_groups\": [\n      \"General Public\",\n      \"Experts\",\n      \"Students\",\n      \"Policy Makers\"\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/track/","title":"Track API Endpoints","text":"<p>Endpoints for track processing and summarization.</p>"},{"location":"reference/api/endpoints/track/#post-apitrackstrack_namesummary","title":"POST /api/tracks/{track_name}/summary","text":"<p>Generate track summary.</p>"},{"location":"reference/api/endpoints/track/#request","title":"Request","text":"<p>URL Parameters: - <code>track_name</code>: Name of the track</p> <p>Content-Type: <code>application/json</code></p> <p>Body (optional):</p> <pre><code>{\n  \"template\": \"TrackSummary\",\n  \"target_language\": \"de\"\n}\n</code></pre>"},{"location":"reference/api/endpoints/track/#request-example","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/tracks/MainTrack/summary\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"template\": \"TrackSummary\"\n  }'\n</code></pre>"},{"location":"reference/api/endpoints/track/#response-success","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"track_name\": \"MainTrack\",\n    \"summary\": \"Track summary text...\",\n    \"sessions\": [\n      {\n        \"name\": \"Session 1\",\n        \"summary\": \"Session summary...\"\n      }\n    ],\n    \"session_count\": 5\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/track/#get-apitracksavailable","title":"GET /api/tracks/available","text":"<p>List all available tracks.</p>"},{"location":"reference/api/endpoints/track/#request-example_1","title":"Request Example","text":"<pre><code>curl -X GET \"http://localhost:5001/api/tracks/available\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\"\n</code></pre>"},{"location":"reference/api/endpoints/track/#response-success_1","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"tracks\": [\n      {\n        \"name\": \"MainTrack\",\n        \"session_count\": 5\n      },\n      {\n        \"name\": \"SideTrack\",\n        \"session_count\": 3\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/track/#post-apitrackstrack_namesummarize_all","title":"POST /api/tracks/{track_name}/summarize_all","text":"<p>Summarize all tracks.</p>"},{"location":"reference/api/endpoints/track/#request_1","title":"Request","text":"<p>URL Parameters: - <code>track_name</code>: Name of the track</p> <p>Content-Type: <code>application/json</code></p> <p>Body (optional):</p> <pre><code>{\n  \"template\": \"TrackSummary\",\n  \"target_language\": \"de\"\n}\n</code></pre>"},{"location":"reference/api/endpoints/track/#response-success_2","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"track_name\": \"MainTrack\",\n    \"summaries\": [\n      {\n        \"session\": \"Session 1\",\n        \"summary\": \"Summary...\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/","title":"Transformer API Endpoints","text":"<p>Endpoints for text transformation, translation, and template processing.</p>"},{"location":"reference/api/endpoints/transformer/#post-apitransformertext","title":"POST /api/transformer/text","text":"<p>Translate text between languages.</p>"},{"location":"reference/api/endpoints/transformer/#request","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"text\": \"Text to translate\",\n  \"source_language\": \"en\",\n  \"target_language\": \"de\",\n  \"use_cache\": true\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#request-example","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/transformer/text\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"text\": \"Hello, world!\",\n    \"source_language\": \"en\",\n    \"target_language\": \"de\"\n  }'\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#response-success","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"original_text\": \"Hello, world!\",\n    \"translated_text\": \"Hallo, Welt!\",\n    \"source_language\": \"en\",\n    \"target_language\": \"de\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#post-apitransformertemplate","title":"POST /api/transformer/template","text":"<p>Transform text using a template.</p>"},{"location":"reference/api/endpoints/transformer/#request_1","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"text\": \"Input text to transform\",\n  \"template\": \"MeetingMinutes\",\n  \"source_language\": \"en\",\n  \"target_language\": \"de\",\n  \"context\": {\n    \"meeting_date\": \"2024-01-01\",\n    \"participants\": [\"Alice\", \"Bob\"]\n  },\n  \"use_cache\": true\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#alternative-template-content","title":"Alternative: Template Content","text":"<p>Instead of template name, provide template content directly:</p> <pre><code>{\n  \"text\": \"Input text\",\n  \"template_content\": \"Extract: {summary}\\nParticipants: {participants}\",\n  \"additional_field_descriptions\": {\n    \"summary\": \"Brief summary of the meeting\",\n    \"participants\": \"List of participants\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#request-example_1","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/transformer/template\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"text\": \"Meeting notes...\",\n    \"template\": \"MeetingMinutes\",\n    \"source_language\": \"en\"\n  }'\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#response-success_1","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"original_text\": \"Meeting notes...\",\n    \"transformed_text\": \"Structured meeting minutes...\",\n    \"template_fields\": {\n      \"summary\": \"Meeting summary\",\n      \"participants\": [\"Alice\", \"Bob\"],\n      \"action_items\": [...]\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#post-apitransformersummarize","title":"POST /api/transformer/summarize","text":"<p>Summarize text.</p>"},{"location":"reference/api/endpoints/transformer/#request_2","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"text\": \"Long text to summarize...\",\n  \"max_length\": 200,\n  \"use_cache\": true\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#response-success_2","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"original_text\": \"Long text...\",\n    \"summary\": \"Brief summary...\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#post-apitransformerhtml-to-markdown","title":"POST /api/transformer/html-to-markdown","text":"<p>Convert HTML to Markdown.</p>"},{"location":"reference/api/endpoints/transformer/#request_3","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"html\": \"&lt;h1&gt;Title&lt;/h1&gt;&lt;p&gt;Content&lt;/p&gt;\",\n  \"use_cache\": true\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#response-success_3","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"html\": \"&lt;h1&gt;Title&lt;/h1&gt;...\",\n    \"markdown\": \"# Title\\n\\nContent\"\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#post-apitransformerextract-tables","title":"POST /api/transformer/extract-tables","text":"<p>Extract tables from HTML.</p>"},{"location":"reference/api/endpoints/transformer/#request_4","title":"Request","text":"<p>Content-Type: <code>application/json</code></p> <p>Body:</p> <pre><code>{\n  \"html\": \"&lt;table&gt;...&lt;/table&gt;\",\n  \"use_cache\": true\n}\n</code></pre>"},{"location":"reference/api/endpoints/transformer/#response-success_4","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"tables\": [\n      {\n        \"headers\": [\"Column 1\", \"Column 2\"],\n        \"rows\": [\n          [\"Value 1\", \"Value 2\"]\n        ]\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/video/","title":"Video API Endpoints","text":"<p>Endpoints for video file processing, YouTube video processing, and frame extraction.</p>"},{"location":"reference/api/endpoints/video/#post-apivideoprocess","title":"POST /api/video/process","text":"<p>Process a video file with audio extraction and transcription.</p>"},{"location":"reference/api/endpoints/video/#request","title":"Request","text":"<p>Content-Type: <code>multipart/form-data</code> or <code>application/json</code></p> <p>Parameters (Form Data):</p> Parameter Type Required Default Description <code>file</code> File No* - Video file (MP4, MOV, WebM, etc.) <code>url</code> String No* - Video URL (alternative to file upload) <code>source_language</code> String No <code>de</code> Source language for transcription <code>target_language</code> String No <code>de</code> Target language for translation <code>template</code> String No <code>\"\"</code> Optional template name <code>useCache</code> Boolean No <code>true</code> Whether to use cache <p>*Either <code>file</code> or <code>url</code> must be provided.</p>"},{"location":"reference/api/endpoints/video/#request-example-file-upload","title":"Request Example (File Upload)","text":"<pre><code>curl -X POST \"http://localhost:5001/api/video/process\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -F \"file=@video.mp4\" \\\n  -F \"source_language=en\" \\\n  -F \"target_language=de\"\n</code></pre>"},{"location":"reference/api/endpoints/video/#request-example-url","title":"Request Example (URL)","text":"<pre><code>curl -X POST \"http://localhost:5001/api/video/process\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"url\": \"https://example.com/video.mp4\",\n    \"source_language\": \"en\",\n    \"target_language\": \"de\"\n  }'\n</code></pre>"},{"location":"reference/api/endpoints/video/#response-success","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"duration\": 300.0,\n    \"transcription\": \"Transcribed text from video audio...\",\n    \"metadata\": {\n      \"resolution\": \"1920x1080\",\n      \"codec\": \"h264\",\n      \"fps\": 30\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/video/#post-apivideoyoutube","title":"POST /api/video/youtube","text":"<p>Process a YouTube video with download and transcription.</p>"},{"location":"reference/api/endpoints/video/#request_1","title":"Request","text":"<p>Content-Type: <code>multipart/form-data</code></p> <p>Parameters:</p> Parameter Type Required Default Description <code>url</code> String Yes - YouTube video URL <code>source_language</code> String No <code>de</code> Source language <code>target_language</code> String No <code>de</code> Target language <code>template</code> String No <code>\"\"</code> Optional template"},{"location":"reference/api/endpoints/video/#request-example","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/video/youtube\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -F \"url=https://www.youtube.com/watch?v=VIDEO_ID\" \\\n  -F \"source_language=en\"\n</code></pre>"},{"location":"reference/api/endpoints/video/#response-success_1","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"video_id\": \"VIDEO_ID\",\n    \"title\": \"Video Title\",\n    \"duration\": 600.0,\n    \"transcription\": \"Transcribed text...\",\n    \"metadata\": {\n      \"uploader\": \"Channel Name\",\n      \"views\": 10000,\n      \"description\": \"Video description...\"\n    }\n  }\n}\n</code></pre>"},{"location":"reference/api/endpoints/video/#post-apivideoframes","title":"POST /api/video/frames","text":"<p>Extract frames from a video at specific timestamps.</p>"},{"location":"reference/api/endpoints/video/#request_2","title":"Request","text":"<p>Content-Type: <code>multipart/form-data</code></p> <p>Parameters:</p> Parameter Type Required Default Description <code>file</code> File Yes - Video file <code>timestamps</code> String Yes - Comma-separated timestamps (e.g., \"10,30,60\") <code>interval</code> Integer No - Extract frame every N seconds"},{"location":"reference/api/endpoints/video/#request-example_1","title":"Request Example","text":"<pre><code>curl -X POST \"http://localhost:5001/api/video/frames\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -F \"file=@video.mp4\" \\\n  -F \"timestamps=10,30,60\"\n</code></pre>"},{"location":"reference/api/endpoints/video/#response-success_2","title":"Response (Success)","text":"<pre><code>{\n  \"status\": \"success\",\n  \"data\": {\n    \"frames\": [\n      {\n        \"timestamp\": 10.0,\n        \"path\": \"/path/to/frame_10.jpg\"\n      },\n      {\n        \"timestamp\": 30.0,\n        \"path\": \"/path/to/frame_30.jpg\"\n      }\n    ]\n  }\n}\n</code></pre>"},{"location":"reference/data-models/","title":"Data Models Reference","text":"<p>Complete documentation of all dataclasses and Pydantic models used throughout Common Secretary Services.</p>"},{"location":"reference/data-models/#overview","title":"Overview","text":"<p>All data models follow a consistent structure: - Type Safety: Strict type annotations with Python <code>typing</code> module - Validation: Field validation in <code>__post_init__</code> methods - Serialization: <code>to_dict()</code> and <code>from_dict()</code> methods for JSON conversion - Immutability: Many models use <code>frozen=True</code> for immutability - Slots: Performance optimization with <code>slots=True</code> where applicable</p>"},{"location":"reference/data-models/#model-categories","title":"Model Categories","text":""},{"location":"reference/data-models/#base-models","title":"Base Models","text":"<p>Fundamental models used by all processors:</p> <ul> <li>Base Models - BaseResponse, ErrorInfo, RequestInfo, ProcessInfo</li> </ul>"},{"location":"reference/data-models/#processor-specific-models","title":"Processor-Specific Models","text":"<p>Models for specific processors:</p> <ul> <li>Audio Models - AudioResponse, TranscriptionResult, TranscriptionSegment</li> <li>Video Models - VideoResponse, VideoProcessingResult, VideoSource</li> <li>PDF Models - PDFResponse, PDFMetadata, PDFProcessingResult</li> <li>ImageOCR Models - ImageOCRResponse, ImageOCRMetadata</li> <li>Transformer Models - TransformerResponse, TemplateField, TemplateFields</li> <li>Session Models - SessionResponse, SessionInput, SessionOutput, SessionData</li> <li>Event Models - EventResponse, EventInput, EventOutput, EventData</li> <li>Track Models - TrackResponse, TrackInput, TrackOutput, TrackData</li> <li>Story Models - StoryResponse, StoryProcessorInput, StoryProcessorOutput</li> <li>YouTube Models - YoutubeResponse, YoutubeMetadata, YoutubeProcessingResult</li> </ul>"},{"location":"reference/data-models/#system-models","title":"System Models","text":"<p>Models for system functionality:</p> <ul> <li>Job Models - Job, Batch, JobStatus, JobProgress, JobResults</li> <li>LLM Models - LLMInfo, LLMRequest, LLModel</li> <li>Metadata Models - MetadataResponse, ContentMetadata, TechnicalMetadata</li> <li>Translation Models - Translation</li> <li>Notion Models - NotionBlock, NotionPage, NotionResponse</li> </ul>"},{"location":"reference/data-models/#enums-and-types","title":"Enums and Types","text":"<ul> <li>Enums - ProcessorType, ProcessingStatus, OutputFormat, EventFormat, PublicationStatus, LanguageCode</li> </ul>"},{"location":"reference/data-models/#common-patterns","title":"Common Patterns","text":""},{"location":"reference/data-models/#response-format","title":"Response Format","text":"<p>All API responses follow this structure:</p> <pre><code>@dataclass(frozen=True)\nclass BaseResponse:\n    status: ProcessingStatus\n    request: RequestInfo\n    process: Optional[ProcessInfo]\n    error: Optional[ErrorInfo]\n    data: Any  # Processor-specific data\n</code></pre>"},{"location":"reference/data-models/#error-handling","title":"Error Handling","text":"<p>Errors are structured as:</p> <pre><code>@dataclass\nclass ErrorInfo:\n    code: str\n    message: str\n    details: Dict[str, Any]\n</code></pre>"},{"location":"reference/data-models/#process-tracking","title":"Process Tracking","text":"<p>Process information includes LLM tracking:</p> <pre><code>@dataclass\nclass ProcessInfo:\n    id: str\n    main_processor: str\n    started: str\n    completed: Optional[str]\n    duration: Optional[float]\n    llm_info: Optional[LLMInfo]  # LLM usage tracking\n    is_from_cache: bool\n    cache_key: Optional[str]\n</code></pre>"},{"location":"reference/data-models/#usage-examples","title":"Usage Examples","text":""},{"location":"reference/data-models/#creating-a-response","title":"Creating a Response","text":"<pre><code>from src.core.models.base import BaseResponse, RequestInfo, ProcessInfo\nfrom src.core.models.enums import ProcessingStatus\n\nresponse = BaseResponse(\n    status=ProcessingStatus.SUCCESS,\n    request=RequestInfo(\n        processor=\"audio\",\n        timestamp=\"2024-01-01T00:00:00Z\"\n    ),\n    process=ProcessInfo(\n        id=\"process-123\",\n        main_processor=\"audio\",\n        started=\"2024-01-01T00:00:00Z\"\n    ),\n    data={\"transcription\": \"...\"}\n)\n</code></pre>"},{"location":"reference/data-models/#serialization","title":"Serialization","text":"<pre><code># Convert to dictionary\nresponse_dict = response.to_dict()\n\n# Convert to JSON\nimport json\njson_str = json.dumps(response_dict)\n</code></pre>"},{"location":"reference/data-models/#deserialization","title":"Deserialization","text":"<pre><code># From dictionary\nresponse = BaseResponse.from_dict(response_dict)\n\n# From JSON\nresponse_dict = json.loads(json_str)\nresponse = BaseResponse.from_dict(response_dict)\n</code></pre>"},{"location":"reference/data-models/#related-documentation","title":"Related Documentation","text":"<ul> <li>API Reference - API endpoints using these models</li> <li>Configuration Reference - Configuration options</li> <li>Code Index - All documented modules</li> </ul>"},{"location":"reference/data-models/base/","title":"Base Models","text":"<p>Fundamental dataclasses used by all processors and API routes.</p>"},{"location":"reference/data-models/base/#baseresponse","title":"BaseResponse","text":"<p>Base class for all API responses with standardized format.</p>"},{"location":"reference/data-models/base/#fields","title":"Fields","text":"Field Type Description <code>status</code> <code>ProcessingStatus</code> Status of the processing (SUCCESS, ERROR, PENDING) <code>request</code> <code>RequestInfo</code> Information about the request <code>process</code> <code>Optional[ProcessInfo]</code> Information about the processing process <code>error</code> <code>Optional[ErrorInfo]</code> Error information (if status is ERROR) <code>data</code> <code>Any</code> Processor-specific data"},{"location":"reference/data-models/base/#example","title":"Example","text":"<pre><code>from src.core.models.base import BaseResponse, RequestInfo, ProcessInfo\nfrom src.core.models.enums import ProcessingStatus\n\nresponse = BaseResponse(\n    status=ProcessingStatus.SUCCESS,\n    request=RequestInfo(\n        processor=\"audio\",\n        timestamp=\"2024-01-01T00:00:00Z\"\n    ),\n    process=ProcessInfo(\n        id=\"process-123\",\n        main_processor=\"audio\",\n        started=\"2024-01-01T00:00:00Z\"\n    ),\n    data={\"transcription\": \"...\"}\n)\n</code></pre>"},{"location":"reference/data-models/base/#errorinfo","title":"ErrorInfo","text":"<p>Structured error information for API responses.</p>"},{"location":"reference/data-models/base/#fields_1","title":"Fields","text":"Field Type Description <code>code</code> <code>str</code> Error code identifier <code>message</code> <code>str</code> Human-readable error message <code>details</code> <code>Dict[str, Any]</code> Additional error details"},{"location":"reference/data-models/base/#example_1","title":"Example","text":"<pre><code>from src.core.models.base import ErrorInfo\n\nerror = ErrorInfo(\n    code=\"INVALID_FORMAT\",\n    message=\"The format 'xyz' is not supported\",\n    details={\"supported_formats\": [\"mp3\", \"wav\"]}\n)\n</code></pre>"},{"location":"reference/data-models/base/#requestinfo","title":"RequestInfo","text":"<p>Information about a processing request.</p>"},{"location":"reference/data-models/base/#fields_2","title":"Fields","text":"Field Type Description <code>processor</code> <code>str</code> Name of the processor <code>timestamp</code> <code>str</code> ISO 8601 timestamp of the request <code>parameters</code> <code>Dict[str, Any]</code> Request parameters"},{"location":"reference/data-models/base/#processinfo","title":"ProcessInfo","text":"<p>Information about a processing process, including LLM tracking.</p>"},{"location":"reference/data-models/base/#fields_3","title":"Fields","text":"Field Type Description <code>id</code> <code>str</code> Unique process identifier <code>main_processor</code> <code>str</code> Name of the main processor <code>started</code> <code>str</code> ISO 8601 timestamp when processing started <code>sub_processors</code> <code>List[str]</code> List of sub-processors used <code>completed</code> <code>Optional[str]</code> ISO 8601 timestamp when processing completed <code>duration</code> <code>Optional[float]</code> Processing duration in milliseconds <code>llm_info</code> <code>Optional[LLMInfo]</code> LLM usage tracking information <code>is_from_cache</code> <code>bool</code> Whether result was loaded from cache <code>cache_key</code> <code>Optional[str]</code> Cache key used"},{"location":"reference/data-models/base/#example_2","title":"Example","text":"<pre><code>from src.core.models.base import ProcessInfo\nfrom src.core.models.llm import LLMInfo, LLMRequest\n\nprocess_info = ProcessInfo(\n    id=\"process-123\",\n    main_processor=\"audio\",\n    started=\"2024-01-01T00:00:00Z\",\n    completed=\"2024-01-01T00:05:00Z\",\n    duration=300000.0,\n    llm_info=LLMInfo(requests=[\n        LLMRequest(\n            model=\"whisper-1\",\n            purpose=\"transcription\",\n            tokens=1500,\n            duration=4500.0,\n            processor=\"audio\"\n        )\n    ]),\n    is_from_cache=False\n)\n</code></pre>"},{"location":"reference/data-models/base/#processinglogger","title":"ProcessingLogger","text":"<p>Protocol for logger interface.</p>"},{"location":"reference/data-models/base/#methods","title":"Methods","text":"<ul> <li><code>debug(message: str, **kwargs: Any) -&gt; None</code></li> <li><code>info(message: str, **kwargs: Any) -&gt; None</code></li> <li><code>warning(message: str, **kwargs: Any) -&gt; None</code></li> <li><code>error(message: str, **kwargs: Any) -&gt; None</code></li> </ul>"},{"location":"reference/data-models/job/","title":"Job Models","text":"<p>Dataclasses for asynchronous job processing and batch management.</p>"},{"location":"reference/data-models/job/#jobstatus","title":"JobStatus","text":"<p>Enum for job status values.</p>"},{"location":"reference/data-models/job/#values","title":"Values","text":"<ul> <li><code>PENDING</code> - Job is waiting to be processed</li> <li><code>PROCESSING</code> - Job is currently being processed</li> <li><code>COMPLETED</code> - Job completed successfully</li> <li><code>FAILED</code> - Job failed with an error</li> </ul>"},{"location":"reference/data-models/job/#secretaryjob","title":"SecretaryJob","text":"<p>Main job model for asynchronous processing.</p>"},{"location":"reference/data-models/job/#fields","title":"Fields","text":"Field Type Description <code>job_id</code> <code>str</code> Unique job identifier <code>job_type</code> <code>str</code> Type of job (e.g., \"pdf\", \"session\", \"transformer\") <code>status</code> <code>JobStatus</code> Current status of the job <code>parameters</code> <code>Dict[str, Any]</code> Job parameters <code>created_at</code> <code>datetime</code> Creation timestamp <code>updated_at</code> <code>datetime</code> Last update timestamp <code>progress</code> <code>Optional[JobProgress]</code> Progress information <code>results</code> <code>Optional[Dict[str, Any]]</code> Processing results <code>error</code> <code>Optional[Dict[str, Any]]</code> Error information <code>logs</code> <code>List[LogEntry]</code> Log entries <code>access_control</code> <code>AccessControl</code> Access control settings"},{"location":"reference/data-models/job/#example","title":"Example","text":"<pre><code>from src.core.models.job_models import SecretaryJob, JobStatus, JobProgress\n\njob = SecretaryJob(\n    job_id=\"job-123\",\n    job_type=\"pdf\",\n    status=JobStatus.PROCESSING,\n    parameters={\n        \"filename\": \"/path/to/file.pdf\",\n        \"extraction_method\": \"combined\"\n    },\n    progress=JobProgress(\n        step=\"extracting_text\",\n        percent=50,\n        message=\"Extracting text from PDF...\"\n    )\n)\n</code></pre>"},{"location":"reference/data-models/job/#batchjob","title":"BatchJob","text":"<p>Batch job model for batch processing.</p>"},{"location":"reference/data-models/job/#fields_1","title":"Fields","text":"Field Type Description <code>batch_id</code> <code>str</code> Unique batch identifier <code>batch_name</code> <code>str</code> Name of the batch <code>status</code> <code>JobStatus</code> Current status of the batch <code>jobs</code> <code>List[SecretaryJob]</code> Jobs in the batch <code>created_at</code> <code>datetime</code> Creation timestamp <code>updated_at</code> <code>datetime</code> Last update timestamp <code>active</code> <code>bool</code> Whether batch is active"},{"location":"reference/data-models/job/#jobprogress","title":"JobProgress","text":"<p>Progress information for a job.</p>"},{"location":"reference/data-models/job/#fields_2","title":"Fields","text":"Field Type Description <code>step</code> <code>str</code> Current processing step <code>percent</code> <code>int</code> Progress percentage (0-100) <code>message</code> <code>Optional[str]</code> Progress message"},{"location":"reference/data-models/job/#logentry","title":"LogEntry","text":"<p>A log entry for a job.</p>"},{"location":"reference/data-models/job/#fields_3","title":"Fields","text":"Field Type Description <code>timestamp</code> <code>datetime</code> Log timestamp <code>level</code> <code>Literal[\"debug\", \"info\", \"warning\", \"error\", \"critical\"]</code> Log level <code>message</code> <code>str</code> Log message"},{"location":"reference/data-models/job/#accesscontrol","title":"AccessControl","text":"<p>Access control for an object.</p>"},{"location":"reference/data-models/job/#fields_4","title":"Fields","text":"Field Type Description <code>visibility</code> <code>AccessVisibility</code> Visibility (PRIVATE, PUBLIC) <code>read_access</code> <code>List[str]</code> List of user IDs with read access <code>write_access</code> <code>List[str]</code> List of user IDs with write access <code>admin_access</code> <code>List[str]</code> List of user IDs with admin access"},{"location":"reference/data-models/llm/","title":"LLM Models","text":"<p>Dataclasses for Language Model interactions and tracking.</p>"},{"location":"reference/data-models/llm/#llminfo","title":"LLMInfo","text":"<p>Central tracking class that collects all LLM requests.</p>"},{"location":"reference/data-models/llm/#fields","title":"Fields","text":"Field Type Description <code>requests</code> <code>List[LLMRequest]</code> List of all LLM requests"},{"location":"reference/data-models/llm/#properties","title":"Properties","text":"<ul> <li><code>requests_count: int</code> - Number of requests</li> <li><code>total_tokens: int</code> - Total number of tokens used</li> <li><code>total_duration: float</code> - Total duration in milliseconds</li> </ul>"},{"location":"reference/data-models/llm/#methods","title":"Methods","text":"<ul> <li><code>merge(other: LLMInfo) -&gt; LLMInfo</code> - Merge two LLMInfo objects</li> <li><code>add_request(request: Union[LLMRequest, List[LLMRequest]]) -&gt; LLMInfo</code> - Add request(s)</li> <li><code>to_dict() -&gt; Dict[str, Any]</code> - Convert to dictionary</li> </ul>"},{"location":"reference/data-models/llm/#example","title":"Example","text":"<pre><code>from src.core.models.llm import LLMInfo, LLMRequest\n\nllm_info = LLMInfo(requests=[\n    LLMRequest(\n        model=\"whisper-1\",\n        purpose=\"transcription\",\n        tokens=1500,\n        duration=4500.0,\n        processor=\"audio\"\n    ),\n    LLMRequest(\n        model=\"gpt-4\",\n        purpose=\"translation\",\n        tokens=2000,\n        duration=3000.0,\n        processor=\"transformer\"\n    )\n])\n\nprint(llm_info.total_tokens)  # 3500\nprint(llm_info.total_duration)  # 7500.0\n</code></pre>"},{"location":"reference/data-models/llm/#llmrequest","title":"LLMRequest","text":"<p>Detailed information about a single LLM request.</p>"},{"location":"reference/data-models/llm/#fields_1","title":"Fields","text":"Field Type Description <code>model</code> <code>str</code> Name of the model (e.g., \"whisper-1\", \"gpt-4\") <code>purpose</code> <code>str</code> Purpose of the request (e.g., \"transcription\", \"translation\") <code>tokens</code> <code>int</code> Number of tokens used <code>duration</code> <code>float</code> Processing duration in milliseconds <code>processor</code> <code>str</code> Name of the calling processor <code>timestamp</code> <code>str</code> ISO 8601 timestamp of the request"},{"location":"reference/data-models/llm/#example_1","title":"Example","text":"<pre><code>from src.core.models.llm import LLMRequest\n\nrequest = LLMRequest(\n    model=\"gpt-4\",\n    purpose=\"template_transformation\",\n    tokens=2500,\n    duration=5000.0,\n    processor=\"transformer\"\n)\n</code></pre>"},{"location":"reference/data-models/llm/#llmodel","title":"LLModel","text":"<p>Basic information about LLM usage.</p>"},{"location":"reference/data-models/llm/#fields_2","title":"Fields","text":"Field Type Description <code>model</code> <code>str</code> Name of the model <code>duration</code> <code>float</code> Processing duration in milliseconds <code>tokens</code> <code>int</code> Number of tokens processed <code>timestamp</code> <code>str</code> ISO 8601 timestamp"}]}
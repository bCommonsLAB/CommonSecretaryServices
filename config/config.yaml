cache:
  base_dir: ./cache
  cleanup_interval: 24
  max_age_days: 7
  mongodb:
    create_indexes: false
    enabled: true
    ttl_days: 30
generic_worker:
  active: true
  max_concurrent: 3
  poll_interval_sec: 5
llm_config:
  use_cases:
    chat_completion:
      provider: openrouter
      model: openrouter/google/gemini-2.5-flash
    embedding:
      model: voyage-3-large
      provider: voyageai
      dimensions: 2048
    image2text:
      provider: openai
      model: gpt-4o
    ocr_pdf:
      provider: mistral
      model: pixtral-large-latest
    transcription:
      provider: openai
      model: whisper-1
    text2image:
      provider: openrouter
      model: openai/dall-e-3
llm_providers:
  mistral:
    api_key: ${MISTRAL_API_KEY}
    available_models:
      chat_completion:
      - mistral-large-latest
      - mistral-medium-latest
      - mistral-small-latest
      - mistral-tiny
      - devstral-2-2512-free
      - pixtral-large-latest
      - pixtral-small-latest
      ocr_pdf:
      - pixtral-large-latest
      - pixtral-small-latest
    enabled: true
  ollama:
    api_key: ollama
    available_models:
      chat_completion:
      - llama3
      - llama3:8b
      - llama3:70b
      - mistral
      - codellama
      - phi3
      - gemma2
      - gpt-oss:20b
      image2text:
      - llava
      - bakllava
      - llava:13b
      ocr_pdf:
      - llava
      - bakllava
      - llava:13b
    base_url: http://localhost:11434/v1
    enabled: true
  openai:
    api_key: ${OPENAI_API_KEY}
    available_models:
      chat_completion:
      - gpt-4
      - gpt-4-turbo
      - gpt-4o
      - gpt-5.2
      - gpt-5.1
      - gpt-4.1
      - gpt-4.1-mini
      - gpt-3.5-turbo
      image2text:
      - gpt-4o
      - gpt-4-turbo
      - gpt-4-vision-preview
      ocr_pdf:
      - gpt-4o
      - gpt-4-turbo
      - gpt-4-vision-preview
      transcription:
      - whisper-1
    enabled: true
  openrouter:
    api_key: ${OPENROUTER_API_KEY}
    available_models:
      chat_completion:
      - openai/gpt-4
      - openai/gpt-4-turbo
      - openai/gpt-4o
      - openai/gpt-5.2
      - anthropic/claude-opus-4.5
      - anthropic/claude-sonnet-4.5
      - anthropic/claude-haiku-4.5
      - anthropic/claude-3-opus
      - anthropic/claude-3-sonnet
      - anthropic/claude-3-haiku
      - mistralai/mistral-large-latest
      - mistralai/mistral-medium-3.1
      - mistralai/devstral-2-2512-free
      - google/gemini-2.5-pro
      - google/gemini-1.5-pro
      - google/gemini-2.5-flash
      - google/gemini-2.0-flash-exp
      - google/gemini-pro-1.5
      - nvidia/nemotron-nano-12b-2-vl
      - allenai/olmo-3-32b-think
      - openai/gpt-oss-20b
      - openai/gpt-oss-120b
      - meta-llama/llama-3-70b-instruct
      - deepseek/deepseek-v3.2
      - x-ai/grok-4.1-fast
      image2text:
      - openai/gpt-4o
      - openai/gpt-4-turbo
      - openai/gpt-4-vision-preview
      - google/gemini-pro-vision
      ocr_pdf:
      - openai/gpt-4o
      - openai/gpt-4-turbo
      - openai/gpt-4-vision-preview
      - mistralai/pixtral-large-latest
      transcription:
      - openai/whisper-1
      text2image:
      - openai/dall-e-3
      - stability-ai/stable-diffusion-xl-base-1.0
      - black-forest-labs/flux-pro
      - black-forest-labs/flux-schnell
    enabled: true
  voyageai:
    api_key: ${VOYAGE_API_KEY}
    available_models:
      embedding:
      - voyage-3-large
      - voyage-3
      - voyage-2
      - voyage-lite-02
    enabled: true
logging:
  backup_count: 5
  file: logs/dev_detailed.log
  level: DEBUG
  max_log_entries: 1000
  max_size: 120000000
mongodb:
  connect_timeout_ms: 5000
  max_pool_size: 50
  uri: ${MONGODB_URI}
processors:
  audio:
    batch_size: 5
    cache:
      collection_name: audio_cache
      enabled: true
      ttl_days: 30
    cache_dir: cache/audio
    export_format: mp3
    max_file_size: 200000000
    max_segments: 100
    segment_duration: 300
    temp_file_suffix: .mp3
  event:
    base_dir: sessions
    cache:
      collection_name: event_cache
      enabled: true
      ttl_days: 30
    cache_dir: cache/event
    max_attachment_size: 100
    max_concurrent_tasks: 5
    max_video_size: 1000
    request_timeout: 30
  imageocr:
    cache:
      collection_name: ocr_cache
      enabled: true
      ttl_days: 30
    cache_dir: cache/imageocr
    max_file_size: 10485760
    max_resolution: 4096
  metadata:
    cache:
      collection_name: metadata_cache
      enabled: true
      ttl_days: 30
    cache_dir: cache/metadata
    extract_advanced_metadata: true
    max_file_size: 50000000
    supported_files:
    - image:
      - jpg
      - jpeg
      - png
      - gif
      - bmp
      - webp
      - tiff
    - document:
      - pdf
      - docx
      - doc
      - xlsx
      - xls
      - pptx
      - ppt
      - txt
      - md
    - audio:
      - mp3
      - wav
      - ogg
      - m4a
      - flac
    - video:
      - mp4
      - webm
      - avi
      - mov
      - mkv
    timeout_seconds: 30
  obsidian:
    base_dir: sessions
    cache:
      collection_name: obsidian_cache
      enabled: true
      ttl_days: 30
  rag:
    voyage_api_key: ${VOYAGE_API_KEY}
    embedding_model: voyage-3-large
    embedding_dimensions: 2048
    chunk_size: 1000
    chunk_overlap: 200
    default_retrieval_limit: 5
    mongodb:
      collection: rag_embeddings
      vector_index: vector_index
    cache_dir: cache/obsidian
    max_concurrent_tasks: 5
  openai:
    api_key: ${OPENAI_API_KEY}
    image_quality: 85
    max_image_size: 2048
    vision_model: gpt-4o
  pdf:
    cache:
      collection_name: pdf_cache
      enabled: true
      ttl_days: 30
    cache_dir: cache/pdf
    images:
      main:
        format: jpg
        max_size: 1280
        quality: 80
      preview:
        format: jpg
        max_size: 360
        quality: 80
    max_file_size: 150000000
    max_pages: 500
  track:
    base_dir: sessions
    cache:
      collection_name: track_cache
      enabled: true
      ttl_days: 30
    cache_dir: cache/track
    max_concurrent_tasks: 5
  transformer:
    cache:
      collection_name: transformer_cache
      enabled: true
      ttl_days: 14
    cache_dir: cache/transformer
    max_concurrent_requests: 10
    max_tokens: 4000
    model: gpt-4.1-mini
    temperature: 0.1
    templates_dir: resources/templates
    timeout_seconds: 120
  video:
    cache:
      collection_name: video_cache
      enabled: true
      ttl_days: 30
    cache_dir: cache/video
  youtube:
    cache:
      collection_name: youtube_cache
      enabled: true
      ttl_days: 30
    cache_dir: cache/youtube
    max_duration: 15000
    max_file_size: 120000000
    ydl_opts:
      format: bestaudio/best
      nocheckcertificate: true
      postprocessors:
      - key: FFmpegExtractAudio
        preferredcodec: mp3
rate_limiting:
  enabled: true
  requests_per_minute: 60
server:
  api_base_url: http://localhost:5001
  debug: true
  host: 127.0.0.1
  port: 5000
session_worker:
  active: false
  max_concurrent: 3
  poll_interval_sec: 5
